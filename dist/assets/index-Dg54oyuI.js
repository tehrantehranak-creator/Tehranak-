(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function om(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rm={exports:{}},ka={},sm={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=Symbol.for("react.element"),Nv=Symbol.for("react.portal"),Iv=Symbol.for("react.fragment"),Pv=Symbol.for("react.strict_mode"),Av=Symbol.for("react.profiler"),bv=Symbol.for("react.provider"),Mv=Symbol.for("react.context"),Rv=Symbol.for("react.forward_ref"),Lv=Symbol.for("react.suspense"),Dv=Symbol.for("react.memo"),zv=Symbol.for("react.lazy"),mf=Symbol.iterator;function Fv(e){return e===null||typeof e!="object"?null:(e=mf&&e[mf]||e["@@iterator"],typeof e=="function"?e:null)}var am={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lm=Object.assign,um={};function Lo(e,t,n){this.props=e,this.context=t,this.refs=um,this.updater=n||am}Lo.prototype.isReactComponent={};Lo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dm(){}dm.prototype=Lo.prototype;function td(e,t,n){this.props=e,this.context=t,this.refs=um,this.updater=n||am}var nd=td.prototype=new dm;nd.constructor=td;lm(nd,Lo.prototype);nd.isPureReactComponent=!0;var gf=Array.isArray,cm=Object.prototype.hasOwnProperty,id={current:null},fm={key:!0,ref:!0,__self:!0,__source:!0};function hm(e,t,n){var i,r={},s=null,u=null;if(t!=null)for(i in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(s=""+t.key),t)cm.call(t,i)&&!fm.hasOwnProperty(i)&&(r[i]=t[i]);var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){for(var p=Array(f),m=0;m<f;m++)p[m]=arguments[m+2];r.children=p}if(e&&e.defaultProps)for(i in f=e.defaultProps,f)r[i]===void 0&&(r[i]=f[i]);return{$$typeof:Gr,type:e,key:s,ref:u,props:r,_owner:id.current}}function Uv(e,t){return{$$typeof:Gr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function od(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gr}function Vv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yf=/\/+/g;function Sl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vv(""+e.key):t.toString(36)}function Ms(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Gr:case Nv:u=!0}}if(u)return u=e,r=r(u),e=i===""?"."+Sl(u,0):i,gf(r)?(n="",e!=null&&(n=e.replace(yf,"$&/")+"/"),Ms(r,t,n,"",function(m){return m})):r!=null&&(od(r)&&(r=Uv(r,n+(!r.key||u&&u.key===r.key?"":(""+r.key).replace(yf,"$&/")+"/")+e)),t.push(r)),1;if(u=0,i=i===""?".":i+":",gf(e))for(var f=0;f<e.length;f++){s=e[f];var p=i+Sl(s,f);u+=Ms(s,t,n,p,r)}else if(p=Fv(e),typeof p=="function")for(e=p.call(e),f=0;!(s=e.next()).done;)s=s.value,p=i+Sl(s,f++),u+=Ms(s,t,n,p,r);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function fs(e,t,n){if(e==null)return e;var i=[],r=0;return Ms(e,i,"","",function(s){return t.call(n,s,r++)}),i}function Bv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yt={current:null},Rs={transition:null},Hv={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:Rs,ReactCurrentOwner:id};function pm(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:fs,forEach:function(e,t,n){fs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return fs(e,function(){t++}),t},toArray:function(e){return fs(e,function(t){return t})||[]},only:function(e){if(!od(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=Lo;me.Fragment=Iv;me.Profiler=Av;me.PureComponent=td;me.StrictMode=Pv;me.Suspense=Lv;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hv;me.act=pm;me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=lm({},e.props),r=e.key,s=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,u=id.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(p in t)cm.call(t,p)&&!fm.hasOwnProperty(p)&&(i[p]=t[p]===void 0&&f!==void 0?f[p]:t[p])}var p=arguments.length-2;if(p===1)i.children=n;else if(1<p){f=Array(p);for(var m=0;m<p;m++)f[m]=arguments[m+2];i.children=f}return{$$typeof:Gr,type:e.type,key:r,ref:s,props:i,_owner:u}};me.createContext=function(e){return e={$$typeof:Mv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bv,_context:e},e.Consumer=e};me.createElement=hm;me.createFactory=function(e){var t=hm.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:Rv,render:e}};me.isValidElement=od;me.lazy=function(e){return{$$typeof:zv,_payload:{_status:-1,_result:e},_init:Bv}};me.memo=function(e,t){return{$$typeof:Dv,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=Rs.transition;Rs.transition={};try{e()}finally{Rs.transition=t}};me.unstable_act=pm;me.useCallback=function(e,t){return yt.current.useCallback(e,t)};me.useContext=function(e){return yt.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return yt.current.useDeferredValue(e)};me.useEffect=function(e,t){return yt.current.useEffect(e,t)};me.useId=function(){return yt.current.useId()};me.useImperativeHandle=function(e,t,n){return yt.current.useImperativeHandle(e,t,n)};me.useInsertionEffect=function(e,t){return yt.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return yt.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return yt.current.useMemo(e,t)};me.useReducer=function(e,t,n){return yt.current.useReducer(e,t,n)};me.useRef=function(e){return yt.current.useRef(e)};me.useState=function(e){return yt.current.useState(e)};me.useSyncExternalStore=function(e,t,n){return yt.current.useSyncExternalStore(e,t,n)};me.useTransition=function(){return yt.current.useTransition()};me.version="18.3.1";sm.exports=me;var D=sm.exports;const mm=om(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv=D,Ov=Symbol.for("react.element"),qv=Symbol.for("react.fragment"),jv=Object.prototype.hasOwnProperty,Zv=Gv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wv={key:!0,ref:!0,__self:!0,__source:!0};function gm(e,t,n){var i,r={},s=null,u=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(u=t.ref);for(i in t)jv.call(t,i)&&!Wv.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:Ov,type:e,key:s,ref:u,props:r,_owner:Zv.current}}ka.Fragment=qv;ka.jsx=gm;ka.jsxs=gm;rm.exports=ka;var h=rm.exports,$l={},ym={exports:{}},Mt={},vm={exports:{}},_m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,K){var U=b.length;b.push(K);e:for(;0<U;){var ne=U-1>>>1,re=b[ne];if(0<r(re,K))b[ne]=K,b[U]=re,U=ne;else break e}}function n(b){return b.length===0?null:b[0]}function i(b){if(b.length===0)return null;var K=b[0],U=b.pop();if(U!==K){b[0]=U;e:for(var ne=0,re=b.length,Ce=re>>>1;ne<Ce;){var he=2*(ne+1)-1,ue=b[he],V=he+1,fe=b[V];if(0>r(ue,U))V<re&&0>r(fe,ue)?(b[ne]=fe,b[V]=U,ne=V):(b[ne]=ue,b[he]=U,ne=he);else if(V<re&&0>r(fe,U))b[ne]=fe,b[V]=U,ne=V;else break e}}return K}function r(b,K){var U=b.sortIndex-K.sortIndex;return U!==0?U:b.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var p=[],m=[],y=1,v=null,_=3,S=!1,k=!1,I=!1,M=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(b){for(var K=n(m);K!==null;){if(K.callback===null)i(m);else if(K.startTime<=b)i(m),K.sortIndex=K.expirationTime,t(p,K);else break;K=n(m)}}function P(b){if(I=!1,E(b),!k)if(n(p)!==null)k=!0,ge(z);else{var K=n(m);K!==null&&Ie(P,K.startTime-b)}}function z(b,K){k=!1,I&&(I=!1,C(Z),Z=-1),S=!0;var U=_;try{for(E(K),v=n(p);v!==null&&(!(v.expirationTime>K)||b&&!$());){var ne=v.callback;if(typeof ne=="function"){v.callback=null,_=v.priorityLevel;var re=ne(v.expirationTime<=K);K=e.unstable_now(),typeof re=="function"?v.callback=re:v===n(p)&&i(p),E(K)}else i(p);v=n(p)}if(v!==null)var Ce=!0;else{var he=n(m);he!==null&&Ie(P,he.startTime-K),Ce=!1}return Ce}finally{v=null,_=U,S=!1}}var F=!1,H=null,Z=-1,W=5,q=-1;function $(){return!(e.unstable_now()-q<W)}function Q(){if(H!==null){var b=e.unstable_now();q=b;var K=!0;try{K=H(!0,b)}finally{K?ve():(F=!1,H=null)}}else F=!1}var ve;if(typeof T=="function")ve=function(){T(Q)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Fe=Ne.port2;Ne.port1.onmessage=Q,ve=function(){Fe.postMessage(null)}}else ve=function(){M(Q,0)};function ge(b){H=b,F||(F=!0,ve())}function Ie(b,K){Z=M(function(){b(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){k||S||(k=!0,ge(z))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(b){switch(_){case 1:case 2:case 3:var K=3;break;default:K=_}var U=_;_=K;try{return b()}finally{_=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,K){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var U=_;_=b;try{return K()}finally{_=U}},e.unstable_scheduleCallback=function(b,K,U){var ne=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ne+U:ne):U=ne,b){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=U+re,b={id:y++,callback:K,priorityLevel:b,startTime:U,expirationTime:re,sortIndex:-1},U>ne?(b.sortIndex=U,t(m,b),n(p)===null&&b===n(m)&&(I?(C(Z),Z=-1):I=!0,Ie(P,U-ne))):(b.sortIndex=re,t(p,b),k||S||(k=!0,ge(z))),b},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(b){var K=_;return function(){var U=_;_=K;try{return b.apply(this,arguments)}finally{_=U}}}})(_m);vm.exports=_m;var Jv=vm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v=D,bt=Jv;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xm=new Set,wr={};function Bi(e,t){No(e,t),No(e+"Capture",t)}function No(e,t){for(wr[e]=t,e=0;e<t.length;e++)xm.add(t[e])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kl=Object.prototype.hasOwnProperty,Kv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vf={},_f={};function Yv(e){return Kl.call(_f,e)?!0:Kl.call(vf,e)?!1:Kv.test(e)?_f[e]=!0:(vf[e]=!0,!1)}function Xv(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qv(e,t,n,i){if(t===null||typeof t>"u"||Xv(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vt(e,t,n,i,r,s,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=u}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var rd=/[\-:]([a-z])/g;function sd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rd,sd);at[t]=new vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rd,sd);at[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rd,sd);at[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new vt(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ad(e,t,n,i){var r=at.hasOwnProperty(t)?at[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qv(t,n,r,i)&&(n=null),i||r===null?Yv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,i=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var zn=$v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hs=Symbol.for("react.element"),oo=Symbol.for("react.portal"),ro=Symbol.for("react.fragment"),ld=Symbol.for("react.strict_mode"),Yl=Symbol.for("react.profiler"),wm=Symbol.for("react.provider"),Sm=Symbol.for("react.context"),ud=Symbol.for("react.forward_ref"),Xl=Symbol.for("react.suspense"),Ql=Symbol.for("react.suspense_list"),dd=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),Tm=Symbol.for("react.offscreen"),xf=Symbol.iterator;function Xo(e){return e===null||typeof e!="object"?null:(e=xf&&e[xf]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Object.assign,Tl;function ar(e){if(Tl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tl=t&&t[1]||""}return`
`+Tl+e}var Cl=!1;function El(e,t){if(!e||Cl)return"";Cl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var i=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){i=m}e.call(t.prototype)}else{try{throw Error()}catch(m){i=m}e()}}catch(m){if(m&&i&&typeof m.stack=="string"){for(var r=m.stack.split(`
`),s=i.stack.split(`
`),u=r.length-1,f=s.length-1;1<=u&&0<=f&&r[u]!==s[f];)f--;for(;1<=u&&0<=f;u--,f--)if(r[u]!==s[f]){if(u!==1||f!==1)do if(u--,f--,0>f||r[u]!==s[f]){var p=`
`+r[u].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=u&&0<=f);break}}}finally{Cl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ar(e):""}function e_(e){switch(e.tag){case 5:return ar(e.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 2:case 15:return e=El(e.type,!1),e;case 11:return e=El(e.type.render,!1),e;case 1:return e=El(e.type,!0),e;default:return""}}function eu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ro:return"Fragment";case oo:return"Portal";case Yl:return"Profiler";case ld:return"StrictMode";case Xl:return"Suspense";case Ql:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sm:return(e.displayName||"Context")+".Consumer";case wm:return(e._context.displayName||"Context")+".Provider";case ud:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dd:return t=e.displayName||null,t!==null?t:eu(e.type)||"Memo";case Wn:t=e._payload,e=e._init;try{return eu(e(t))}catch{}}return null}function t_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eu(t);case 8:return t===ld?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function di(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n_(e){var t=Cm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(u){i=""+u,s.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(u){i=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ps(e){e._valueTracker||(e._valueTracker=n_(e))}function Em(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Cm(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Ws(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tu(e,t){var n=t.checked;return Ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wf(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=di(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function km(e,t){t=t.checked,t!=null&&ad(e,"checked",t,!1)}function nu(e,t){km(e,t);var n=di(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?iu(e,t.type,n):t.hasOwnProperty("defaultValue")&&iu(e,t.type,di(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function iu(e,t,n){(t!=="number"||Ws(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var lr=Array.isArray;function vo(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+di(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function ou(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return Ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(lr(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:di(n)}}function Nm(e,t){var n=di(t.value),i=di(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Cf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Im(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ru(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Im(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ms,Pm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ms=ms||document.createElement("div"),ms.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ms.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i_=["Webkit","ms","Moz","O"];Object.keys(cr).forEach(function(e){i_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cr[t]=cr[e]})});function Am(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cr.hasOwnProperty(e)&&cr[e]?(""+t).trim():t+"px"}function bm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=Am(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}var o_=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function su(e,t){if(t){if(o_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function au(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=null;function cd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uu=null,_o=null,xo=null;function Ef(e){if(e=jr(e)){if(typeof uu!="function")throw Error(j(280));var t=e.stateNode;t&&(t=ba(t),uu(e.stateNode,e.type,t))}}function Mm(e){_o?xo?xo.push(e):xo=[e]:_o=e}function Rm(){if(_o){var e=_o,t=xo;if(xo=_o=null,Ef(e),t)for(e=0;e<t.length;e++)Ef(t[e])}}function Lm(e,t){return e(t)}function Dm(){}var kl=!1;function zm(e,t,n){if(kl)return e(t,n);kl=!0;try{return Lm(e,t,n)}finally{kl=!1,(_o!==null||xo!==null)&&(Dm(),Rm())}}function Tr(e,t){var n=e.stateNode;if(n===null)return null;var i=ba(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var du=!1;if(bn)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){du=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{du=!1}function r_(e,t,n,i,r,s,u,f,p){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(y){this.onError(y)}}var fr=!1,Js=null,$s=!1,cu=null,s_={onError:function(e){fr=!0,Js=e}};function a_(e,t,n,i,r,s,u,f,p){fr=!1,Js=null,r_.apply(s_,arguments)}function l_(e,t,n,i,r,s,u,f,p){if(a_.apply(this,arguments),fr){if(fr){var m=Js;fr=!1,Js=null}else throw Error(j(198));$s||($s=!0,cu=m)}}function Hi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Fm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kf(e){if(Hi(e)!==e)throw Error(j(188))}function u_(e){var t=e.alternate;if(!t){if(t=Hi(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return kf(r),e;if(s===i)return kf(r),t;s=s.sibling}throw Error(j(188))}if(n.return!==i.return)n=r,i=s;else{for(var u=!1,f=r.child;f;){if(f===n){u=!0,n=r,i=s;break}if(f===i){u=!0,i=r,n=s;break}f=f.sibling}if(!u){for(f=s.child;f;){if(f===n){u=!0,n=s,i=r;break}if(f===i){u=!0,i=s,n=r;break}f=f.sibling}if(!u)throw Error(j(189))}}if(n.alternate!==i)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function Um(e){return e=u_(e),e!==null?Vm(e):null}function Vm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vm(e);if(t!==null)return t;e=e.sibling}return null}var Bm=bt.unstable_scheduleCallback,Nf=bt.unstable_cancelCallback,d_=bt.unstable_shouldYield,c_=bt.unstable_requestPaint,je=bt.unstable_now,f_=bt.unstable_getCurrentPriorityLevel,fd=bt.unstable_ImmediatePriority,Hm=bt.unstable_UserBlockingPriority,Ks=bt.unstable_NormalPriority,h_=bt.unstable_LowPriority,Gm=bt.unstable_IdlePriority,Na=null,yn=null;function p_(e){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(Na,e,void 0,(e.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:y_,m_=Math.log,g_=Math.LN2;function y_(e){return e>>>=0,e===0?32:31-(m_(e)/g_|0)|0}var gs=64,ys=4194304;function ur(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ys(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,u=n&268435455;if(u!==0){var f=u&~r;f!==0?i=ur(f):(s&=u,s!==0&&(i=ur(s)))}else u=n&~r,u!==0?i=ur(u):s!==0&&(i=ur(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-nn(t),r=1<<n,i|=e[n],t&=~r;return i}function v_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function __(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-nn(s),f=1<<u,p=r[u];p===-1?(!(f&n)||f&i)&&(r[u]=v_(f,t)):p<=t&&(e.expiredLanes|=f),s&=~f}}function fu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Om(){var e=gs;return gs<<=1,!(gs&4194240)&&(gs=64),e}function Nl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Or(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nn(t),e[t]=n}function x_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-nn(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}function hd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-nn(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var Te=0;function qm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jm,pd,Zm,Wm,Jm,hu=!1,vs=[],ei=null,ti=null,ni=null,Cr=new Map,Er=new Map,$n=[],w_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function If(e,t){switch(e){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":Cr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(t.pointerId)}}function er(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=jr(t),t!==null&&pd(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function S_(e,t,n,i,r){switch(t){case"focusin":return ei=er(ei,e,t,n,i,r),!0;case"dragenter":return ti=er(ti,e,t,n,i,r),!0;case"mouseover":return ni=er(ni,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Cr.set(s,er(Cr.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Er.set(s,er(Er.get(s)||null,e,t,n,i,r)),!0}return!1}function $m(e){var t=Pi(e.target);if(t!==null){var n=Hi(t);if(n!==null){if(t=n.tag,t===13){if(t=Fm(n),t!==null){e.blockedOn=t,Jm(e.priority,function(){Zm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);lu=i,n.target.dispatchEvent(i),lu=null}else return t=jr(n),t!==null&&pd(t),e.blockedOn=n,!1;t.shift()}return!0}function Pf(e,t,n){Ls(e)&&n.delete(t)}function T_(){hu=!1,ei!==null&&Ls(ei)&&(ei=null),ti!==null&&Ls(ti)&&(ti=null),ni!==null&&Ls(ni)&&(ni=null),Cr.forEach(Pf),Er.forEach(Pf)}function tr(e,t){e.blockedOn===t&&(e.blockedOn=null,hu||(hu=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,T_)))}function kr(e){function t(r){return tr(r,e)}if(0<vs.length){tr(vs[0],e);for(var n=1;n<vs.length;n++){var i=vs[n];i.blockedOn===e&&(i.blockedOn=null)}}for(ei!==null&&tr(ei,e),ti!==null&&tr(ti,e),ni!==null&&tr(ni,e),Cr.forEach(t),Er.forEach(t),n=0;n<$n.length;n++)i=$n[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<$n.length&&(n=$n[0],n.blockedOn===null);)$m(n),n.blockedOn===null&&$n.shift()}var wo=zn.ReactCurrentBatchConfig,Xs=!0;function C_(e,t,n,i){var r=Te,s=wo.transition;wo.transition=null;try{Te=1,md(e,t,n,i)}finally{Te=r,wo.transition=s}}function E_(e,t,n,i){var r=Te,s=wo.transition;wo.transition=null;try{Te=4,md(e,t,n,i)}finally{Te=r,wo.transition=s}}function md(e,t,n,i){if(Xs){var r=pu(e,t,n,i);if(r===null)Fl(e,t,i,Qs,n),If(e,i);else if(S_(r,e,t,n,i))i.stopPropagation();else if(If(e,i),t&4&&-1<w_.indexOf(e)){for(;r!==null;){var s=jr(r);if(s!==null&&jm(s),s=pu(e,t,n,i),s===null&&Fl(e,t,i,Qs,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Fl(e,t,i,null,n)}}var Qs=null;function pu(e,t,n,i){if(Qs=null,e=cd(i),e=Pi(e),e!==null)if(t=Hi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Fm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qs=e,null}function Km(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(f_()){case fd:return 1;case Hm:return 4;case Ks:case h_:return 16;case Gm:return 536870912;default:return 16}default:return 16}}var Yn=null,gd=null,Ds=null;function Ym(){if(Ds)return Ds;var e,t=gd,n=t.length,i,r="value"in Yn?Yn.value:Yn.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var u=n-e;for(i=1;i<=u&&t[n-i]===r[s-i];i++);return Ds=r.slice(e,1<i?1-i:void 0)}function zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function Af(){return!1}function Rt(e){function t(n,i,r,s,u){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(s):s[f]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_s:Af,this.isPropagationStopped=Af,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),t}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yd=Rt(Do),qr=Ge({},Do,{view:0,detail:0}),k_=Rt(qr),Il,Pl,nr,Ia=Ge({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nr&&(nr&&e.type==="mousemove"?(Il=e.screenX-nr.screenX,Pl=e.screenY-nr.screenY):Pl=Il=0,nr=e),Il)},movementY:function(e){return"movementY"in e?e.movementY:Pl}}),bf=Rt(Ia),N_=Ge({},Ia,{dataTransfer:0}),I_=Rt(N_),P_=Ge({},qr,{relatedTarget:0}),Al=Rt(P_),A_=Ge({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),b_=Rt(A_),M_=Ge({},Do,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),R_=Rt(M_),L_=Ge({},Do,{data:0}),Mf=Rt(L_),D_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=F_[e])?!!t[e]:!1}function vd(){return U_}var V_=Ge({},qr,{key:function(e){if(e.key){var t=D_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vd,charCode:function(e){return e.type==="keypress"?zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),B_=Rt(V_),H_=Ge({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rf=Rt(H_),G_=Ge({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vd}),O_=Rt(G_),q_=Ge({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),j_=Rt(q_),Z_=Ge({},Ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),W_=Rt(Z_),J_=[9,13,27,32],_d=bn&&"CompositionEvent"in window,hr=null;bn&&"documentMode"in document&&(hr=document.documentMode);var $_=bn&&"TextEvent"in window&&!hr,Xm=bn&&(!_d||hr&&8<hr&&11>=hr),Lf=" ",Df=!1;function Qm(e,t){switch(e){case"keyup":return J_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var so=!1;function K_(e,t){switch(e){case"compositionend":return eg(t);case"keypress":return t.which!==32?null:(Df=!0,Lf);case"textInput":return e=t.data,e===Lf&&Df?null:e;default:return null}}function Y_(e,t){if(so)return e==="compositionend"||!_d&&Qm(e,t)?(e=Ym(),Ds=gd=Yn=null,so=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xm&&t.locale!=="ko"?null:t.data;default:return null}}var X_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!X_[e.type]:t==="textarea"}function tg(e,t,n,i){Mm(i),t=ea(t,"onChange"),0<t.length&&(n=new yd("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var pr=null,Nr=null;function Q_(e){fg(e,0)}function Pa(e){var t=uo(e);if(Em(t))return e}function ex(e,t){if(e==="change")return t}var ng=!1;if(bn){var bl;if(bn){var Ml="oninput"in document;if(!Ml){var Ff=document.createElement("div");Ff.setAttribute("oninput","return;"),Ml=typeof Ff.oninput=="function"}bl=Ml}else bl=!1;ng=bl&&(!document.documentMode||9<document.documentMode)}function Uf(){pr&&(pr.detachEvent("onpropertychange",ig),Nr=pr=null)}function ig(e){if(e.propertyName==="value"&&Pa(Nr)){var t=[];tg(t,Nr,e,cd(e)),zm(Q_,t)}}function tx(e,t,n){e==="focusin"?(Uf(),pr=t,Nr=n,pr.attachEvent("onpropertychange",ig)):e==="focusout"&&Uf()}function nx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pa(Nr)}function ix(e,t){if(e==="click")return Pa(t)}function ox(e,t){if(e==="input"||e==="change")return Pa(t)}function rx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rn=typeof Object.is=="function"?Object.is:rx;function Ir(e,t){if(rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Kl.call(t,r)||!rn(e[r],t[r]))return!1}return!0}function Vf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bf(e,t){var n=Vf(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vf(n)}}function og(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?og(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rg(){for(var e=window,t=Ws();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ws(e.document)}return t}function xd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sx(e){var t=rg(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&og(n.ownerDocument.documentElement,n)){if(i!==null&&xd(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=Bf(n,s);var u=Bf(n,i);r&&u&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ax=bn&&"documentMode"in document&&11>=document.documentMode,ao=null,mu=null,mr=null,gu=!1;function Hf(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gu||ao==null||ao!==Ws(i)||(i=ao,"selectionStart"in i&&xd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),mr&&Ir(mr,i)||(mr=i,i=ea(mu,"onSelect"),0<i.length&&(t=new yd("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ao)))}function xs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var lo={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionend:xs("Transition","TransitionEnd")},Rl={},sg={};bn&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Aa(e){if(Rl[e])return Rl[e];if(!lo[e])return e;var t=lo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sg)return Rl[e]=t[n];return e}var ag=Aa("animationend"),lg=Aa("animationiteration"),ug=Aa("animationstart"),dg=Aa("transitionend"),cg=new Map,Gf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(e,t){cg.set(e,t),Bi(t,[e])}for(var Ll=0;Ll<Gf.length;Ll++){var Dl=Gf[Ll],lx=Dl.toLowerCase(),ux=Dl[0].toUpperCase()+Dl.slice(1);fi(lx,"on"+ux)}fi(ag,"onAnimationEnd");fi(lg,"onAnimationIteration");fi(ug,"onAnimationStart");fi("dblclick","onDoubleClick");fi("focusin","onFocus");fi("focusout","onBlur");fi(dg,"onTransitionEnd");No("onMouseEnter",["mouseout","mouseover"]);No("onMouseLeave",["mouseout","mouseover"]);No("onPointerEnter",["pointerout","pointerover"]);No("onPointerLeave",["pointerout","pointerover"]);Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dx=new Set("cancel close invalid load scroll toggle".split(" ").concat(dr));function Of(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,l_(i,t,void 0,e),e.currentTarget=null}function fg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var u=i.length-1;0<=u;u--){var f=i[u],p=f.instance,m=f.currentTarget;if(f=f.listener,p!==s&&r.isPropagationStopped())break e;Of(r,f,m),s=p}else for(u=0;u<i.length;u++){if(f=i[u],p=f.instance,m=f.currentTarget,f=f.listener,p!==s&&r.isPropagationStopped())break e;Of(r,f,m),s=p}}}if($s)throw e=cu,$s=!1,cu=null,e}function Me(e,t){var n=t[wu];n===void 0&&(n=t[wu]=new Set);var i=e+"__bubble";n.has(i)||(hg(t,e,2,!1),n.add(i))}function zl(e,t,n){var i=0;t&&(i|=4),hg(n,e,i,t)}var ws="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){if(!e[ws]){e[ws]=!0,xm.forEach(function(n){n!=="selectionchange"&&(dx.has(n)||zl(n,!1,e),zl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ws]||(t[ws]=!0,zl("selectionchange",!1,t))}}function hg(e,t,n,i){switch(Km(t)){case 1:var r=C_;break;case 4:r=E_;break;default:r=md}n=r.bind(null,t,n,e),r=void 0,!du||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Fl(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var u=i.tag;if(u===3||u===4){var f=i.stateNode.containerInfo;if(f===r||f.nodeType===8&&f.parentNode===r)break;if(u===4)for(u=i.return;u!==null;){var p=u.tag;if((p===3||p===4)&&(p=u.stateNode.containerInfo,p===r||p.nodeType===8&&p.parentNode===r))return;u=u.return}for(;f!==null;){if(u=Pi(f),u===null)return;if(p=u.tag,p===5||p===6){i=s=u;continue e}f=f.parentNode}}i=i.return}zm(function(){var m=s,y=cd(n),v=[];e:{var _=cg.get(e);if(_!==void 0){var S=yd,k=e;switch(e){case"keypress":if(zs(n)===0)break e;case"keydown":case"keyup":S=B_;break;case"focusin":k="focus",S=Al;break;case"focusout":k="blur",S=Al;break;case"beforeblur":case"afterblur":S=Al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=I_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=O_;break;case ag:case lg:case ug:S=b_;break;case dg:S=j_;break;case"scroll":S=k_;break;case"wheel":S=W_;break;case"copy":case"cut":case"paste":S=R_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Rf}var I=(t&4)!==0,M=!I&&e==="scroll",C=I?_!==null?_+"Capture":null:_;I=[];for(var T=m,E;T!==null;){E=T;var P=E.stateNode;if(E.tag===5&&P!==null&&(E=P,C!==null&&(P=Tr(T,C),P!=null&&I.push(Ar(T,P,E)))),M)break;T=T.return}0<I.length&&(_=new S(_,k,null,n,y),v.push({event:_,listeners:I}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",_&&n!==lu&&(k=n.relatedTarget||n.fromElement)&&(Pi(k)||k[Mn]))break e;if((S||_)&&(_=y.window===y?y:(_=y.ownerDocument)?_.defaultView||_.parentWindow:window,S?(k=n.relatedTarget||n.toElement,S=m,k=k?Pi(k):null,k!==null&&(M=Hi(k),k!==M||k.tag!==5&&k.tag!==6)&&(k=null)):(S=null,k=m),S!==k)){if(I=bf,P="onMouseLeave",C="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(I=Rf,P="onPointerLeave",C="onPointerEnter",T="pointer"),M=S==null?_:uo(S),E=k==null?_:uo(k),_=new I(P,T+"leave",S,n,y),_.target=M,_.relatedTarget=E,P=null,Pi(y)===m&&(I=new I(C,T+"enter",k,n,y),I.target=E,I.relatedTarget=M,P=I),M=P,S&&k)t:{for(I=S,C=k,T=0,E=I;E;E=no(E))T++;for(E=0,P=C;P;P=no(P))E++;for(;0<T-E;)I=no(I),T--;for(;0<E-T;)C=no(C),E--;for(;T--;){if(I===C||C!==null&&I===C.alternate)break t;I=no(I),C=no(C)}I=null}else I=null;S!==null&&qf(v,_,S,I,!1),k!==null&&M!==null&&qf(v,M,k,I,!0)}}e:{if(_=m?uo(m):window,S=_.nodeName&&_.nodeName.toLowerCase(),S==="select"||S==="input"&&_.type==="file")var z=ex;else if(zf(_))if(ng)z=ox;else{z=nx;var F=tx}else(S=_.nodeName)&&S.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(z=ix);if(z&&(z=z(e,m))){tg(v,z,n,y);break e}F&&F(e,_,m),e==="focusout"&&(F=_._wrapperState)&&F.controlled&&_.type==="number"&&iu(_,"number",_.value)}switch(F=m?uo(m):window,e){case"focusin":(zf(F)||F.contentEditable==="true")&&(ao=F,mu=m,mr=null);break;case"focusout":mr=mu=ao=null;break;case"mousedown":gu=!0;break;case"contextmenu":case"mouseup":case"dragend":gu=!1,Hf(v,n,y);break;case"selectionchange":if(ax)break;case"keydown":case"keyup":Hf(v,n,y)}var H;if(_d)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else so?Qm(e,n)&&(Z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Z="onCompositionStart");Z&&(Xm&&n.locale!=="ko"&&(so||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&so&&(H=Ym()):(Yn=y,gd="value"in Yn?Yn.value:Yn.textContent,so=!0)),F=ea(m,Z),0<F.length&&(Z=new Mf(Z,e,null,n,y),v.push({event:Z,listeners:F}),H?Z.data=H:(H=eg(n),H!==null&&(Z.data=H)))),(H=$_?K_(e,n):Y_(e,n))&&(m=ea(m,"onBeforeInput"),0<m.length&&(y=new Mf("onBeforeInput","beforeinput",null,n,y),v.push({event:y,listeners:m}),y.data=H))}fg(v,t)})}function Ar(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ea(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Tr(e,n),s!=null&&i.unshift(Ar(e,s,r)),s=Tr(e,t),s!=null&&i.push(Ar(e,s,r))),e=e.return}return i}function no(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qf(e,t,n,i,r){for(var s=t._reactName,u=[];n!==null&&n!==i;){var f=n,p=f.alternate,m=f.stateNode;if(p!==null&&p===i)break;f.tag===5&&m!==null&&(f=m,r?(p=Tr(n,s),p!=null&&u.unshift(Ar(n,p,f))):r||(p=Tr(n,s),p!=null&&u.push(Ar(n,p,f)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var cx=/\r\n?/g,fx=/\u0000|\uFFFD/g;function jf(e){return(typeof e=="string"?e:""+e).replace(cx,`
`).replace(fx,"")}function Ss(e,t,n){if(t=jf(t),jf(e)!==t&&n)throw Error(j(425))}function ta(){}var yu=null,vu=null;function _u(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xu=typeof setTimeout=="function"?setTimeout:void 0,hx=typeof clearTimeout=="function"?clearTimeout:void 0,Zf=typeof Promise=="function"?Promise:void 0,px=typeof queueMicrotask=="function"?queueMicrotask:typeof Zf<"u"?function(e){return Zf.resolve(null).then(e).catch(mx)}:xu;function mx(e){setTimeout(function(){throw e})}function Ul(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),kr(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);kr(t)}function ii(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zo=Math.random().toString(36).slice(2),gn="__reactFiber$"+zo,br="__reactProps$"+zo,Mn="__reactContainer$"+zo,wu="__reactEvents$"+zo,gx="__reactListeners$"+zo,yx="__reactHandles$"+zo;function Pi(e){var t=e[gn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mn]||n[gn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wf(e);e!==null;){if(n=e[gn])return n;e=Wf(e)}return t}e=n,n=e.parentNode}return null}function jr(e){return e=e[gn]||e[Mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function uo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function ba(e){return e[br]||null}var Su=[],co=-1;function hi(e){return{current:e}}function De(e){0>co||(e.current=Su[co],Su[co]=null,co--)}function be(e,t){co++,Su[co]=e.current,e.current=t}var ci={},ft=hi(ci),St=hi(!1),Li=ci;function Io(e,t){var n=e.type.contextTypes;if(!n)return ci;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Tt(e){return e=e.childContextTypes,e!=null}function na(){De(St),De(ft)}function Jf(e,t,n){if(ft.current!==ci)throw Error(j(168));be(ft,t),be(St,n)}function pg(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(j(108,t_(e)||"Unknown",r));return Ge({},n,i)}function ia(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,Li=ft.current,be(ft,e),be(St,St.current),!0}function $f(e,t,n){var i=e.stateNode;if(!i)throw Error(j(169));n?(e=pg(e,t,Li),i.__reactInternalMemoizedMergedChildContext=e,De(St),De(ft),be(ft,e)):De(St),be(St,n)}var kn=null,Ma=!1,Vl=!1;function mg(e){kn===null?kn=[e]:kn.push(e)}function vx(e){Ma=!0,mg(e)}function pi(){if(!Vl&&kn!==null){Vl=!0;var e=0,t=Te;try{var n=kn;for(Te=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}kn=null,Ma=!1}catch(r){throw kn!==null&&(kn=kn.slice(e+1)),Bm(fd,pi),r}finally{Te=t,Vl=!1}}return null}var fo=[],ho=0,oa=null,ra=0,Ft=[],Ut=0,Di=null,In=1,Pn="";function Ni(e,t){fo[ho++]=ra,fo[ho++]=oa,oa=e,ra=t}function gg(e,t,n){Ft[Ut++]=In,Ft[Ut++]=Pn,Ft[Ut++]=Di,Di=e;var i=In;e=Pn;var r=32-nn(i)-1;i&=~(1<<r),n+=1;var s=32-nn(t)+r;if(30<s){var u=r-r%5;s=(i&(1<<u)-1).toString(32),i>>=u,r-=u,In=1<<32-nn(t)+r|n<<r|i,Pn=s+e}else In=1<<s|n<<r|i,Pn=e}function wd(e){e.return!==null&&(Ni(e,1),gg(e,1,0))}function Sd(e){for(;e===oa;)oa=fo[--ho],fo[ho]=null,ra=fo[--ho],fo[ho]=null;for(;e===Di;)Di=Ft[--Ut],Ft[Ut]=null,Pn=Ft[--Ut],Ft[Ut]=null,In=Ft[--Ut],Ft[Ut]=null}var Pt=null,It=null,ze=!1,tn=null;function yg(e,t){var n=Bt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Kf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,It=ii(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,It=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Di!==null?{id:In,overflow:Pn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Bt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pt=e,It=null,!0):!1;default:return!1}}function Tu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cu(e){if(ze){var t=It;if(t){var n=t;if(!Kf(e,t)){if(Tu(e))throw Error(j(418));t=ii(n.nextSibling);var i=Pt;t&&Kf(e,t)?yg(i,n):(e.flags=e.flags&-4097|2,ze=!1,Pt=e)}}else{if(Tu(e))throw Error(j(418));e.flags=e.flags&-4097|2,ze=!1,Pt=e}}}function Yf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function Ts(e){if(e!==Pt)return!1;if(!ze)return Yf(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_u(e.type,e.memoizedProps)),t&&(t=It)){if(Tu(e))throw vg(),Error(j(418));for(;t;)yg(e,t),t=ii(t.nextSibling)}if(Yf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){It=ii(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}It=null}}else It=Pt?ii(e.stateNode.nextSibling):null;return!0}function vg(){for(var e=It;e;)e=ii(e.nextSibling)}function Po(){It=Pt=null,ze=!1}function Td(e){tn===null?tn=[e]:tn.push(e)}var _x=zn.ReactCurrentBatchConfig;function ir(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var i=n.stateNode}if(!i)throw Error(j(147,e));var r=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(u){var f=r.refs;u===null?delete f[s]:f[s]=u},t._stringRef=s,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function Cs(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xf(e){var t=e._init;return t(e._payload)}function _g(e){function t(C,T){if(e){var E=C.deletions;E===null?(C.deletions=[T],C.flags|=16):E.push(T)}}function n(C,T){if(!e)return null;for(;T!==null;)t(C,T),T=T.sibling;return null}function i(C,T){for(C=new Map;T!==null;)T.key!==null?C.set(T.key,T):C.set(T.index,T),T=T.sibling;return C}function r(C,T){return C=ai(C,T),C.index=0,C.sibling=null,C}function s(C,T,E){return C.index=E,e?(E=C.alternate,E!==null?(E=E.index,E<T?(C.flags|=2,T):E):(C.flags|=2,T)):(C.flags|=1048576,T)}function u(C){return e&&C.alternate===null&&(C.flags|=2),C}function f(C,T,E,P){return T===null||T.tag!==6?(T=Zl(E,C.mode,P),T.return=C,T):(T=r(T,E),T.return=C,T)}function p(C,T,E,P){var z=E.type;return z===ro?y(C,T,E.props.children,P,E.key):T!==null&&(T.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Wn&&Xf(z)===T.type)?(P=r(T,E.props),P.ref=ir(C,T,E),P.return=C,P):(P=Os(E.type,E.key,E.props,null,C.mode,P),P.ref=ir(C,T,E),P.return=C,P)}function m(C,T,E,P){return T===null||T.tag!==4||T.stateNode.containerInfo!==E.containerInfo||T.stateNode.implementation!==E.implementation?(T=Wl(E,C.mode,P),T.return=C,T):(T=r(T,E.children||[]),T.return=C,T)}function y(C,T,E,P,z){return T===null||T.tag!==7?(T=Ri(E,C.mode,P,z),T.return=C,T):(T=r(T,E),T.return=C,T)}function v(C,T,E){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Zl(""+T,C.mode,E),T.return=C,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case hs:return E=Os(T.type,T.key,T.props,null,C.mode,E),E.ref=ir(C,null,T),E.return=C,E;case oo:return T=Wl(T,C.mode,E),T.return=C,T;case Wn:var P=T._init;return v(C,P(T._payload),E)}if(lr(T)||Xo(T))return T=Ri(T,C.mode,E,null),T.return=C,T;Cs(C,T)}return null}function _(C,T,E,P){var z=T!==null?T.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return z!==null?null:f(C,T,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case hs:return E.key===z?p(C,T,E,P):null;case oo:return E.key===z?m(C,T,E,P):null;case Wn:return z=E._init,_(C,T,z(E._payload),P)}if(lr(E)||Xo(E))return z!==null?null:y(C,T,E,P,null);Cs(C,E)}return null}function S(C,T,E,P,z){if(typeof P=="string"&&P!==""||typeof P=="number")return C=C.get(E)||null,f(T,C,""+P,z);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case hs:return C=C.get(P.key===null?E:P.key)||null,p(T,C,P,z);case oo:return C=C.get(P.key===null?E:P.key)||null,m(T,C,P,z);case Wn:var F=P._init;return S(C,T,E,F(P._payload),z)}if(lr(P)||Xo(P))return C=C.get(E)||null,y(T,C,P,z,null);Cs(T,P)}return null}function k(C,T,E,P){for(var z=null,F=null,H=T,Z=T=0,W=null;H!==null&&Z<E.length;Z++){H.index>Z?(W=H,H=null):W=H.sibling;var q=_(C,H,E[Z],P);if(q===null){H===null&&(H=W);break}e&&H&&q.alternate===null&&t(C,H),T=s(q,T,Z),F===null?z=q:F.sibling=q,F=q,H=W}if(Z===E.length)return n(C,H),ze&&Ni(C,Z),z;if(H===null){for(;Z<E.length;Z++)H=v(C,E[Z],P),H!==null&&(T=s(H,T,Z),F===null?z=H:F.sibling=H,F=H);return ze&&Ni(C,Z),z}for(H=i(C,H);Z<E.length;Z++)W=S(H,C,Z,E[Z],P),W!==null&&(e&&W.alternate!==null&&H.delete(W.key===null?Z:W.key),T=s(W,T,Z),F===null?z=W:F.sibling=W,F=W);return e&&H.forEach(function($){return t(C,$)}),ze&&Ni(C,Z),z}function I(C,T,E,P){var z=Xo(E);if(typeof z!="function")throw Error(j(150));if(E=z.call(E),E==null)throw Error(j(151));for(var F=z=null,H=T,Z=T=0,W=null,q=E.next();H!==null&&!q.done;Z++,q=E.next()){H.index>Z?(W=H,H=null):W=H.sibling;var $=_(C,H,q.value,P);if($===null){H===null&&(H=W);break}e&&H&&$.alternate===null&&t(C,H),T=s($,T,Z),F===null?z=$:F.sibling=$,F=$,H=W}if(q.done)return n(C,H),ze&&Ni(C,Z),z;if(H===null){for(;!q.done;Z++,q=E.next())q=v(C,q.value,P),q!==null&&(T=s(q,T,Z),F===null?z=q:F.sibling=q,F=q);return ze&&Ni(C,Z),z}for(H=i(C,H);!q.done;Z++,q=E.next())q=S(H,C,Z,q.value,P),q!==null&&(e&&q.alternate!==null&&H.delete(q.key===null?Z:q.key),T=s(q,T,Z),F===null?z=q:F.sibling=q,F=q);return e&&H.forEach(function(Q){return t(C,Q)}),ze&&Ni(C,Z),z}function M(C,T,E,P){if(typeof E=="object"&&E!==null&&E.type===ro&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case hs:e:{for(var z=E.key,F=T;F!==null;){if(F.key===z){if(z=E.type,z===ro){if(F.tag===7){n(C,F.sibling),T=r(F,E.props.children),T.return=C,C=T;break e}}else if(F.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Wn&&Xf(z)===F.type){n(C,F.sibling),T=r(F,E.props),T.ref=ir(C,F,E),T.return=C,C=T;break e}n(C,F);break}else t(C,F);F=F.sibling}E.type===ro?(T=Ri(E.props.children,C.mode,P,E.key),T.return=C,C=T):(P=Os(E.type,E.key,E.props,null,C.mode,P),P.ref=ir(C,T,E),P.return=C,C=P)}return u(C);case oo:e:{for(F=E.key;T!==null;){if(T.key===F)if(T.tag===4&&T.stateNode.containerInfo===E.containerInfo&&T.stateNode.implementation===E.implementation){n(C,T.sibling),T=r(T,E.children||[]),T.return=C,C=T;break e}else{n(C,T);break}else t(C,T);T=T.sibling}T=Wl(E,C.mode,P),T.return=C,C=T}return u(C);case Wn:return F=E._init,M(C,T,F(E._payload),P)}if(lr(E))return k(C,T,E,P);if(Xo(E))return I(C,T,E,P);Cs(C,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,T!==null&&T.tag===6?(n(C,T.sibling),T=r(T,E),T.return=C,C=T):(n(C,T),T=Zl(E,C.mode,P),T.return=C,C=T),u(C)):n(C,T)}return M}var Ao=_g(!0),xg=_g(!1),sa=hi(null),aa=null,po=null,Cd=null;function Ed(){Cd=po=aa=null}function kd(e){var t=sa.current;De(sa),e._currentValue=t}function Eu(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function So(e,t){aa=e,Cd=po=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(Cd!==e)if(e={context:e,memoizedValue:t,next:null},po===null){if(aa===null)throw Error(j(308));po=e,aa.dependencies={lanes:0,firstContext:e}}else po=po.next=e;return t}var Ai=null;function Nd(e){Ai===null?Ai=[e]:Ai.push(e)}function wg(e,t,n,i){var r=t.interleaved;return r===null?(n.next=n,Nd(t)):(n.next=r.next,r.next=n),t.interleaved=n,Rn(e,i)}function Rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jn=!1;function Id(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function An(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,_e&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Rn(e,n)}return r=i.interleaved,r===null?(t.next=t,Nd(i)):(t.next=r.next,r.next=t),i.interleaved=t,Rn(e,n)}function Fs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,hd(e,n)}}function Qf(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=u:s=s.next=u,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function la(e,t,n,i){var r=e.updateQueue;Jn=!1;var s=r.firstBaseUpdate,u=r.lastBaseUpdate,f=r.shared.pending;if(f!==null){r.shared.pending=null;var p=f,m=p.next;p.next=null,u===null?s=m:u.next=m,u=p;var y=e.alternate;y!==null&&(y=y.updateQueue,f=y.lastBaseUpdate,f!==u&&(f===null?y.firstBaseUpdate=m:f.next=m,y.lastBaseUpdate=p))}if(s!==null){var v=r.baseState;u=0,y=m=p=null,f=s;do{var _=f.lane,S=f.eventTime;if((i&_)===_){y!==null&&(y=y.next={eventTime:S,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var k=e,I=f;switch(_=t,S=n,I.tag){case 1:if(k=I.payload,typeof k=="function"){v=k.call(S,v,_);break e}v=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=I.payload,_=typeof k=="function"?k.call(S,v,_):k,_==null)break e;v=Ge({},v,_);break e;case 2:Jn=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,_=r.effects,_===null?r.effects=[f]:_.push(f))}else S={eventTime:S,lane:_,tag:f.tag,payload:f.payload,callback:f.callback,next:null},y===null?(m=y=S,p=v):y=y.next=S,u|=_;if(f=f.next,f===null){if(f=r.shared.pending,f===null)break;_=f,f=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);if(y===null&&(p=v),r.baseState=p,r.firstBaseUpdate=m,r.lastBaseUpdate=y,t=r.shared.interleaved,t!==null){r=t;do u|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);Fi|=u,e.lanes=u,e.memoizedState=v}}function eh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(j(191,r));r.call(i)}}}var Zr={},vn=hi(Zr),Mr=hi(Zr),Rr=hi(Zr);function bi(e){if(e===Zr)throw Error(j(174));return e}function Pd(e,t){switch(be(Rr,t),be(Mr,e),be(vn,Zr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ru(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ru(t,e)}De(vn),be(vn,t)}function bo(){De(vn),De(Mr),De(Rr)}function Tg(e){bi(Rr.current);var t=bi(vn.current),n=ru(t,e.type);t!==n&&(be(Mr,e),be(vn,n))}function Ad(e){Mr.current===e&&(De(vn),De(Mr))}var Be=hi(0);function ua(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bl=[];function bd(){for(var e=0;e<Bl.length;e++)Bl[e]._workInProgressVersionPrimary=null;Bl.length=0}var Us=zn.ReactCurrentDispatcher,Hl=zn.ReactCurrentBatchConfig,zi=0,He=null,Xe=null,nt=null,da=!1,gr=!1,Lr=0,xx=0;function lt(){throw Error(j(321))}function Md(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rn(e[n],t[n]))return!1;return!0}function Rd(e,t,n,i,r,s){if(zi=s,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Us.current=e===null||e.memoizedState===null?Cx:Ex,e=n(i,r),gr){s=0;do{if(gr=!1,Lr=0,25<=s)throw Error(j(301));s+=1,nt=Xe=null,t.updateQueue=null,Us.current=kx,e=n(i,r)}while(gr)}if(Us.current=ca,t=Xe!==null&&Xe.next!==null,zi=0,nt=Xe=He=null,da=!1,t)throw Error(j(300));return e}function Ld(){var e=Lr!==0;return Lr=0,e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?He.memoizedState=nt=e:nt=nt.next=e,nt}function jt(){if(Xe===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=nt===null?He.memoizedState:nt.next;if(t!==null)nt=t,Xe=e;else{if(e===null)throw Error(j(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},nt===null?He.memoizedState=nt=e:nt=nt.next=e}return nt}function Dr(e,t){return typeof t=="function"?t(e):t}function Gl(e){var t=jt(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var i=Xe,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var u=r.next;r.next=s.next,s.next=u}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var f=u=null,p=null,m=s;do{var y=m.lane;if((zi&y)===y)p!==null&&(p=p.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),i=m.hasEagerState?m.eagerState:e(i,m.action);else{var v={lane:y,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};p===null?(f=p=v,u=i):p=p.next=v,He.lanes|=y,Fi|=y}m=m.next}while(m!==null&&m!==s);p===null?u=i:p.next=f,rn(i,t.memoizedState)||(wt=!0),t.memoizedState=i,t.baseState=u,t.baseQueue=p,n.lastRenderedState=i}if(e=n.interleaved,e!==null){r=e;do s=r.lane,He.lanes|=s,Fi|=s,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ol(e){var t=jt(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var u=r=r.next;do s=e(s,u.action),u=u.next;while(u!==r);rn(s,t.memoizedState)||(wt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Cg(){}function Eg(e,t){var n=He,i=jt(),r=t(),s=!rn(i.memoizedState,r);if(s&&(i.memoizedState=r,wt=!0),i=i.queue,Dd(Ig.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,zr(9,Ng.bind(null,n,i,r,t),void 0,null),it===null)throw Error(j(349));zi&30||kg(n,t,r)}return r}function kg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ng(e,t,n,i){t.value=n,t.getSnapshot=i,Pg(t)&&Ag(e)}function Ig(e,t,n){return n(function(){Pg(t)&&Ag(e)})}function Pg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rn(e,n)}catch{return!0}}function Ag(e){var t=Rn(e,1);t!==null&&on(t,e,1,-1)}function th(e){var t=pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:e},t.queue=e,e=e.dispatch=Tx.bind(null,He,e),[t.memoizedState,e]}function zr(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function bg(){return jt().memoizedState}function Vs(e,t,n,i){var r=pn();He.flags|=e,r.memoizedState=zr(1|t,n,void 0,i===void 0?null:i)}function Ra(e,t,n,i){var r=jt();i=i===void 0?null:i;var s=void 0;if(Xe!==null){var u=Xe.memoizedState;if(s=u.destroy,i!==null&&Md(i,u.deps)){r.memoizedState=zr(t,n,s,i);return}}He.flags|=e,r.memoizedState=zr(1|t,n,s,i)}function nh(e,t){return Vs(8390656,8,e,t)}function Dd(e,t){return Ra(2048,8,e,t)}function Mg(e,t){return Ra(4,2,e,t)}function Rg(e,t){return Ra(4,4,e,t)}function Lg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dg(e,t,n){return n=n!=null?n.concat([e]):null,Ra(4,4,Lg.bind(null,t,e),n)}function zd(){}function zg(e,t){var n=jt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Md(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Fg(e,t){var n=jt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Md(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ug(e,t,n){return zi&21?(rn(n,t)||(n=Om(),He.lanes|=n,Fi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wt=!0),e.memoizedState=n)}function wx(e,t){var n=Te;Te=n!==0&&4>n?n:4,e(!0);var i=Hl.transition;Hl.transition={};try{e(!1),t()}finally{Te=n,Hl.transition=i}}function Vg(){return jt().memoizedState}function Sx(e,t,n){var i=si(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Bg(e))Hg(t,n);else if(n=wg(e,t,n,i),n!==null){var r=gt();on(n,e,i,r),Gg(n,t,i)}}function Tx(e,t,n){var i=si(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bg(e))Hg(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var u=t.lastRenderedState,f=s(u,n);if(r.hasEagerState=!0,r.eagerState=f,rn(f,u)){var p=t.interleaved;p===null?(r.next=r,Nd(t)):(r.next=p.next,p.next=r),t.interleaved=r;return}}catch{}finally{}n=wg(e,t,r,i),n!==null&&(r=gt(),on(n,e,i,r),Gg(n,t,i))}}function Bg(e){var t=e.alternate;return e===He||t!==null&&t===He}function Hg(e,t){gr=da=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gg(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,hd(e,n)}}var ca={readContext:qt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},Cx={readContext:qt,useCallback:function(e,t){return pn().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:nh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vs(4194308,4,Lg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var n=pn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=pn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Sx.bind(null,He,e),[i.memoizedState,e]},useRef:function(e){var t=pn();return e={current:e},t.memoizedState=e},useState:th,useDebugValue:zd,useDeferredValue:function(e){return pn().memoizedState=e},useTransition:function(){var e=th(!1),t=e[0];return e=wx.bind(null,e[1]),pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=He,r=pn();if(ze){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),it===null)throw Error(j(349));zi&30||kg(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,nh(Ig.bind(null,i,s,e),[e]),i.flags|=2048,zr(9,Ng.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=pn(),t=it.identifierPrefix;if(ze){var n=Pn,i=In;n=(i&~(1<<32-nn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Lr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ex={readContext:qt,useCallback:zg,useContext:qt,useEffect:Dd,useImperativeHandle:Dg,useInsertionEffect:Mg,useLayoutEffect:Rg,useMemo:Fg,useReducer:Gl,useRef:bg,useState:function(){return Gl(Dr)},useDebugValue:zd,useDeferredValue:function(e){var t=jt();return Ug(t,Xe.memoizedState,e)},useTransition:function(){var e=Gl(Dr)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Cg,useSyncExternalStore:Eg,useId:Vg,unstable_isNewReconciler:!1},kx={readContext:qt,useCallback:zg,useContext:qt,useEffect:Dd,useImperativeHandle:Dg,useInsertionEffect:Mg,useLayoutEffect:Rg,useMemo:Fg,useReducer:Ol,useRef:bg,useState:function(){return Ol(Dr)},useDebugValue:zd,useDeferredValue:function(e){var t=jt();return Xe===null?t.memoizedState=e:Ug(t,Xe.memoizedState,e)},useTransition:function(){var e=Ol(Dr)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Cg,useSyncExternalStore:Eg,useId:Vg,unstable_isNewReconciler:!1};function Qt(e,t){if(e&&e.defaultProps){t=Ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ku(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var La={isMounted:function(e){return(e=e._reactInternals)?Hi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=gt(),r=si(e),s=An(i,r);s.payload=t,n!=null&&(s.callback=n),t=oi(e,s,r),t!==null&&(on(t,e,r,i),Fs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=gt(),r=si(e),s=An(i,r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=oi(e,s,r),t!==null&&(on(t,e,r,i),Fs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gt(),i=si(e),r=An(n,i);r.tag=2,t!=null&&(r.callback=t),t=oi(e,r,i),t!==null&&(on(t,e,i,n),Fs(t,e,i))}};function ih(e,t,n,i,r,s,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,u):t.prototype&&t.prototype.isPureReactComponent?!Ir(n,i)||!Ir(r,s):!0}function Og(e,t,n){var i=!1,r=ci,s=t.contextType;return typeof s=="object"&&s!==null?s=qt(s):(r=Tt(t)?Li:ft.current,i=t.contextTypes,s=(i=i!=null)?Io(e,r):ci),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=La,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function oh(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&La.enqueueReplaceState(t,t.state,null)}function Nu(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Id(e);var s=t.contextType;typeof s=="object"&&s!==null?r.context=qt(s):(s=Tt(t)?Li:ft.current,r.context=Io(e,s)),r.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ku(e,t,s,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&La.enqueueReplaceState(r,r.state,null),la(e,n,r,i),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Mo(e,t){try{var n="",i=t;do n+=e_(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:r,digest:null}}function ql(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Iu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Nx=typeof WeakMap=="function"?WeakMap:Map;function qg(e,t,n){n=An(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){ha||(ha=!0,Uu=i),Iu(e,t)},n}function jg(e,t,n){n=An(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){Iu(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Iu(e,t),typeof i!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function rh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Nx;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Hx.bind(null,e,t,n),t.then(e,e))}function sh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ah(e,t,n,i,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=An(-1,1),t.tag=2,oi(n,t,1))),n.lanes|=1),e)}var Ix=zn.ReactCurrentOwner,wt=!1;function mt(e,t,n,i){t.child=e===null?xg(t,null,n,i):Ao(t,e.child,n,i)}function lh(e,t,n,i,r){n=n.render;var s=t.ref;return So(t,r),i=Rd(e,t,n,i,s,r),n=Ld(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ln(e,t,r)):(ze&&n&&wd(t),t.flags|=1,mt(e,t,i,r),t.child)}function uh(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!qd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Zg(e,t,s,i,r)):(e=Os(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&r)){var u=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ir,n(u,i)&&e.ref===t.ref)return Ln(e,t,r)}return t.flags|=1,e=ai(s,i),e.ref=t.ref,e.return=t,t.child=e}function Zg(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Ir(s,i)&&e.ref===t.ref)if(wt=!1,t.pendingProps=i=s,(e.lanes&r)!==0)e.flags&131072&&(wt=!0);else return t.lanes=e.lanes,Ln(e,t,r)}return Pu(e,t,n,i,r)}function Wg(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(go,kt),kt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(go,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,be(go,kt),kt|=i}else s!==null?(i=s.baseLanes|n,t.memoizedState=null):i=n,be(go,kt),kt|=i;return mt(e,t,r,n),t.child}function Jg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pu(e,t,n,i,r){var s=Tt(n)?Li:ft.current;return s=Io(t,s),So(t,r),n=Rd(e,t,n,i,s,r),i=Ld(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ln(e,t,r)):(ze&&i&&wd(t),t.flags|=1,mt(e,t,n,r),t.child)}function dh(e,t,n,i,r){if(Tt(n)){var s=!0;ia(t)}else s=!1;if(So(t,r),t.stateNode===null)Bs(e,t),Og(t,n,i),Nu(t,n,i,r),i=!0;else if(e===null){var u=t.stateNode,f=t.memoizedProps;u.props=f;var p=u.context,m=n.contextType;typeof m=="object"&&m!==null?m=qt(m):(m=Tt(n)?Li:ft.current,m=Io(t,m));var y=n.getDerivedStateFromProps,v=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function";v||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==i||p!==m)&&oh(t,u,i,m),Jn=!1;var _=t.memoizedState;u.state=_,la(t,i,u,r),p=t.memoizedState,f!==i||_!==p||St.current||Jn?(typeof y=="function"&&(ku(t,n,y,i),p=t.memoizedState),(f=Jn||ih(t,n,f,i,_,p,m))?(v||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=p),u.props=i,u.state=p,u.context=m,i=f):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,Sg(e,t),f=t.memoizedProps,m=t.type===t.elementType?f:Qt(t.type,f),u.props=m,v=t.pendingProps,_=u.context,p=n.contextType,typeof p=="object"&&p!==null?p=qt(p):(p=Tt(n)?Li:ft.current,p=Io(t,p));var S=n.getDerivedStateFromProps;(y=typeof S=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==v||_!==p)&&oh(t,u,i,p),Jn=!1,_=t.memoizedState,u.state=_,la(t,i,u,r);var k=t.memoizedState;f!==v||_!==k||St.current||Jn?(typeof S=="function"&&(ku(t,n,S,i),k=t.memoizedState),(m=Jn||ih(t,n,m,i,_,k,p)||!1)?(y||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,k,p),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,k,p)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=k),u.props=i,u.state=k,u.context=p,i=m):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),i=!1)}return Au(e,t,n,i,s,r)}function Au(e,t,n,i,r,s){Jg(e,t);var u=(t.flags&128)!==0;if(!i&&!u)return r&&$f(t,n,!1),Ln(e,t,s);i=t.stateNode,Ix.current=t;var f=u&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&u?(t.child=Ao(t,e.child,null,s),t.child=Ao(t,null,f,s)):mt(e,t,f,s),t.memoizedState=i.state,r&&$f(t,n,!0),t.child}function $g(e){var t=e.stateNode;t.pendingContext?Jf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jf(e,t.context,!1),Pd(e,t.containerInfo)}function ch(e,t,n,i,r){return Po(),Td(r),t.flags|=256,mt(e,t,n,i),t.child}var bu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kg(e,t,n){var i=t.pendingProps,r=Be.current,s=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(r&2)!==0),f?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),be(Be,r&1),e===null)return Cu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=u):s=Fa(u,i,0,null),e=Ri(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Mu(n),t.memoizedState=bu,e):Fd(t,u));if(r=e.memoizedState,r!==null&&(f=r.dehydrated,f!==null))return Px(e,t,u,i,f,r,n);if(s){s=i.fallback,u=t.mode,r=e.child,f=r.sibling;var p={mode:"hidden",children:i.children};return!(u&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=p,t.deletions=null):(i=ai(r,p),i.subtreeFlags=r.subtreeFlags&14680064),f!==null?s=ai(f,s):(s=Ri(s,u,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=e.child.memoizedState,u=u===null?Mu(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=bu,i}return s=e.child,e=s.sibling,i=ai(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fd(e,t){return t=Fa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Es(e,t,n,i){return i!==null&&Td(i),Ao(t,e.child,null,n),e=Fd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Px(e,t,n,i,r,s,u){if(n)return t.flags&256?(t.flags&=-257,i=ql(Error(j(422))),Es(e,t,u,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=Fa({mode:"visible",children:i.children},r,0,null),s=Ri(s,r,u,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&Ao(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=bu,s);if(!(t.mode&1))return Es(e,t,u,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var f=i.dgst;return i=f,s=Error(j(419)),i=ql(s,i,void 0),Es(e,t,u,i)}if(f=(u&e.childLanes)!==0,wt||f){if(i=it,i!==null){switch(u&-u){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|u)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Rn(e,r),on(i,e,r,-1))}return Od(),i=ql(Error(j(421))),Es(e,t,u,i)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=Gx.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,It=ii(r.nextSibling),Pt=t,ze=!0,tn=null,e!==null&&(Ft[Ut++]=In,Ft[Ut++]=Pn,Ft[Ut++]=Di,In=e.id,Pn=e.overflow,Di=t),t=Fd(t,i.children),t.flags|=4096,t)}function fh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Eu(e.return,t,n)}function jl(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Yg(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(mt(e,t,i.children,n),i=Be.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fh(e,n,t);else if(e.tag===19)fh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(be(Be,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ua(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),jl(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ua(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}jl(t,!0,n,null,s);break;case"together":jl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=ai(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ai(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ax(e,t,n){switch(t.tag){case 3:$g(t),Po();break;case 5:Tg(t);break;case 1:Tt(t.type)&&ia(t);break;case 4:Pd(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;be(sa,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(be(Be,Be.current&1),t.flags|=128,null):n&t.child.childLanes?Kg(e,t,n):(be(Be,Be.current&1),e=Ln(e,t,n),e!==null?e.sibling:null);be(Be,Be.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return Yg(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),be(Be,Be.current),i)break;return null;case 22:case 23:return t.lanes=0,Wg(e,t,n)}return Ln(e,t,n)}var Xg,Ru,Qg,e0;Xg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ru=function(){};Qg=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,bi(vn.current);var s=null;switch(n){case"input":r=tu(e,r),i=tu(e,i),s=[];break;case"select":r=Ge({},r,{value:void 0}),i=Ge({},i,{value:void 0}),s=[];break;case"textarea":r=ou(e,r),i=ou(e,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=ta)}su(n,i);var u;n=null;for(m in r)if(!i.hasOwnProperty(m)&&r.hasOwnProperty(m)&&r[m]!=null)if(m==="style"){var f=r[m];for(u in f)f.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(wr.hasOwnProperty(m)?s||(s=[]):(s=s||[]).push(m,null));for(m in i){var p=i[m];if(f=r!=null?r[m]:void 0,i.hasOwnProperty(m)&&p!==f&&(p!=null||f!=null))if(m==="style")if(f){for(u in f)!f.hasOwnProperty(u)||p&&p.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in p)p.hasOwnProperty(u)&&f[u]!==p[u]&&(n||(n={}),n[u]=p[u])}else n||(s||(s=[]),s.push(m,n)),n=p;else m==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(s=s||[]).push(m,p)):m==="children"?typeof p!="string"&&typeof p!="number"||(s=s||[]).push(m,""+p):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(wr.hasOwnProperty(m)?(p!=null&&m==="onScroll"&&Me("scroll",e),s||f===p||(s=[])):(s=s||[]).push(m,p))}n&&(s=s||[]).push("style",n);var m=s;(t.updateQueue=m)&&(t.flags|=4)}};e0=function(e,t,n,i){n!==i&&(t.flags|=4)};function or(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function bx(e,t,n){var i=t.pendingProps;switch(Sd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return Tt(t.type)&&na(),ut(t),null;case 3:return i=t.stateNode,bo(),De(St),De(ft),bd(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ts(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tn!==null&&(Hu(tn),tn=null))),Ru(e,t),ut(t),null;case 5:Ad(t);var r=bi(Rr.current);if(n=t.type,e!==null&&t.stateNode!=null)Qg(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(j(166));return ut(t),null}if(e=bi(vn.current),Ts(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[gn]=t,i[br]=s,e=(t.mode&1)!==0,n){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(r=0;r<dr.length;r++)Me(dr[r],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":wf(i,s),Me("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Me("invalid",i);break;case"textarea":Tf(i,s),Me("invalid",i)}su(n,s),r=null;for(var u in s)if(s.hasOwnProperty(u)){var f=s[u];u==="children"?typeof f=="string"?i.textContent!==f&&(s.suppressHydrationWarning!==!0&&Ss(i.textContent,f,e),r=["children",f]):typeof f=="number"&&i.textContent!==""+f&&(s.suppressHydrationWarning!==!0&&Ss(i.textContent,f,e),r=["children",""+f]):wr.hasOwnProperty(u)&&f!=null&&u==="onScroll"&&Me("scroll",i)}switch(n){case"input":ps(i),Sf(i,s,!0);break;case"textarea":ps(i),Cf(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=ta)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{u=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Im(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=u.createElement(n,{is:i.is}):(e=u.createElement(n),n==="select"&&(u=e,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):e=u.createElementNS(e,n),e[gn]=t,e[br]=i,Xg(e,t,!1,!1),t.stateNode=e;e:{switch(u=au(n,i),n){case"dialog":Me("cancel",e),Me("close",e),r=i;break;case"iframe":case"object":case"embed":Me("load",e),r=i;break;case"video":case"audio":for(r=0;r<dr.length;r++)Me(dr[r],e);r=i;break;case"source":Me("error",e),r=i;break;case"img":case"image":case"link":Me("error",e),Me("load",e),r=i;break;case"details":Me("toggle",e),r=i;break;case"input":wf(e,i),r=tu(e,i),Me("invalid",e);break;case"option":r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=Ge({},i,{value:void 0}),Me("invalid",e);break;case"textarea":Tf(e,i),r=ou(e,i),Me("invalid",e);break;default:r=i}su(n,r),f=r;for(s in f)if(f.hasOwnProperty(s)){var p=f[s];s==="style"?bm(e,p):s==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&Pm(e,p)):s==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&Sr(e,p):typeof p=="number"&&Sr(e,""+p):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wr.hasOwnProperty(s)?p!=null&&s==="onScroll"&&Me("scroll",e):p!=null&&ad(e,s,p,u))}switch(n){case"input":ps(e),Sf(e,i,!1);break;case"textarea":ps(e),Cf(e);break;case"option":i.value!=null&&e.setAttribute("value",""+di(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?vo(e,!!i.multiple,s,!1):i.defaultValue!=null&&vo(e,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=ta)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)e0(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(j(166));if(n=bi(Rr.current),bi(vn.current),Ts(t)){if(i=t.stateNode,n=t.memoizedProps,i[gn]=t,(s=i.nodeValue!==n)&&(e=Pt,e!==null))switch(e.tag){case 3:Ss(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ss(i.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[gn]=t,t.stateNode=i}return ut(t),null;case 13:if(De(Be),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&It!==null&&t.mode&1&&!(t.flags&128))vg(),Po(),t.flags|=98560,s=!1;else if(s=Ts(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(j(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[gn]=t}else Po(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ut(t),s=!1}else tn!==null&&(Hu(tn),tn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Be.current&1?Qe===0&&(Qe=3):Od())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return bo(),Ru(e,t),e===null&&Pr(t.stateNode.containerInfo),ut(t),null;case 10:return kd(t.type._context),ut(t),null;case 17:return Tt(t.type)&&na(),ut(t),null;case 19:if(De(Be),s=t.memoizedState,s===null)return ut(t),null;if(i=(t.flags&128)!==0,u=s.rendering,u===null)if(i)or(s,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=ua(e),u!==null){for(t.flags|=128,or(s,!1),i=u.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)s=n,e=i,s.flags&=14680066,u=s.alternate,u===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return be(Be,Be.current&1|2),t.child}e=e.sibling}s.tail!==null&&je()>Ro&&(t.flags|=128,i=!0,or(s,!1),t.lanes=4194304)}else{if(!i)if(e=ua(u),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),or(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!ze)return ut(t),null}else 2*je()-s.renderingStartTime>Ro&&n!==1073741824&&(t.flags|=128,i=!0,or(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(n=s.last,n!==null?n.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=je(),t.sibling=null,n=Be.current,be(Be,i?n&1|2:n&1),t):(ut(t),null);case 22:case 23:return Gd(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?kt&1073741824&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function Mx(e,t){switch(Sd(t),t.tag){case 1:return Tt(t.type)&&na(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bo(),De(St),De(ft),bd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ad(t),null;case 13:if(De(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));Po()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Be),null;case 4:return bo(),null;case 10:return kd(t.type._context),null;case 22:case 23:return Gd(),null;case 24:return null;default:return null}}var ks=!1,dt=!1,Rx=typeof WeakSet=="function"?WeakSet:Set,te=null;function mo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Oe(e,t,i)}else n.current=null}function Lu(e,t,n){try{n()}catch(i){Oe(e,t,i)}}var hh=!1;function Lx(e,t){if(yu=Xs,e=rg(),xd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var u=0,f=-1,p=-1,m=0,y=0,v=e,_=null;t:for(;;){for(var S;v!==n||r!==0&&v.nodeType!==3||(f=u+r),v!==s||i!==0&&v.nodeType!==3||(p=u+i),v.nodeType===3&&(u+=v.nodeValue.length),(S=v.firstChild)!==null;)_=v,v=S;for(;;){if(v===e)break t;if(_===n&&++m===r&&(f=u),_===s&&++y===i&&(p=u),(S=v.nextSibling)!==null)break;v=_,_=v.parentNode}v=S}n=f===-1||p===-1?null:{start:f,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(vu={focusedElem:e,selectionRange:n},Xs=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var I=k.memoizedProps,M=k.memoizedState,C=t.stateNode,T=C.getSnapshotBeforeUpdate(t.elementType===t.type?I:Qt(t.type,I),M);C.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(P){Oe(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return k=hh,hh=!1,k}function yr(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,s!==void 0&&Lu(t,n,s)}r=r.next}while(r!==i)}}function Da(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Du(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function t0(e){var t=e.alternate;t!==null&&(e.alternate=null,t0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gn],delete t[br],delete t[wu],delete t[gx],delete t[yx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function n0(e){return e.tag===5||e.tag===3||e.tag===4}function ph(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||n0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ta));else if(i!==4&&(e=e.child,e!==null))for(zu(e,t,n),e=e.sibling;e!==null;)zu(e,t,n),e=e.sibling}function Fu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Fu(e,t,n),e=e.sibling;e!==null;)Fu(e,t,n),e=e.sibling}var rt=null,en=!1;function jn(e,t,n){for(n=n.child;n!==null;)i0(e,t,n),n=n.sibling}function i0(e,t,n){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(Na,n)}catch{}switch(n.tag){case 5:dt||mo(n,t);case 6:var i=rt,r=en;rt=null,jn(e,t,n),rt=i,en=r,rt!==null&&(en?(e=rt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(en?(e=rt,n=n.stateNode,e.nodeType===8?Ul(e.parentNode,n):e.nodeType===1&&Ul(e,n),kr(e)):Ul(rt,n.stateNode));break;case 4:i=rt,r=en,rt=n.stateNode.containerInfo,en=!0,jn(e,t,n),rt=i,en=r;break;case 0:case 11:case 14:case 15:if(!dt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,u=s.destroy;s=s.tag,u!==void 0&&(s&2||s&4)&&Lu(n,t,u),r=r.next}while(r!==i)}jn(e,t,n);break;case 1:if(!dt&&(mo(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(f){Oe(n,t,f)}jn(e,t,n);break;case 21:jn(e,t,n);break;case 22:n.mode&1?(dt=(i=dt)||n.memoizedState!==null,jn(e,t,n),dt=i):jn(e,t,n);break;default:jn(e,t,n)}}function mh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rx),t.forEach(function(i){var r=Ox.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Xt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,u=t,f=u;e:for(;f!==null;){switch(f.tag){case 5:rt=f.stateNode,en=!1;break e;case 3:rt=f.stateNode.containerInfo,en=!0;break e;case 4:rt=f.stateNode.containerInfo,en=!0;break e}f=f.return}if(rt===null)throw Error(j(160));i0(s,u,r),rt=null,en=!1;var p=r.alternate;p!==null&&(p.return=null),r.return=null}catch(m){Oe(r,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)o0(t,e),t=t.sibling}function o0(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),hn(e),i&4){try{yr(3,e,e.return),Da(3,e)}catch(I){Oe(e,e.return,I)}try{yr(5,e,e.return)}catch(I){Oe(e,e.return,I)}}break;case 1:Xt(t,e),hn(e),i&512&&n!==null&&mo(n,n.return);break;case 5:if(Xt(t,e),hn(e),i&512&&n!==null&&mo(n,n.return),e.flags&32){var r=e.stateNode;try{Sr(r,"")}catch(I){Oe(e,e.return,I)}}if(i&4&&(r=e.stateNode,r!=null)){var s=e.memoizedProps,u=n!==null?n.memoizedProps:s,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&s.type==="radio"&&s.name!=null&&km(r,s),au(f,u);var m=au(f,s);for(u=0;u<p.length;u+=2){var y=p[u],v=p[u+1];y==="style"?bm(r,v):y==="dangerouslySetInnerHTML"?Pm(r,v):y==="children"?Sr(r,v):ad(r,y,v,m)}switch(f){case"input":nu(r,s);break;case"textarea":Nm(r,s);break;case"select":var _=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?vo(r,!!s.multiple,S,!1):_!==!!s.multiple&&(s.defaultValue!=null?vo(r,!!s.multiple,s.defaultValue,!0):vo(r,!!s.multiple,s.multiple?[]:"",!1))}r[br]=s}catch(I){Oe(e,e.return,I)}}break;case 6:if(Xt(t,e),hn(e),i&4){if(e.stateNode===null)throw Error(j(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(I){Oe(e,e.return,I)}}break;case 3:if(Xt(t,e),hn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{kr(t.containerInfo)}catch(I){Oe(e,e.return,I)}break;case 4:Xt(t,e),hn(e);break;case 13:Xt(t,e),hn(e),r=e.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Bd=je())),i&4&&mh(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(m=dt)||y,Xt(t,e),dt=m):Xt(t,e),hn(e),i&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!y&&e.mode&1)for(te=e,y=e.child;y!==null;){for(v=te=y;te!==null;){switch(_=te,S=_.child,_.tag){case 0:case 11:case 14:case 15:yr(4,_,_.return);break;case 1:mo(_,_.return);var k=_.stateNode;if(typeof k.componentWillUnmount=="function"){i=_,n=_.return;try{t=i,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(I){Oe(i,n,I)}}break;case 5:mo(_,_.return);break;case 22:if(_.memoizedState!==null){yh(v);continue}}S!==null?(S.return=_,te=S):yh(v)}y=y.sibling}e:for(y=null,v=e;;){if(v.tag===5){if(y===null){y=v;try{r=v.stateNode,m?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(f=v.stateNode,p=v.memoizedProps.style,u=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=Am("display",u))}catch(I){Oe(e,e.return,I)}}}else if(v.tag===6){if(y===null)try{v.stateNode.nodeValue=m?"":v.memoizedProps}catch(I){Oe(e,e.return,I)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;y===v&&(y=null),v=v.return}y===v&&(y=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Xt(t,e),hn(e),i&4&&mh(e);break;case 21:break;default:Xt(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(n0(n)){var i=n;break e}n=n.return}throw Error(j(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Sr(r,""),i.flags&=-33);var s=ph(e);Fu(e,s,r);break;case 3:case 4:var u=i.stateNode.containerInfo,f=ph(e);zu(e,f,u);break;default:throw Error(j(161))}}catch(p){Oe(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dx(e,t,n){te=e,r0(e)}function r0(e,t,n){for(var i=(e.mode&1)!==0;te!==null;){var r=te,s=r.child;if(r.tag===22&&i){var u=r.memoizedState!==null||ks;if(!u){var f=r.alternate,p=f!==null&&f.memoizedState!==null||dt;f=ks;var m=dt;if(ks=u,(dt=p)&&!m)for(te=r;te!==null;)u=te,p=u.child,u.tag===22&&u.memoizedState!==null?vh(r):p!==null?(p.return=u,te=p):vh(r);for(;s!==null;)te=s,r0(s),s=s.sibling;te=r,ks=f,dt=m}gh(e)}else r.subtreeFlags&8772&&s!==null?(s.return=r,te=s):gh(e)}}function gh(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||Da(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!dt)if(n===null)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Qt(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&eh(t,s,i);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}eh(t,u,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var y=m.memoizedState;if(y!==null){var v=y.dehydrated;v!==null&&kr(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}dt||t.flags&512&&Du(t)}catch(_){Oe(t,t.return,_)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function yh(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function vh(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Da(4,t)}catch(p){Oe(t,n,p)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(p){Oe(t,r,p)}}var s=t.return;try{Du(t)}catch(p){Oe(t,s,p)}break;case 5:var u=t.return;try{Du(t)}catch(p){Oe(t,u,p)}}}catch(p){Oe(t,t.return,p)}if(t===e){te=null;break}var f=t.sibling;if(f!==null){f.return=t.return,te=f;break}te=t.return}}var zx=Math.ceil,fa=zn.ReactCurrentDispatcher,Ud=zn.ReactCurrentOwner,Gt=zn.ReactCurrentBatchConfig,_e=0,it=null,Ke=null,st=0,kt=0,go=hi(0),Qe=0,Fr=null,Fi=0,za=0,Vd=0,vr=null,xt=null,Bd=0,Ro=1/0,En=null,ha=!1,Uu=null,ri=null,Ns=!1,Xn=null,pa=0,_r=0,Vu=null,Hs=-1,Gs=0;function gt(){return _e&6?je():Hs!==-1?Hs:Hs=je()}function si(e){return e.mode&1?_e&2&&st!==0?st&-st:_x.transition!==null?(Gs===0&&(Gs=Om()),Gs):(e=Te,e!==0||(e=window.event,e=e===void 0?16:Km(e.type)),e):1}function on(e,t,n,i){if(50<_r)throw _r=0,Vu=null,Error(j(185));Or(e,n,i),(!(_e&2)||e!==it)&&(e===it&&(!(_e&2)&&(za|=n),Qe===4&&Kn(e,st)),Ct(e,i),n===1&&_e===0&&!(t.mode&1)&&(Ro=je()+500,Ma&&pi()))}function Ct(e,t){var n=e.callbackNode;__(e,t);var i=Ys(e,e===it?st:0);if(i===0)n!==null&&Nf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Nf(n),t===1)e.tag===0?vx(_h.bind(null,e)):mg(_h.bind(null,e)),px(function(){!(_e&6)&&pi()}),n=null;else{switch(qm(i)){case 1:n=fd;break;case 4:n=Hm;break;case 16:n=Ks;break;case 536870912:n=Gm;break;default:n=Ks}n=h0(n,s0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function s0(e,t){if(Hs=-1,Gs=0,_e&6)throw Error(j(327));var n=e.callbackNode;if(To()&&e.callbackNode!==n)return null;var i=Ys(e,e===it?st:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=ma(e,i);else{t=i;var r=_e;_e|=2;var s=l0();(it!==e||st!==t)&&(En=null,Ro=je()+500,Mi(e,t));do try{Vx();break}catch(f){a0(e,f)}while(!0);Ed(),fa.current=s,_e=r,Ke!==null?t=0:(it=null,st=0,t=Qe)}if(t!==0){if(t===2&&(r=fu(e),r!==0&&(i=r,t=Bu(e,r))),t===1)throw n=Fr,Mi(e,0),Kn(e,i),Ct(e,je()),n;if(t===6)Kn(e,i);else{if(r=e.current.alternate,!(i&30)&&!Fx(r)&&(t=ma(e,i),t===2&&(s=fu(e),s!==0&&(i=s,t=Bu(e,s))),t===1))throw n=Fr,Mi(e,0),Kn(e,i),Ct(e,je()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(j(345));case 2:Ii(e,xt,En);break;case 3:if(Kn(e,i),(i&130023424)===i&&(t=Bd+500-je(),10<t)){if(Ys(e,0)!==0)break;if(r=e.suspendedLanes,(r&i)!==i){gt(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=xu(Ii.bind(null,e,xt,En),t);break}Ii(e,xt,En);break;case 4:if(Kn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,r=-1;0<i;){var u=31-nn(i);s=1<<u,u=t[u],u>r&&(r=u),i&=~s}if(i=r,i=je()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*zx(i/1960))-i,10<i){e.timeoutHandle=xu(Ii.bind(null,e,xt,En),i);break}Ii(e,xt,En);break;case 5:Ii(e,xt,En);break;default:throw Error(j(329))}}}return Ct(e,je()),e.callbackNode===n?s0.bind(null,e):null}function Bu(e,t){var n=vr;return e.current.memoizedState.isDehydrated&&(Mi(e,t).flags|=256),e=ma(e,t),e!==2&&(t=xt,xt=n,t!==null&&Hu(t)),e}function Hu(e){xt===null?xt=e:xt.push.apply(xt,e)}function Fx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!rn(s(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kn(e,t){for(t&=~Vd,t&=~za,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nn(t),i=1<<n;e[n]=-1,t&=~i}}function _h(e){if(_e&6)throw Error(j(327));To();var t=Ys(e,0);if(!(t&1))return Ct(e,je()),null;var n=ma(e,t);if(e.tag!==0&&n===2){var i=fu(e);i!==0&&(t=i,n=Bu(e,i))}if(n===1)throw n=Fr,Mi(e,0),Kn(e,t),Ct(e,je()),n;if(n===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ii(e,xt,En),Ct(e,je()),null}function Hd(e,t){var n=_e;_e|=1;try{return e(t)}finally{_e=n,_e===0&&(Ro=je()+500,Ma&&pi())}}function Ui(e){Xn!==null&&Xn.tag===0&&!(_e&6)&&To();var t=_e;_e|=1;var n=Gt.transition,i=Te;try{if(Gt.transition=null,Te=1,e)return e()}finally{Te=i,Gt.transition=n,_e=t,!(_e&6)&&pi()}}function Gd(){kt=go.current,De(go)}function Mi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hx(n)),Ke!==null)for(n=Ke.return;n!==null;){var i=n;switch(Sd(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&na();break;case 3:bo(),De(St),De(ft),bd();break;case 5:Ad(i);break;case 4:bo();break;case 13:De(Be);break;case 19:De(Be);break;case 10:kd(i.type._context);break;case 22:case 23:Gd()}n=n.return}if(it=e,Ke=e=ai(e.current,null),st=kt=t,Qe=0,Fr=null,Vd=za=Fi=0,xt=vr=null,Ai!==null){for(t=0;t<Ai.length;t++)if(n=Ai[t],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var u=s.next;s.next=r,i.next=u}n.pending=i}Ai=null}return e}function a0(e,t){do{var n=Ke;try{if(Ed(),Us.current=ca,da){for(var i=He.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}da=!1}if(zi=0,nt=Xe=He=null,gr=!1,Lr=0,Ud.current=null,n===null||n.return===null){Qe=1,Fr=t,Ke=null;break}e:{var s=e,u=n.return,f=n,p=t;if(t=st,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var m=p,y=f,v=y.tag;if(!(y.mode&1)&&(v===0||v===11||v===15)){var _=y.alternate;_?(y.updateQueue=_.updateQueue,y.memoizedState=_.memoizedState,y.lanes=_.lanes):(y.updateQueue=null,y.memoizedState=null)}var S=sh(u);if(S!==null){S.flags&=-257,ah(S,u,f,s,t),S.mode&1&&rh(s,m,t),t=S,p=m;var k=t.updateQueue;if(k===null){var I=new Set;I.add(p),t.updateQueue=I}else k.add(p);break e}else{if(!(t&1)){rh(s,m,t),Od();break e}p=Error(j(426))}}else if(ze&&f.mode&1){var M=sh(u);if(M!==null){!(M.flags&65536)&&(M.flags|=256),ah(M,u,f,s,t),Td(Mo(p,f));break e}}s=p=Mo(p,f),Qe!==4&&(Qe=2),vr===null?vr=[s]:vr.push(s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var C=qg(s,p,t);Qf(s,C);break e;case 1:f=p;var T=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ri===null||!ri.has(E)))){s.flags|=65536,t&=-t,s.lanes|=t;var P=jg(s,f,t);Qf(s,P);break e}}s=s.return}while(s!==null)}d0(n)}catch(z){t=z,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function l0(){var e=fa.current;return fa.current=ca,e===null?ca:e}function Od(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),it===null||!(Fi&268435455)&&!(za&268435455)||Kn(it,st)}function ma(e,t){var n=_e;_e|=2;var i=l0();(it!==e||st!==t)&&(En=null,Mi(e,t));do try{Ux();break}catch(r){a0(e,r)}while(!0);if(Ed(),_e=n,fa.current=i,Ke!==null)throw Error(j(261));return it=null,st=0,Qe}function Ux(){for(;Ke!==null;)u0(Ke)}function Vx(){for(;Ke!==null&&!d_();)u0(Ke)}function u0(e){var t=f0(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?d0(e):Ke=t,Ud.current=null}function d0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Mx(n,t),n!==null){n.flags&=32767,Ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,Ke=null;return}}else if(n=bx(n,t,kt),n!==null){Ke=n;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Qe===0&&(Qe=5)}function Ii(e,t,n){var i=Te,r=Gt.transition;try{Gt.transition=null,Te=1,Bx(e,t,n,i)}finally{Gt.transition=r,Te=i}return null}function Bx(e,t,n,i){do To();while(Xn!==null);if(_e&6)throw Error(j(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(x_(e,s),e===it&&(Ke=it=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ns||(Ns=!0,h0(Ks,function(){return To(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Gt.transition,Gt.transition=null;var u=Te;Te=1;var f=_e;_e|=4,Ud.current=null,Lx(e,n),o0(n,e),sx(vu),Xs=!!yu,vu=yu=null,e.current=n,Dx(n),c_(),_e=f,Te=u,Gt.transition=s}else e.current=n;if(Ns&&(Ns=!1,Xn=e,pa=r),s=e.pendingLanes,s===0&&(ri=null),p_(n.stateNode),Ct(e,je()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(ha)throw ha=!1,e=Uu,Uu=null,e;return pa&1&&e.tag!==0&&To(),s=e.pendingLanes,s&1?e===Vu?_r++:(_r=0,Vu=e):_r=0,pi(),null}function To(){if(Xn!==null){var e=qm(pa),t=Gt.transition,n=Te;try{if(Gt.transition=null,Te=16>e?16:e,Xn===null)var i=!1;else{if(e=Xn,Xn=null,pa=0,_e&6)throw Error(j(331));var r=_e;for(_e|=4,te=e.current;te!==null;){var s=te,u=s.child;if(te.flags&16){var f=s.deletions;if(f!==null){for(var p=0;p<f.length;p++){var m=f[p];for(te=m;te!==null;){var y=te;switch(y.tag){case 0:case 11:case 15:yr(8,y,s)}var v=y.child;if(v!==null)v.return=y,te=v;else for(;te!==null;){y=te;var _=y.sibling,S=y.return;if(t0(y),y===m){te=null;break}if(_!==null){_.return=S,te=_;break}te=S}}}var k=s.alternate;if(k!==null){var I=k.child;if(I!==null){k.child=null;do{var M=I.sibling;I.sibling=null,I=M}while(I!==null)}}te=s}}if(s.subtreeFlags&2064&&u!==null)u.return=s,te=u;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yr(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,te=C;break e}te=s.return}}var T=e.current;for(te=T;te!==null;){u=te;var E=u.child;if(u.subtreeFlags&2064&&E!==null)E.return=u,te=E;else e:for(u=T;te!==null;){if(f=te,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:Da(9,f)}}catch(z){Oe(f,f.return,z)}if(f===u){te=null;break e}var P=f.sibling;if(P!==null){P.return=f.return,te=P;break e}te=f.return}}if(_e=r,pi(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(Na,e)}catch{}i=!0}return i}finally{Te=n,Gt.transition=t}}return!1}function xh(e,t,n){t=Mo(n,t),t=qg(e,t,1),e=oi(e,t,1),t=gt(),e!==null&&(Or(e,1,t),Ct(e,t))}function Oe(e,t,n){if(e.tag===3)xh(e,e,n);else for(;t!==null;){if(t.tag===3){xh(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ri===null||!ri.has(i))){e=Mo(n,e),e=jg(t,e,1),t=oi(t,e,1),e=gt(),t!==null&&(Or(t,1,e),Ct(t,e));break}}t=t.return}}function Hx(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&n,it===e&&(st&n)===n&&(Qe===4||Qe===3&&(st&130023424)===st&&500>je()-Bd?Mi(e,0):Vd|=n),Ct(e,t)}function c0(e,t){t===0&&(e.mode&1?(t=ys,ys<<=1,!(ys&130023424)&&(ys=4194304)):t=1);var n=gt();e=Rn(e,t),e!==null&&(Or(e,t,n),Ct(e,n))}function Gx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),c0(e,n)}function Ox(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(j(314))}i!==null&&i.delete(t),c0(e,n)}var f0;f0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)wt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return wt=!1,Ax(e,t,n);wt=!!(e.flags&131072)}else wt=!1,ze&&t.flags&1048576&&gg(t,ra,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Bs(e,t),e=t.pendingProps;var r=Io(t,ft.current);So(t,n),r=Rd(null,t,i,e,r,n);var s=Ld();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tt(i)?(s=!0,ia(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Id(t),r.updater=La,t.stateNode=r,r._reactInternals=t,Nu(t,i,e,n),t=Au(null,t,i,!0,s,n)):(t.tag=0,ze&&s&&wd(t),mt(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Bs(e,t),e=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=jx(i),e=Qt(i,e),r){case 0:t=Pu(null,t,i,e,n);break e;case 1:t=dh(null,t,i,e,n);break e;case 11:t=lh(null,t,i,e,n);break e;case 14:t=uh(null,t,i,Qt(i.type,e),n);break e}throw Error(j(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Qt(i,r),Pu(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Qt(i,r),dh(e,t,i,r,n);case 3:e:{if($g(t),e===null)throw Error(j(387));i=t.pendingProps,s=t.memoizedState,r=s.element,Sg(e,t),la(t,i,null,n);var u=t.memoizedState;if(i=u.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=Mo(Error(j(423)),t),t=ch(e,t,i,n,r);break e}else if(i!==r){r=Mo(Error(j(424)),t),t=ch(e,t,i,n,r);break e}else for(It=ii(t.stateNode.containerInfo.firstChild),Pt=t,ze=!0,tn=null,n=xg(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Po(),i===r){t=Ln(e,t,n);break e}mt(e,t,i,n)}t=t.child}return t;case 5:return Tg(t),e===null&&Cu(t),i=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,u=r.children,_u(i,r)?u=null:s!==null&&_u(i,s)&&(t.flags|=32),Jg(e,t),mt(e,t,u,n),t.child;case 6:return e===null&&Cu(t),null;case 13:return Kg(e,t,n);case 4:return Pd(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ao(t,null,i,n):mt(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Qt(i,r),lh(e,t,i,r,n);case 7:return mt(e,t,t.pendingProps,n),t.child;case 8:return mt(e,t,t.pendingProps.children,n),t.child;case 12:return mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,u=r.value,be(sa,i._currentValue),i._currentValue=u,s!==null)if(rn(s.value,u)){if(s.children===r.children&&!St.current){t=Ln(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var f=s.dependencies;if(f!==null){u=s.child;for(var p=f.firstContext;p!==null;){if(p.context===i){if(s.tag===1){p=An(-1,n&-n),p.tag=2;var m=s.updateQueue;if(m!==null){m=m.shared;var y=m.pending;y===null?p.next=p:(p.next=y.next,y.next=p),m.pending=p}}s.lanes|=n,p=s.alternate,p!==null&&(p.lanes|=n),Eu(s.return,n,t),f.lanes|=n;break}p=p.next}}else if(s.tag===10)u=s.type===t.type?null:s.child;else if(s.tag===18){if(u=s.return,u===null)throw Error(j(341));u.lanes|=n,f=u.alternate,f!==null&&(f.lanes|=n),Eu(u,n,t),u=s.sibling}else u=s.child;if(u!==null)u.return=s;else for(u=s;u!==null;){if(u===t){u=null;break}if(s=u.sibling,s!==null){s.return=u.return,u=s;break}u=u.return}s=u}mt(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,So(t,n),r=qt(r),i=i(r),t.flags|=1,mt(e,t,i,n),t.child;case 14:return i=t.type,r=Qt(i,t.pendingProps),r=Qt(i.type,r),uh(e,t,i,r,n);case 15:return Zg(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Qt(i,r),Bs(e,t),t.tag=1,Tt(i)?(e=!0,ia(t)):e=!1,So(t,n),Og(t,i,r),Nu(t,i,r,n),Au(null,t,i,!0,e,n);case 19:return Yg(e,t,n);case 22:return Wg(e,t,n)}throw Error(j(156,t.tag))};function h0(e,t){return Bm(e,t)}function qx(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,n,i){return new qx(e,t,n,i)}function qd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jx(e){if(typeof e=="function")return qd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ud)return 11;if(e===dd)return 14}return 2}function ai(e,t){var n=e.alternate;return n===null?(n=Bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Os(e,t,n,i,r,s){var u=2;if(i=e,typeof e=="function")qd(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case ro:return Ri(n.children,r,s,t);case ld:u=8,r|=8;break;case Yl:return e=Bt(12,n,t,r|2),e.elementType=Yl,e.lanes=s,e;case Xl:return e=Bt(13,n,t,r),e.elementType=Xl,e.lanes=s,e;case Ql:return e=Bt(19,n,t,r),e.elementType=Ql,e.lanes=s,e;case Tm:return Fa(n,r,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wm:u=10;break e;case Sm:u=9;break e;case ud:u=11;break e;case dd:u=14;break e;case Wn:u=16,i=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=Bt(u,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function Ri(e,t,n,i){return e=Bt(7,e,i,t),e.lanes=n,e}function Fa(e,t,n,i){return e=Bt(22,e,i,t),e.elementType=Tm,e.lanes=n,e.stateNode={isHidden:!1},e}function Zl(e,t,n){return e=Bt(6,e,null,t),e.lanes=n,e}function Wl(e,t,n){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zx(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nl(0),this.expirationTimes=Nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function jd(e,t,n,i,r,s,u,f,p){return e=new Zx(e,t,n,f,p),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Bt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Id(s),e}function Wx(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oo,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function p0(e){if(!e)return ci;e=e._reactInternals;e:{if(Hi(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var n=e.type;if(Tt(n))return pg(e,n,t)}return t}function m0(e,t,n,i,r,s,u,f,p){return e=jd(n,i,!0,e,r,s,u,f,p),e.context=p0(null),n=e.current,i=gt(),r=si(n),s=An(i,r),s.callback=t??null,oi(n,s,r),e.current.lanes=r,Or(e,r,i),Ct(e,i),e}function Ua(e,t,n,i){var r=t.current,s=gt(),u=si(r);return n=p0(n),t.context===null?t.context=n:t.pendingContext=n,t=An(s,u),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=oi(r,t,u),e!==null&&(on(e,r,u,s),Fs(e,r,u)),u}function ga(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zd(e,t){wh(e,t),(e=e.alternate)&&wh(e,t)}function Jx(){return null}var g0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wd(e){this._internalRoot=e}Va.prototype.render=Wd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));Ua(e,t,null,null)};Va.prototype.unmount=Wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ui(function(){Ua(null,e,null,null)}),t[Mn]=null}};function Va(e){this._internalRoot=e}Va.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$n.length&&t!==0&&t<$n[n].priority;n++);$n.splice(n,0,e),n===0&&$m(e)}};function Jd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sh(){}function $x(e,t,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var m=ga(u);s.call(m)}}var u=m0(t,i,e,0,null,!1,!1,"",Sh);return e._reactRootContainer=u,e[Mn]=u.current,Pr(e.nodeType===8?e.parentNode:e),Ui(),u}for(;r=e.lastChild;)e.removeChild(r);if(typeof i=="function"){var f=i;i=function(){var m=ga(p);f.call(m)}}var p=jd(e,0,!1,null,null,!1,!1,"",Sh);return e._reactRootContainer=p,e[Mn]=p.current,Pr(e.nodeType===8?e.parentNode:e),Ui(function(){Ua(t,p,n,i)}),p}function Ha(e,t,n,i,r){var s=n._reactRootContainer;if(s){var u=s;if(typeof r=="function"){var f=r;r=function(){var p=ga(u);f.call(p)}}Ua(t,u,e,r)}else u=$x(n,t,e,r,i);return ga(u)}jm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ur(t.pendingLanes);n!==0&&(hd(t,n|1),Ct(t,je()),!(_e&6)&&(Ro=je()+500,pi()))}break;case 13:Ui(function(){var i=Rn(e,1);if(i!==null){var r=gt();on(i,e,1,r)}}),Zd(e,1)}};pd=function(e){if(e.tag===13){var t=Rn(e,134217728);if(t!==null){var n=gt();on(t,e,134217728,n)}Zd(e,134217728)}};Zm=function(e){if(e.tag===13){var t=si(e),n=Rn(e,t);if(n!==null){var i=gt();on(n,e,t,i)}Zd(e,t)}};Wm=function(){return Te};Jm=function(e,t){var n=Te;try{return Te=e,t()}finally{Te=n}};uu=function(e,t,n){switch(t){case"input":if(nu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=ba(i);if(!r)throw Error(j(90));Em(i),nu(i,r)}}}break;case"textarea":Nm(e,n);break;case"select":t=n.value,t!=null&&vo(e,!!n.multiple,t,!1)}};Lm=Hd;Dm=Ui;var Kx={usingClientEntryPoint:!1,Events:[jr,uo,ba,Mm,Rm,Hd]},rr={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yx={bundleType:rr.bundleType,version:rr.version,rendererPackageName:rr.rendererPackageName,rendererConfig:rr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Um(e),e===null?null:e.stateNode},findFiberByHostInstance:rr.findFiberByHostInstance||Jx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Is.isDisabled&&Is.supportsFiber)try{Na=Is.inject(Yx),yn=Is}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kx;Mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jd(t))throw Error(j(200));return Wx(e,t,null,n)};Mt.createRoot=function(e,t){if(!Jd(e))throw Error(j(299));var n=!1,i="",r=g0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=jd(e,1,!1,null,null,n,!1,i,r),e[Mn]=t.current,Pr(e.nodeType===8?e.parentNode:e),new Wd(t)};Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=Um(t),e=e===null?null:e.stateNode,e};Mt.flushSync=function(e){return Ui(e)};Mt.hydrate=function(e,t,n){if(!Ba(t))throw Error(j(200));return Ha(null,e,t,!0,n)};Mt.hydrateRoot=function(e,t,n){if(!Jd(e))throw Error(j(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",u=g0;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=m0(t,null,e,1,n??null,r,!1,s,u),e[Mn]=t.current,Pr(e),i)for(e=0;e<i.length;e++)n=i[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Va(t)};Mt.render=function(e,t,n){if(!Ba(t))throw Error(j(200));return Ha(null,e,t,!1,n)};Mt.unmountComponentAtNode=function(e){if(!Ba(e))throw Error(j(40));return e._reactRootContainer?(Ui(function(){Ha(null,null,e,!1,function(){e._reactRootContainer=null,e[Mn]=null})}),!0):!1};Mt.unstable_batchedUpdates=Hd;Mt.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Ba(n))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return Ha(e,t,n,!1,i)};Mt.version="18.3.1-next-f1338f8080-20240426";function y0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y0)}catch(e){console.error(e)}}y0(),ym.exports=Mt;var Xx=ym.exports,Th=Xx;$l.createRoot=Th.createRoot,$l.hydrateRoot=Th.hydrateRoot;var $e=(e=>(e.HOME="home",e.PROPERTIES="properties",e.ADD="add",e.CLIENTS="clients",e.TASKS="tasks",e.COMMISSION="commission",e))($e||{}),sn=(e=>(e.TEXT_CHAT="TEXT_CHAT",e.IMAGE_GENERATION="IMAGE_GENERATION",e.VIRTUAL_STAGING="VIRTUAL_STAGING",e))(sn||{});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(e,t)=>{const n=D.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:u,className:f="",children:p,...m},y)=>D.createElement("svg",{ref:y,...Qx,width:r,height:r,stroke:i,strokeWidth:u?Number(s)*24/Number(r):s,className:["lucide",`lucide-${ew(e)}`,f].join(" "),...m},[...t.map(([v,_])=>D.createElement(v,_)),...Array.isArray(p)?p:[p]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=ie("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v2H7v-2a2 2 0 0 0-4 0Z",key:"1e01m0"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=ie("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=ie("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=ie("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=ie("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ie("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=ie("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=ie("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=ie("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=ie("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=ie("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=ie("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=ie("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=ie("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=ie("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=ie("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=ie("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=ie("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=ie("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=ie("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=ie("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=ie("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=ie("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=ie("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ie("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=ie("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=ie("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=ie("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=ie("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=ie("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=ie("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=ie("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),bw=({title:e,onSearchClick:t,showBack:n,onBack:i,onSettingsClick:r})=>h.jsxs("header",{className:"flex justify-between items-center px-6 pt-12 pb-4 sticky top-0 z-40 bg-slate-50/80 dark:bg-[#0F172A]/80 backdrop-blur-md transition-colors duration-300",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[n?h.jsx("button",{onClick:i,className:"w-10 h-10 bg-white dark:bg-white/10 rounded-full flex items-center justify-center border border-gray-200 dark:border-white/10 text-slate-700 dark:text-white shadow-sm dark:shadow-none hover:bg-gray-100 dark:hover:bg-white/20 transition-all active:scale-95",children:h.jsx(v0,{size:22})}):h.jsx("button",{onClick:t,className:"w-10 h-10 bg-white dark:bg-white/5 rounded-full flex items-center justify-center border border-gray-200 dark:border-white/10 text-slate-500 dark:text-gray-300 shadow-sm dark:shadow-none hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:h.jsx(xw,{size:20})}),e&&h.jsx("h1",{className:"text-lg font-bold text-slate-800 dark:text-white animate-fade-in",children:e})]}),h.jsx("button",{onClick:r,className:"w-10 h-10 bg-white dark:bg-white/5 rounded-full flex items-center justify-center border border-gray-200 dark:border-white/10 text-slate-500 dark:text-gray-300 shadow-sm dark:shadow-none hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:h.jsx(Sw,{size:20})})]}),Mw=({activeTab:e,setActiveTab:t})=>{const n=[{id:$e.HOME,label:"",icon:Ou},{id:$e.PROPERTIES,label:"",icon:iw},{id:$e.ADD,label:"",icon:yw,isSpecial:!0},{id:$e.CLIENTS,label:"",icon:va},{id:$e.TASKS,label:"",icon:Gu},{id:$e.COMMISSION,label:"",icon:ui}];return h.jsx("div",{className:"fixed bottom-4 left-4 right-4 max-w-[400px] mx-auto bg-white/95 dark:bg-[#1E293B]/95 backdrop-blur-xl border border-gray-200 dark:border-white/10 rounded-[24px] px-2 py-2 z-50 shadow-2xl shadow-slate-300/50 dark:shadow-black/50 flex justify-between items-end transition-colors duration-300 h-[75px]",children:n.map(i=>{const r=e===i.id,s=i.icon;return i.isSpecial?h.jsxs("div",{className:"relative -top-4 flex flex-col items-center w-1/6",children:[h.jsx("button",{onClick:()=>t(i.id),className:"bg-gradient-to-tr from-purple-600 to-blue-500 w-14 h-14 rounded-full flex items-center justify-center shadow-lg shadow-purple-500/40 border-4 border-slate-50 dark:border-[#0f172a] text-white transition-transform hover:scale-105 active:scale-95",children:h.jsx(s,{size:28,strokeWidth:3})}),h.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 mt-1",children:i.label})]},i.id):h.jsxs("button",{onClick:()=>t(i.id),className:`flex flex-col items-center justify-center w-1/6 pb-1 transition-all duration-300 ${r?"text-purple-600 dark:text-white":"text-gray-400 dark:text-gray-500"}`,children:[h.jsx("div",{className:`mb-1 transition-all duration-300 ${r?"-translate-y-1":""}`,children:h.jsx(s,{size:20,strokeWidth:r?2.5:2})}),h.jsx("span",{className:`text-[9px] font-medium transition-all duration-300 ${r?"opacity-100 font-bold":"opacity-80"}`,children:i.label})]},i.id)})})},Ps=({title:e,value:t,subValue:n,icon:i,colorClass:r})=>h.jsxs("div",{className:"p-4 rounded-3xl bg-white dark:bg-[#1E293B] border border-gray-100 dark:border-white/5 relative overflow-hidden flex flex-col justify-between h-32 shadow-lg shadow-gray-200/50 dark:shadow-none hover:scale-[1.02] transition-all duration-300",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("div",{className:`${r} p-2 rounded-full bg-opacity-10 dark:bg-opacity-20`,children:mm.cloneElement(i,{className:`w-5 h-5 ${r.replace("bg-","text-")}`})}),h.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:e})]}),h.jsxs("div",{className:"mt-2 relative z-10",children:[h.jsx("h3",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:t}),n&&h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 truncate",children:n})]}),h.jsx("div",{className:`absolute -bottom-4 -right-4 w-16 h-16 ${r} blur-2xl opacity-10 dark:opacity-20 rounded-full`})]});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Rw,Lw;function Dw(){return{geminiUrl:Rw,vertexUrl:Lw}}function zw(e,t,n,i){var r,s;if(!(e!=null&&e.baseUrl)){const u=Dw();return t?(r=u.vertexUrl)!==null&&r!==void 0?r:n:(s=u.geminiUrl)!==null&&s!==void 0?s:i}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fn{}function Y(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const s=t[r];return s!=null?String(s):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function d(e,t,n){for(let s=0;s<t.length-1;s++){const u=t[s];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in e))if(Array.isArray(n))e[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(e[f])){const p=e[f];if(Array.isArray(n))for(let m=0;m<p.length;m++){const y=p[m];d(y,t.slice(s+1),n[m])}else for(const m of p)d(m,t.slice(s+1),n)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in e||(e[f]=[{}]);const p=e[f];d(p[0],t.slice(s+1),n);return}(!e[u]||typeof e[u]!="object")&&(e[u]={}),e=e[u]}const i=t[t.length-1],r=e[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[i]=n}function l(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let i=0;i<t.length;i++){if(typeof e!="object"||e===null)return n;const r=t[i];if(r.endsWith("[]")){const s=r.slice(0,-2);if(s in e){const u=e[s];return Array.isArray(u)?u.map(f=>l(f,t.slice(i+1),n)):n}else return n}else e=e[r]}return e}catch(i){if(i instanceof TypeError)return n;throw i}}function Fw(e,t){for(const[n,i]of Object.entries(t)){const r=n.split("."),s=i.split("."),u=new Set;let f=-1;for(let p=0;p<r.length;p++)if(r[p]==="*"){f=p;break}if(f!==-1&&s.length>f)for(let p=f;p<s.length;p++){const m=s[p];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&u.add(m)}ju(e,r,s,0,u)}}function ju(e,t,n,i,r){if(i>=t.length||typeof e!="object"||e===null)return;const s=t[i];if(s.endsWith("[]")){const u=s.slice(0,-2),f=e;if(u in f&&Array.isArray(f[u]))for(const p of f[u])ju(p,t,n,i+1,r)}else if(s==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const u=e,f=Object.keys(u).filter(m=>!m.startsWith("_")&&!r.has(m)),p={};for(const m of f)p[m]=u[m];for(const[m,y]of Object.entries(p)){const v=[];for(const _ of n.slice(i))_==="*"?v.push(m):v.push(_);d(u,v,y)}for(const m of f)delete u[m]}}else{const u=e;s in u&&ju(u[s],t,n,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qd(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uw(e){const t={},n=l(e,["operationName"]);n!=null&&d(t,["operationName"],n);const i=l(e,["resourceName"]);return i!=null&&d(t,["_url","resourceName"],i),t}function Vw(e){const t={},n=l(e,["name"]);n!=null&&d(t,["name"],n);const i=l(e,["metadata"]);i!=null&&d(t,["metadata"],i);const r=l(e,["done"]);r!=null&&d(t,["done"],r);const s=l(e,["error"]);s!=null&&d(t,["error"],s);const u=l(e,["response","generateVideoResponse"]);return u!=null&&d(t,["response"],Hw(u)),t}function Bw(e){const t={},n=l(e,["name"]);n!=null&&d(t,["name"],n);const i=l(e,["metadata"]);i!=null&&d(t,["metadata"],i);const r=l(e,["done"]);r!=null&&d(t,["done"],r);const s=l(e,["error"]);s!=null&&d(t,["error"],s);const u=l(e,["response"]);return u!=null&&d(t,["response"],Gw(u)),t}function Hw(e){const t={},n=l(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>Ow(u))),d(t,["generatedVideos"],s)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&d(t,["raiMediaFilteredCount"],i);const r=l(e,["raiMediaFilteredReasons"]);return r!=null&&d(t,["raiMediaFilteredReasons"],r),t}function Gw(e){const t={},n=l(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>qw(u))),d(t,["generatedVideos"],s)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&d(t,["raiMediaFilteredCount"],i);const r=l(e,["raiMediaFilteredReasons"]);return r!=null&&d(t,["raiMediaFilteredReasons"],r),t}function Ow(e){const t={},n=l(e,["video"]);return n!=null&&d(t,["video"],Kw(n)),t}function qw(e){const t={},n=l(e,["_self"]);return n!=null&&d(t,["video"],Yw(n)),t}function jw(e){const t={},n=l(e,["operationName"]);return n!=null&&d(t,["_url","operationName"],n),t}function Zw(e){const t={},n=l(e,["operationName"]);return n!=null&&d(t,["_url","operationName"],n),t}function Ww(e){const t={},n=l(e,["name"]);n!=null&&d(t,["name"],n);const i=l(e,["metadata"]);i!=null&&d(t,["metadata"],i);const r=l(e,["done"]);r!=null&&d(t,["done"],r);const s=l(e,["error"]);s!=null&&d(t,["error"],s);const u=l(e,["response"]);return u!=null&&d(t,["response"],Jw(u)),t}function Jw(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["parent"]);i!=null&&d(t,["parent"],i);const r=l(e,["documentName"]);return r!=null&&d(t,["documentName"],r),t}function E0(e){const t={},n=l(e,["name"]);n!=null&&d(t,["name"],n);const i=l(e,["metadata"]);i!=null&&d(t,["metadata"],i);const r=l(e,["done"]);r!=null&&d(t,["done"],r);const s=l(e,["error"]);s!=null&&d(t,["error"],s);const u=l(e,["response"]);return u!=null&&d(t,["response"],$w(u)),t}function $w(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["parent"]);i!=null&&d(t,["parent"],i);const r=l(e,["documentName"]);return r!=null&&d(t,["documentName"],r),t}function Kw(e){const t={},n=l(e,["uri"]);n!=null&&d(t,["uri"],n);const i=l(e,["encodedVideo"]);i!=null&&d(t,["videoBytes"],Qd(i));const r=l(e,["encoding"]);return r!=null&&d(t,["mimeType"],r),t}function Yw(e){const t={},n=l(e,["gcsUri"]);n!=null&&d(t,["uri"],n);const i=l(e,["bytesBase64Encoded"]);i!=null&&d(t,["videoBytes"],Qd(i));const r=l(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kh;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(kh||(kh={}));var Nh;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Nh||(Nh={}));var Ih;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Ih||(Ih={}));var Ht;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ht||(Ht={}));var Ph;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Ph||(Ph={}));var Ah;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ah||(Ah={}));var bh;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(bh||(bh={}));var Mh;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Mh||(Mh={}));var Rh;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Rh||(Rh={}));var Lh;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(Lh||(Lh={}));var Dh;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Dh||(Dh={}));var zh;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(zh||(zh={}));var Fh;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Fh||(Fh={}));var Uh;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(Uh||(Uh={}));var Vh;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Vh||(Vh={}));var Bh;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Bh||(Bh={}));var Hh;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Hh||(Hh={}));var Gh;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Gh||(Gh={}));var Oh;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Oh||(Oh={}));var xa;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(xa||(xa={}));var qh;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qh||(qh={}));var jh;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(jh||(jh={}));var Zh;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Zh||(Zh={}));var Zu;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Zu||(Zu={}));var Wh;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Wh||(Wh={}));var Jh;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Jh||(Jh={}));var $h;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})($h||($h={}));var Kh;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Kh||(Kh={}));var Yh;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Yh||(Yh={}));var Xh;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Xh||(Xh={}));var Qh;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Qh||(Qh={}));var ep;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(ep||(ep={}));var tp;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(tp||(tp={}));var np;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(np||(np={}));var ip;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ip||(ip={}));var op;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(op||(op={}));var rp;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(rp||(rp={}));var sp;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(sp||(sp={}));var ap;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(ap||(ap={}));var lp;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(lp||(lp={}));var up;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(up||(up={}));var dp;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(dp||(dp={}));var cp;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(cp||(cp={}));var fp;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(fp||(fp={}));var hp;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(hp||(hp={}));var pp;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(pp||(pp={}));var mp;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(mp||(mp={}));var gp;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(gp||(gp={}));var yp;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(yp||(yp={}));var vp;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vp||(vp={}));var _p;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(_p||(_p={}));var xp;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xp||(xp={}));var wp;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(wp||(wp={}));var Sp;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Sp||(Sp={}));var yo;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(yo||(yo={}));class Wu{constructor(t){const n={};for(const i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class sr{get text(){var t,n,i,r,s,u,f,p;if(((r=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const v=[];for(const _ of(p=(f=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[S,k]of Object.entries(_))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(k!==null||k!==void 0)&&v.push(S);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;y=!0,m+=_.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var t,n,i,r,s,u,f,p;if(((r=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const v of(p=(f=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[_,S]of Object.entries(v))_!=="inlineData"&&(S!==null||S!==void 0)&&y.push(_);v.inlineData&&typeof v.inlineData.data=="string"&&(m+=atob(v.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,n,i,r,s,u,f,p;if(((r=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(f=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,n,i,r,s,u,f,p,m;if(((r=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(f=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,n,i,r,s,u,f,p,m;if(((r=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(f=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class Tp{}class Cp{}class Xw{}class Qw{}class eS{}class tS{}class Ep{}class kp{}class Np{}class nS{}class wa{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new wa;let r;const s=t;return n?r=Bw(s):r=Vw(s),Object.assign(i,r),i}}class Ip{}class Pp{}class Ap{}class iS{}class oS{}class rS{}class ec{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new ec,s=Ww(t);return Object.assign(i,s),i}}class sS{}class aS{}class lS{}class bp{}class uS{get text(){var t,n,i;let r="",s=!1;const u=[];for(const f of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,m]of Object.entries(f))p!=="text"&&p!=="thought"&&m!==null&&u.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;s=!0,r+=f.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var t,n,i;let r="";const s=[];for(const u of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[f,p]of Object.entries(u))f!=="inlineData"&&p!==null&&s.push(f);u.inlineData&&typeof u.inlineData.data=="string"&&(r+=atob(u.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class dS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class tc{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new tc,s=E0(t);return Object.assign(i,s),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Se(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function k0(e,t){const n=Se(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function N0(e){return Array.isArray(e)?e.map(t=>Sa(t)):[Sa(e)]}function Sa(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function I0(e){const t=Sa(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function P0(e){const t=Sa(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Mp(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function A0(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Mp(t)):[Mp(e)]}function Ju(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Rp(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Lp(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function ct(e){if(e==null)throw new Error("ContentUnion is required");return Ju(e)?e:{role:"user",parts:A0(e)}}function nc(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const i=ct(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(e.isVertexAI()){const n=ct(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>ct(n)):[ct(t)]}function Ot(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Rp(e)||Lp(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ct(e)]}const t=[],n=[],i=Ju(e[0]);for(const r of e){const s=Ju(r);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(r);else{if(Rp(r)||Lp(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||t.push({role:"user",parts:A0(n)}),t}function cS(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(i=>i!=="null");if(n.length===1)t.type=Object.values(Ht).includes(n[0].toUpperCase())?n[0].toUpperCase():Ht.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const i of n)t.anyOf.push({type:Object.values(Ht).includes(i.toUpperCase())?i.toUpperCase():Ht.TYPE_UNSPECIFIED})}}function Co(e){const t={},n=["items"],i=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=e.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(t.nullable=!0,e=s[1]):s[1].type==="null"&&(t.nullable=!0,e=s[0])),e.type instanceof Array&&cS(e.type,t);for(const[u,f]of Object.entries(e))if(f!=null)if(u=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;t.type=Object.values(Ht).includes(f.toUpperCase())?f.toUpperCase():Ht.TYPE_UNSPECIFIED}else if(n.includes(u))t[u]=Co(f);else if(i.includes(u)){const p=[];for(const m of f){if(m.type=="null"){t.nullable=!0;continue}p.push(Co(m))}t[u]=p}else if(r.includes(u)){const p={};for(const[m,y]of Object.entries(f))p[m]=Co(y);t[u]=p}else{if(u==="additionalProperties")continue;t[u]=f}return t}function ic(e){return Co(e)}function oc(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function rc(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Fo(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Co(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Co(t.response));return e}function Uo(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function fS(e,t,n,i=1){const r=!t.startsWith(`${n}/`)&&t.split("/").length===i;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:r?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:r?`${n}/${t}`:t}function Un(e,t){if(typeof t!="string")throw new Error("name must be a string");return fS(e,t,"cachedContents")}function b0(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function gi(e){return Qd(e)}function hS(e){return e!=null&&typeof e=="object"&&"name"in e}function pS(e){return e!=null&&typeof e=="object"&&"video"in e}function mS(e){return e!=null&&typeof e=="object"&&"uri"in e}function M0(e){var t;let n;if(hS(e)&&(n=e.name),!(mS(e)&&(n=e.uri,n===void 0))&&!(pS(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function R0(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function L0(e){for(const t of["models","tunedModels","publisherModels"])if(gS(e,t))return e[t];return[]}function gS(e,t){return e!==null&&typeof e=="object"&&t in e}function yS(e,t={}){const n=e,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function vS(e,t={}){const n=[],i=new Set;for(const r of e){const s=r.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const u=yS(r,t);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function D0(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function _S(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function z0(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let s=!1;for(const u of r){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){s=!0;break}}return s&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Vo(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function F0(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xS(e){const t={},n=l(e,["responsesFile"]);n!=null&&d(t,["fileName"],n);const i=l(e,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>eT(u))),d(t,["inlinedResponses"],s)}const r=l(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>u)),d(t,["inlinedEmbedContentResponses"],s)}return t}function wS(e){const t={},n=l(e,["predictionsFormat"]);n!=null&&d(t,["format"],n);const i=l(e,["gcsDestination","outputUriPrefix"]);i!=null&&d(t,["gcsUri"],i);const r=l(e,["bigqueryDestination","outputUri"]);return r!=null&&d(t,["bigqueryUri"],r),t}function SS(e){const t={},n=l(e,["format"]);n!=null&&d(t,["predictionsFormat"],n);const i=l(e,["gcsUri"]);i!=null&&d(t,["gcsDestination","outputUriPrefix"],i);const r=l(e,["bigqueryUri"]);if(r!=null&&d(t,["bigqueryDestination","outputUri"],r),l(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function js(e){const t={},n=l(e,["name"]);n!=null&&d(t,["name"],n);const i=l(e,["metadata","displayName"]);i!=null&&d(t,["displayName"],i);const r=l(e,["metadata","state"]);r!=null&&d(t,["state"],F0(r));const s=l(e,["metadata","createTime"]);s!=null&&d(t,["createTime"],s);const u=l(e,["metadata","endTime"]);u!=null&&d(t,["endTime"],u);const f=l(e,["metadata","updateTime"]);f!=null&&d(t,["updateTime"],f);const p=l(e,["metadata","model"]);p!=null&&d(t,["model"],p);const m=l(e,["metadata","output"]);return m!=null&&d(t,["dest"],xS(z0(m))),t}function $u(e){const t={},n=l(e,["name"]);n!=null&&d(t,["name"],n);const i=l(e,["displayName"]);i!=null&&d(t,["displayName"],i);const r=l(e,["state"]);r!=null&&d(t,["state"],F0(r));const s=l(e,["error"]);s!=null&&d(t,["error"],s);const u=l(e,["createTime"]);u!=null&&d(t,["createTime"],u);const f=l(e,["startTime"]);f!=null&&d(t,["startTime"],f);const p=l(e,["endTime"]);p!=null&&d(t,["endTime"],p);const m=l(e,["updateTime"]);m!=null&&d(t,["updateTime"],m);const y=l(e,["model"]);y!=null&&d(t,["model"],y);const v=l(e,["inputConfig"]);v!=null&&d(t,["src"],TS(v));const _=l(e,["outputConfig"]);_!=null&&d(t,["dest"],wS(z0(_)));const S=l(e,["completionStats"]);return S!=null&&d(t,["completionStats"],S),t}function TS(e){const t={},n=l(e,["instancesFormat"]);n!=null&&d(t,["format"],n);const i=l(e,["gcsSource","uris"]);i!=null&&d(t,["gcsUri"],i);const r=l(e,["bigquerySource","inputUri"]);return r!=null&&d(t,["bigqueryUri"],r),t}function CS(e,t){const n={};if(l(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=l(t,["fileName"]);i!=null&&d(n,["fileName"],i);const r=l(t,["inlinedRequests"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>QS(e,u))),d(n,["requests","requests"],s)}return n}function ES(e){const t={},n=l(e,["format"]);n!=null&&d(t,["instancesFormat"],n);const i=l(e,["gcsUri"]);i!=null&&d(t,["gcsSource","uris"],i);const r=l(e,["bigqueryUri"]);if(r!=null&&d(t,["bigquerySource","inputUri"],r),l(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function kS(e){const t={},n=l(e,["data"]);if(n!=null&&d(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(e,["mimeType"]);return i!=null&&d(t,["mimeType"],i),t}function NS(e,t){const n={},i=l(t,["name"]);return i!=null&&d(n,["_url","name"],Vo(e,i)),n}function IS(e,t){const n={},i=l(t,["name"]);return i!=null&&d(n,["_url","name"],Vo(e,i)),n}function PS(e){const t={},n=l(e,["content"]);n!=null&&d(t,["content"],n);const i=l(e,["citationMetadata"]);i!=null&&d(t,["citationMetadata"],AS(i));const r=l(e,["tokenCount"]);r!=null&&d(t,["tokenCount"],r);const s=l(e,["finishReason"]);s!=null&&d(t,["finishReason"],s);const u=l(e,["avgLogprobs"]);u!=null&&d(t,["avgLogprobs"],u);const f=l(e,["groundingMetadata"]);f!=null&&d(t,["groundingMetadata"],f);const p=l(e,["index"]);p!=null&&d(t,["index"],p);const m=l(e,["logprobsResult"]);m!=null&&d(t,["logprobsResult"],m);const y=l(e,["safetyRatings"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>S)),d(t,["safetyRatings"],_)}const v=l(e,["urlContextMetadata"]);return v!=null&&d(t,["urlContextMetadata"],v),t}function AS(e){const t={},n=l(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),d(t,["citations"],i)}return t}function U0(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>aT(s))),d(t,["parts"],r)}const i=l(e,["role"]);return i!=null&&d(t,["role"],i),t}function bS(e,t){const n={},i=l(e,["displayName"]);if(t!==void 0&&i!=null&&d(t,["batch","displayName"],i),l(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function MS(e,t){const n={},i=l(e,["displayName"]);t!==void 0&&i!=null&&d(t,["displayName"],i);const r=l(e,["dest"]);return t!==void 0&&r!=null&&d(t,["outputConfig"],SS(_S(r))),n}function Dp(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["src"]);r!=null&&d(n,["batch","inputConfig"],CS(e,D0(e,r)));const s=l(t,["config"]);return s!=null&&bS(s,n),n}function RS(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["model"],Se(e,i));const r=l(t,["src"]);r!=null&&d(n,["inputConfig"],ES(D0(e,r)));const s=l(t,["config"]);return s!=null&&MS(s,n),n}function LS(e,t){const n={},i=l(e,["displayName"]);return t!==void 0&&i!=null&&d(t,["batch","displayName"],i),n}function DS(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["src"]);r!=null&&d(n,["batch","inputConfig"],GS(e,r));const s=l(t,["config"]);return s!=null&&LS(s,n),n}function zS(e,t){const n={},i=l(t,["name"]);return i!=null&&d(n,["_url","name"],Vo(e,i)),n}function FS(e,t){const n={},i=l(t,["name"]);return i!=null&&d(n,["_url","name"],Vo(e,i)),n}function US(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["name"]);i!=null&&d(t,["name"],i);const r=l(e,["done"]);r!=null&&d(t,["done"],r);const s=l(e,["error"]);return s!=null&&d(t,["error"],s),t}function VS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["name"]);i!=null&&d(t,["name"],i);const r=l(e,["done"]);r!=null&&d(t,["done"],r);const s=l(e,["error"]);return s!=null&&d(t,["error"],s),t}function BS(e,t){const n={},i=l(t,["contents"]);if(i!=null){let s=nc(e,i);Array.isArray(s)&&(s=s.map(u=>u)),d(n,["requests[]","request","content"],s)}const r=l(t,["config"]);return r!=null&&(d(n,["_self"],HS(r,n)),Fw(n,{"requests[].*":"requests[].request.*"})),n}function HS(e,t){const n={},i=l(e,["taskType"]);t!==void 0&&i!=null&&d(t,["requests[]","taskType"],i);const r=l(e,["title"]);t!==void 0&&r!=null&&d(t,["requests[]","title"],r);const s=l(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&d(t,["requests[]","outputDimensionality"],s),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function GS(e,t){const n={},i=l(t,["fileName"]);i!=null&&d(n,["file_name"],i);const r=l(t,["inlinedRequests"]);return r!=null&&d(n,["requests"],BS(e,r)),n}function OS(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const i=l(e,["mimeType"]);return i!=null&&d(t,["mimeType"],i),t}function qS(e){const t={},n=l(e,["id"]);n!=null&&d(t,["id"],n);const i=l(e,["args"]);i!=null&&d(t,["args"],i);const r=l(e,["name"]);if(r!=null&&d(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function jS(e){const t={},n=l(e,["mode"]);n!=null&&d(t,["mode"],n);const i=l(e,["allowedFunctionNames"]);if(i!=null&&d(t,["allowedFunctionNames"],i),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function ZS(e,t,n){const i={},r=l(t,["systemInstruction"]);n!==void 0&&r!=null&&d(n,["systemInstruction"],U0(ct(r)));const s=l(t,["temperature"]);s!=null&&d(i,["temperature"],s);const u=l(t,["topP"]);u!=null&&d(i,["topP"],u);const f=l(t,["topK"]);f!=null&&d(i,["topK"],f);const p=l(t,["candidateCount"]);p!=null&&d(i,["candidateCount"],p);const m=l(t,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const y=l(t,["stopSequences"]);y!=null&&d(i,["stopSequences"],y);const v=l(t,["responseLogprobs"]);v!=null&&d(i,["responseLogprobs"],v);const _=l(t,["logprobs"]);_!=null&&d(i,["logprobs"],_);const S=l(t,["presencePenalty"]);S!=null&&d(i,["presencePenalty"],S);const k=l(t,["frequencyPenalty"]);k!=null&&d(i,["frequencyPenalty"],k);const I=l(t,["seed"]);I!=null&&d(i,["seed"],I);const M=l(t,["responseMimeType"]);M!=null&&d(i,["responseMimeType"],M);const C=l(t,["responseSchema"]);C!=null&&d(i,["responseSchema"],ic(C));const T=l(t,["responseJsonSchema"]);if(T!=null&&d(i,["responseJsonSchema"],T),l(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=l(t,["safetySettings"]);if(n!==void 0&&E!=null){let Q=E;Array.isArray(Q)&&(Q=Q.map(ve=>lT(ve))),d(n,["safetySettings"],Q)}const P=l(t,["tools"]);if(n!==void 0&&P!=null){let Q=Uo(P);Array.isArray(Q)&&(Q=Q.map(ve=>dT(Fo(ve)))),d(n,["tools"],Q)}const z=l(t,["toolConfig"]);if(n!==void 0&&z!=null&&d(n,["toolConfig"],uT(z)),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=l(t,["cachedContent"]);n!==void 0&&F!=null&&d(n,["cachedContent"],Un(e,F));const H=l(t,["responseModalities"]);H!=null&&d(i,["responseModalities"],H);const Z=l(t,["mediaResolution"]);Z!=null&&d(i,["mediaResolution"],Z);const W=l(t,["speechConfig"]);if(W!=null&&d(i,["speechConfig"],oc(W)),l(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=l(t,["thinkingConfig"]);q!=null&&d(i,["thinkingConfig"],q);const $=l(t,["imageConfig"]);return $!=null&&d(i,["imageConfig"],XS($)),i}function WS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(m=>PS(m))),d(t,["candidates"],p)}const r=l(e,["modelVersion"]);r!=null&&d(t,["modelVersion"],r);const s=l(e,["promptFeedback"]);s!=null&&d(t,["promptFeedback"],s);const u=l(e,["responseId"]);u!=null&&d(t,["responseId"],u);const f=l(e,["usageMetadata"]);return f!=null&&d(t,["usageMetadata"],f),t}function JS(e,t){const n={},i=l(t,["name"]);return i!=null&&d(n,["_url","name"],Vo(e,i)),n}function $S(e,t){const n={},i=l(t,["name"]);return i!=null&&d(n,["_url","name"],Vo(e,i)),n}function KS(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&d(t,["enableWidget"],n),t}function YS(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],n),t}function XS(e){const t={},n=l(e,["aspectRatio"]);n!=null&&d(t,["aspectRatio"],n);const i=l(e,["imageSize"]);if(i!=null&&d(t,["imageSize"],i),l(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function QS(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["request","model"],Se(e,i));const r=l(t,["contents"]);if(r!=null){let f=Ot(r);Array.isArray(f)&&(f=f.map(p=>U0(p))),d(n,["request","contents"],f)}const s=l(t,["metadata"]);s!=null&&d(n,["metadata"],s);const u=l(t,["config"]);return u!=null&&d(n,["request","generationConfig"],ZS(e,u,l(n,["request"],{}))),n}function eT(e){const t={},n=l(e,["response"]);n!=null&&d(t,["response"],WS(n));const i=l(e,["error"]);return i!=null&&d(t,["error"],i),t}function tT(e,t){const n={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&d(t,["_query","pageSize"],i);const r=l(e,["pageToken"]);if(t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),l(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function nT(e,t){const n={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&d(t,["_query","pageSize"],i);const r=l(e,["pageToken"]);t!==void 0&&r!=null&&d(t,["_query","pageToken"],r);const s=l(e,["filter"]);return t!==void 0&&s!=null&&d(t,["_query","filter"],s),n}function iT(e){const t={},n=l(e,["config"]);return n!=null&&tT(n,t),t}function oT(e){const t={},n=l(e,["config"]);return n!=null&&nT(n,t),t}function rT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const r=l(e,["operations"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>js(u))),d(t,["batchJobs"],s)}return t}function sT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const r=l(e,["batchPredictionJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>$u(u))),d(t,["batchJobs"],s)}return t}function aT(e){const t={},n=l(e,["mediaResolution"]);n!=null&&d(t,["mediaResolution"],n);const i=l(e,["codeExecutionResult"]);i!=null&&d(t,["codeExecutionResult"],i);const r=l(e,["executableCode"]);r!=null&&d(t,["executableCode"],r);const s=l(e,["fileData"]);s!=null&&d(t,["fileData"],OS(s));const u=l(e,["functionCall"]);u!=null&&d(t,["functionCall"],qS(u));const f=l(e,["functionResponse"]);f!=null&&d(t,["functionResponse"],f);const p=l(e,["inlineData"]);p!=null&&d(t,["inlineData"],kS(p));const m=l(e,["text"]);m!=null&&d(t,["text"],m);const y=l(e,["thought"]);y!=null&&d(t,["thought"],y);const v=l(e,["thoughtSignature"]);v!=null&&d(t,["thoughtSignature"],v);const _=l(e,["videoMetadata"]);return _!=null&&d(t,["videoMetadata"],_),t}function lT(e){const t={},n=l(e,["category"]);if(n!=null&&d(t,["category"],n),l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=l(e,["threshold"]);return i!=null&&d(t,["threshold"],i),t}function uT(e){const t={},n=l(e,["functionCallingConfig"]);n!=null&&d(t,["functionCallingConfig"],jS(n));const i=l(e,["retrievalConfig"]);return i!=null&&d(t,["retrievalConfig"],i),t}function dT(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(v=>v)),d(t,["functionDeclarations"],y)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(e,["googleSearchRetrieval"]);i!=null&&d(t,["googleSearchRetrieval"],i);const r=l(e,["computerUse"]);r!=null&&d(t,["computerUse"],r);const s=l(e,["fileSearch"]);s!=null&&d(t,["fileSearch"],s);const u=l(e,["codeExecution"]);if(u!=null&&d(t,["codeExecution"],u),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=l(e,["googleMaps"]);f!=null&&d(t,["googleMaps"],KS(f));const p=l(e,["googleSearch"]);p!=null&&d(t,["googleSearch"],YS(p));const m=l(e,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dn;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Dn||(Dn={}));class Gi{constructor(t,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,r)}init(t,n,i){var r,s;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(s=(r=u.config)===null||r===void 0?void 0:r.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cT extends Fn{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Gi(Dn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=Dp(this.apiClient,t),i=n._url,r=Y("{model}:batchGenerateContent",i),f=n.batch.inputConfig.requests,p=f.requests,m=[];for(const y of p){const v=Object.assign({},y);if(v.systemInstruction){const _=v.systemInstruction;delete v.systemInstruction;const S=v.request;S.systemInstruction=_,v.request=S}m.push(v)}return f.requests=m,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const i=n?Object.assign({},n):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const s=this.getGcsUri(t),u=this.getBigqueryUri(t);if(s)s.endsWith(".jsonl")?i.dest=`${s.slice(0,-6)}/dest`:i.dest=`${s}_dest_${r}`;else if(u)i.dest=`${u}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=RS(this.apiClient,t);return f=Y("batchPredictionJobs",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>$u(y))}else{const m=Dp(this.apiClient,t);return f=Y("{model}:batchGenerateContent",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>js(y))}}async createEmbeddingsInternal(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=DS(this.apiClient,t);return s=Y("{model}:asyncBatchEmbedContent",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>js(p))}}async get(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=$S(this.apiClient,t);return f=Y("batchPredictionJobs/{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>$u(y))}else{const m=JS(this.apiClient,t);return f=Y("batches/{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>js(y))}}async cancel(t){var n,i,r,s;let u="",f={};if(this.apiClient.isVertexAI()){const p=IS(this.apiClient,t);u=Y("batchPredictionJobs/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=NS(this.apiClient,t);u=Y("batches/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=oT(t);return f=Y("batchPredictionJobs",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=sT(y),_=new bp;return Object.assign(_,v),_})}else{const m=iT(t);return f=Y("batches",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=rT(y),_=new bp;return Object.assign(_,v),_})}}async delete(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=FS(this.apiClient,t);return f=Y("batchPredictionJobs/{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>VS(y))}else{const m=zS(this.apiClient,t);return f=Y("batches/{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>US(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fT(e){const t={},n=l(e,["data"]);if(n!=null&&d(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(e,["mimeType"]);return i!=null&&d(t,["mimeType"],i),t}function zp(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>DT(s))),d(t,["parts"],r)}const i=l(e,["role"]);return i!=null&&d(t,["role"],i),t}function hT(e,t){const n={},i=l(e,["ttl"]);t!==void 0&&i!=null&&d(t,["ttl"],i);const r=l(e,["expireTime"]);t!==void 0&&r!=null&&d(t,["expireTime"],r);const s=l(e,["displayName"]);t!==void 0&&s!=null&&d(t,["displayName"],s);const u=l(e,["contents"]);if(t!==void 0&&u!=null){let y=Ot(u);Array.isArray(y)&&(y=y.map(v=>zp(v))),d(t,["contents"],y)}const f=l(e,["systemInstruction"]);t!==void 0&&f!=null&&d(t,["systemInstruction"],zp(ct(f)));const p=l(e,["tools"]);if(t!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(v=>FT(v))),d(t,["tools"],y)}const m=l(e,["toolConfig"]);if(t!==void 0&&m!=null&&d(t,["toolConfig"],zT(m)),l(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function pT(e,t){const n={},i=l(e,["ttl"]);t!==void 0&&i!=null&&d(t,["ttl"],i);const r=l(e,["expireTime"]);t!==void 0&&r!=null&&d(t,["expireTime"],r);const s=l(e,["displayName"]);t!==void 0&&s!=null&&d(t,["displayName"],s);const u=l(e,["contents"]);if(t!==void 0&&u!=null){let v=Ot(u);Array.isArray(v)&&(v=v.map(_=>_)),d(t,["contents"],v)}const f=l(e,["systemInstruction"]);t!==void 0&&f!=null&&d(t,["systemInstruction"],ct(f));const p=l(e,["tools"]);if(t!==void 0&&p!=null){let v=p;Array.isArray(v)&&(v=v.map(_=>UT(_))),d(t,["tools"],v)}const m=l(e,["toolConfig"]);t!==void 0&&m!=null&&d(t,["toolConfig"],m);const y=l(e,["kmsKeyName"]);return t!==void 0&&y!=null&&d(t,["encryption_spec","kmsKeyName"],y),n}function mT(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["model"],k0(e,i));const r=l(t,["config"]);return r!=null&&hT(r,n),n}function gT(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["model"],k0(e,i));const r=l(t,["config"]);return r!=null&&pT(r,n),n}function yT(e,t){const n={},i=l(t,["name"]);return i!=null&&d(n,["_url","name"],Un(e,i)),n}function vT(e,t){const n={},i=l(t,["name"]);return i!=null&&d(n,["_url","name"],Un(e,i)),n}function _T(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function xT(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function wT(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const i=l(e,["mimeType"]);return i!=null&&d(t,["mimeType"],i),t}function ST(e){const t={},n=l(e,["id"]);n!=null&&d(t,["id"],n);const i=l(e,["args"]);i!=null&&d(t,["args"],i);const r=l(e,["name"]);if(r!=null&&d(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function TT(e){const t={},n=l(e,["mode"]);n!=null&&d(t,["mode"],n);const i=l(e,["allowedFunctionNames"]);if(i!=null&&d(t,["allowedFunctionNames"],i),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function CT(e){const t={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(e,["description"]);n!=null&&d(t,["description"],n);const i=l(e,["name"]);i!=null&&d(t,["name"],i);const r=l(e,["parameters"]);r!=null&&d(t,["parameters"],r);const s=l(e,["parametersJsonSchema"]);s!=null&&d(t,["parametersJsonSchema"],s);const u=l(e,["response"]);u!=null&&d(t,["response"],u);const f=l(e,["responseJsonSchema"]);return f!=null&&d(t,["responseJsonSchema"],f),t}function ET(e,t){const n={},i=l(t,["name"]);return i!=null&&d(n,["_url","name"],Un(e,i)),n}function kT(e,t){const n={},i=l(t,["name"]);return i!=null&&d(n,["_url","name"],Un(e,i)),n}function NT(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&d(t,["enableWidget"],n),t}function IT(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],n),t}function PT(e,t){const n={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&d(t,["_query","pageSize"],i);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),n}function AT(e,t){const n={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&d(t,["_query","pageSize"],i);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),n}function bT(e){const t={},n=l(e,["config"]);return n!=null&&PT(n,t),t}function MT(e){const t={},n=l(e,["config"]);return n!=null&&AT(n,t),t}function RT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const r=l(e,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>u)),d(t,["cachedContents"],s)}return t}function LT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const r=l(e,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>u)),d(t,["cachedContents"],s)}return t}function DT(e){const t={},n=l(e,["mediaResolution"]);n!=null&&d(t,["mediaResolution"],n);const i=l(e,["codeExecutionResult"]);i!=null&&d(t,["codeExecutionResult"],i);const r=l(e,["executableCode"]);r!=null&&d(t,["executableCode"],r);const s=l(e,["fileData"]);s!=null&&d(t,["fileData"],wT(s));const u=l(e,["functionCall"]);u!=null&&d(t,["functionCall"],ST(u));const f=l(e,["functionResponse"]);f!=null&&d(t,["functionResponse"],f);const p=l(e,["inlineData"]);p!=null&&d(t,["inlineData"],fT(p));const m=l(e,["text"]);m!=null&&d(t,["text"],m);const y=l(e,["thought"]);y!=null&&d(t,["thought"],y);const v=l(e,["thoughtSignature"]);v!=null&&d(t,["thoughtSignature"],v);const _=l(e,["videoMetadata"]);return _!=null&&d(t,["videoMetadata"],_),t}function zT(e){const t={},n=l(e,["functionCallingConfig"]);n!=null&&d(t,["functionCallingConfig"],TT(n));const i=l(e,["retrievalConfig"]);return i!=null&&d(t,["retrievalConfig"],i),t}function FT(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(v=>v)),d(t,["functionDeclarations"],y)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(e,["googleSearchRetrieval"]);i!=null&&d(t,["googleSearchRetrieval"],i);const r=l(e,["computerUse"]);r!=null&&d(t,["computerUse"],r);const s=l(e,["fileSearch"]);s!=null&&d(t,["fileSearch"],s);const u=l(e,["codeExecution"]);if(u!=null&&d(t,["codeExecution"],u),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=l(e,["googleMaps"]);f!=null&&d(t,["googleMaps"],NT(f));const p=l(e,["googleSearch"]);p!=null&&d(t,["googleSearch"],IT(p));const m=l(e,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}function UT(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>CT(_))),d(t,["functionDeclarations"],v)}const i=l(e,["retrieval"]);i!=null&&d(t,["retrieval"],i);const r=l(e,["googleSearchRetrieval"]);r!=null&&d(t,["googleSearchRetrieval"],r);const s=l(e,["computerUse"]);if(s!=null&&d(t,["computerUse"],s),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=l(e,["codeExecution"]);u!=null&&d(t,["codeExecution"],u);const f=l(e,["enterpriseWebSearch"]);f!=null&&d(t,["enterpriseWebSearch"],f);const p=l(e,["googleMaps"]);p!=null&&d(t,["googleMaps"],p);const m=l(e,["googleSearch"]);m!=null&&d(t,["googleSearch"],m);const y=l(e,["urlContext"]);return y!=null&&d(t,["urlContext"],y),t}function VT(e,t){const n={},i=l(e,["ttl"]);t!==void 0&&i!=null&&d(t,["ttl"],i);const r=l(e,["expireTime"]);return t!==void 0&&r!=null&&d(t,["expireTime"],r),n}function BT(e,t){const n={},i=l(e,["ttl"]);t!==void 0&&i!=null&&d(t,["ttl"],i);const r=l(e,["expireTime"]);return t!==void 0&&r!=null&&d(t,["expireTime"],r),n}function HT(e,t){const n={},i=l(t,["name"]);i!=null&&d(n,["_url","name"],Un(e,i));const r=l(t,["config"]);return r!=null&&VT(r,n),n}function GT(e,t){const n={},i=l(t,["name"]);i!=null&&d(n,["_url","name"],Un(e,i));const r=l(t,["config"]);return r!=null&&BT(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OT extends Fn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Gi(Dn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=gT(this.apiClient,t);return f=Y("cachedContents",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const m=mT(this.apiClient,t);return f=Y("cachedContents",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async get(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=kT(this.apiClient,t);return f=Y("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const m=ET(this.apiClient,t);return f=Y("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=vT(this.apiClient,t);return f=Y("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=xT(y),_=new Pp;return Object.assign(_,v),_})}else{const m=yT(this.apiClient,t);return f=Y("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=_T(y),_=new Pp;return Object.assign(_,v),_})}}async update(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=GT(this.apiClient,t);return f=Y("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const m=HT(this.apiClient,t);return f=Y("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async listInternal(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=MT(t);return f=Y("cachedContents",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=LT(y),_=new Ap;return Object.assign(_,v),_})}else{const m=bT(t);return f=Y("cachedContents",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=RT(y),_=new Ap;return Object.assign(_,v),_})}}}function Fp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Re(e){return this instanceof Re?(this.v=e,this):new Re(e)}function Eo(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),r[Symbol.asyncIterator]=function(){return this},r;function u(S){return function(k){return Promise.resolve(k).then(S,v)}}function f(S,k){i[S]&&(r[S]=function(I){return new Promise(function(M,C){s.push([S,I,M,C])>1||p(S,I)})},k&&(r[S]=k(r[S])))}function p(S,k){try{m(i[S](k))}catch(I){_(s[0][3],I)}}function m(S){S.value instanceof Re?Promise.resolve(S.value.v).then(y,v):_(s[0][2],S)}function y(S){p("next",S)}function v(S){p("throw",S)}function _(S,k){S(k),s.shift(),s.length&&p(s[0][0],s[0][1])}}function xr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Fp=="function"?Fp(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(u){return new Promise(function(f,p){u=e[s](u),r(f,p,u.done,u.value)})}}function r(s,u,f,p){Promise.resolve(p).then(function(m){s({value:m,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qT(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:V0(n)}function V0(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function jT(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Up(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let i=0;for(;i<n;)if(e[i].role==="user")t.push(e[i]),i++;else{const r=[];let s=!0;for(;i<n&&e[i].role==="model";)r.push(e[i]),s&&!V0(e[i])&&(s=!1),i++;s?t.push(...r):t.pop()}return t}class ZT{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new WT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class WT{constructor(t,n,i,r={},s=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),jT(s)}async sendMessage(t){var n;await this.sendPromise;const i=ct(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,u,f;const p=await r,m=(u=(s=p.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content,y=p.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let _=[];y!=null&&(_=(f=y.slice(v))!==null&&f!==void 0?f:[]);const S=m?[m]:[];this.recordHistory(i,S,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var n;await this.sendPromise;const i=ct(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,i)}getHistory(t=!1){const n=t?Up(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var i,r;return Eo(this,arguments,function*(){var u,f,p,m;const y=[];try{for(var v=!0,_=xr(t),S;S=yield Re(_.next()),u=S.done,!u;v=!0){m=S.value,v=!1;const k=m;if(qT(k)){const I=(r=(i=k.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;I!==void 0&&y.push(I)}yield yield Re(k)}}catch(k){f={error:k}}finally{try{!v&&!u&&(p=_.return)&&(yield Re(p.call(_)))}finally{if(f)throw f.error}}this.recordHistory(n,y)})}recordHistory(t,n,i){let r=[];n.length>0&&n.every(s=>s.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Up(i)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Oa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JT(e){const t={},n=l(e,["file"]);return n!=null&&d(t,["file"],n),t}function $T(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function KT(e){const t={},n=l(e,["name"]);return n!=null&&d(t,["_url","file"],M0(n)),t}function YT(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function XT(e){const t={},n=l(e,["name"]);return n!=null&&d(t,["_url","file"],M0(n)),t}function QT(e,t){const n={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&d(t,["_query","pageSize"],i);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),n}function e1(e){const t={},n=l(e,["config"]);return n!=null&&QT(n,t),t}function t1(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const r=l(e,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>u)),d(t,["files"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n1 extends Fn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Gi(Dn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=e1(t);return s=Y("files",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),r.then(p=>{const m=t1(p),y=new sS;return Object.assign(y,m),y})}}async createInternal(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=JT(t);return s=Y("upload/v1beta/files",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const m=$T(p),y=new aS;return Object.assign(y,m),y})}}async get(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=XT(t);return s=Y("files/{file}",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=KT(t);return s=Y("files/{file}",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),r.then(p=>{const m=YT(p),y=new lS;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zs(e){const t={},n=l(e,["data"]);if(n!=null&&d(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(e,["mimeType"]);return i!=null&&d(t,["mimeType"],i),t}function i1(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>_1(s))),d(t,["parts"],r)}const i=l(e,["role"]);return i!=null&&d(t,["role"],i),t}function o1(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const i=l(e,["mimeType"]);return i!=null&&d(t,["mimeType"],i),t}function r1(e){const t={},n=l(e,["id"]);n!=null&&d(t,["id"],n);const i=l(e,["args"]);i!=null&&d(t,["args"],i);const r=l(e,["name"]);if(r!=null&&d(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function s1(e){const t={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(e,["description"]);n!=null&&d(t,["description"],n);const i=l(e,["name"]);i!=null&&d(t,["name"],i);const r=l(e,["parameters"]);r!=null&&d(t,["parameters"],r);const s=l(e,["parametersJsonSchema"]);s!=null&&d(t,["parametersJsonSchema"],s);const u=l(e,["response"]);u!=null&&d(t,["response"],u);const f=l(e,["responseJsonSchema"]);return f!=null&&d(t,["responseJsonSchema"],f),t}function a1(e){const t={},n=l(e,["modelSelectionConfig"]);n!=null&&d(t,["modelConfig"],n);const i=l(e,["responseJsonSchema"]);i!=null&&d(t,["responseJsonSchema"],i);const r=l(e,["audioTimestamp"]);r!=null&&d(t,["audioTimestamp"],r);const s=l(e,["candidateCount"]);s!=null&&d(t,["candidateCount"],s);const u=l(e,["enableAffectiveDialog"]);u!=null&&d(t,["enableAffectiveDialog"],u);const f=l(e,["frequencyPenalty"]);f!=null&&d(t,["frequencyPenalty"],f);const p=l(e,["logprobs"]);p!=null&&d(t,["logprobs"],p);const m=l(e,["maxOutputTokens"]);m!=null&&d(t,["maxOutputTokens"],m);const y=l(e,["mediaResolution"]);y!=null&&d(t,["mediaResolution"],y);const v=l(e,["presencePenalty"]);v!=null&&d(t,["presencePenalty"],v);const _=l(e,["responseLogprobs"]);_!=null&&d(t,["responseLogprobs"],_);const S=l(e,["responseMimeType"]);S!=null&&d(t,["responseMimeType"],S);const k=l(e,["responseModalities"]);k!=null&&d(t,["responseModalities"],k);const I=l(e,["responseSchema"]);I!=null&&d(t,["responseSchema"],I);const M=l(e,["routingConfig"]);M!=null&&d(t,["routingConfig"],M);const C=l(e,["seed"]);C!=null&&d(t,["seed"],C);const T=l(e,["speechConfig"]);T!=null&&d(t,["speechConfig"],B0(T));const E=l(e,["stopSequences"]);E!=null&&d(t,["stopSequences"],E);const P=l(e,["temperature"]);P!=null&&d(t,["temperature"],P);const z=l(e,["thinkingConfig"]);z!=null&&d(t,["thinkingConfig"],z);const F=l(e,["topK"]);F!=null&&d(t,["topK"],F);const H=l(e,["topP"]);if(H!=null&&d(t,["topP"],H),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function l1(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&d(t,["enableWidget"],n),t}function u1(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],n),t}function d1(e,t){const n={},i=l(e,["generationConfig"]);t!==void 0&&i!=null&&d(t,["setup","generationConfig"],i);const r=l(e,["responseModalities"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig","responseModalities"],r);const s=l(e,["temperature"]);t!==void 0&&s!=null&&d(t,["setup","generationConfig","temperature"],s);const u=l(e,["topP"]);t!==void 0&&u!=null&&d(t,["setup","generationConfig","topP"],u);const f=l(e,["topK"]);t!==void 0&&f!=null&&d(t,["setup","generationConfig","topK"],f);const p=l(e,["maxOutputTokens"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","maxOutputTokens"],p);const m=l(e,["mediaResolution"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","mediaResolution"],m);const y=l(e,["seed"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","seed"],y);const v=l(e,["speechConfig"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","speechConfig"],rc(v));const _=l(e,["thinkingConfig"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","thinkingConfig"],_);const S=l(e,["enableAffectiveDialog"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],S);const k=l(e,["systemInstruction"]);t!==void 0&&k!=null&&d(t,["setup","systemInstruction"],i1(ct(k)));const I=l(e,["tools"]);if(t!==void 0&&I!=null){let F=Uo(I);Array.isArray(F)&&(F=F.map(H=>w1(Fo(H)))),d(t,["setup","tools"],F)}const M=l(e,["sessionResumption"]);t!==void 0&&M!=null&&d(t,["setup","sessionResumption"],x1(M));const C=l(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&d(t,["setup","inputAudioTranscription"],C);const T=l(e,["outputAudioTranscription"]);t!==void 0&&T!=null&&d(t,["setup","outputAudioTranscription"],T);const E=l(e,["realtimeInputConfig"]);t!==void 0&&E!=null&&d(t,["setup","realtimeInputConfig"],E);const P=l(e,["contextWindowCompression"]);t!==void 0&&P!=null&&d(t,["setup","contextWindowCompression"],P);const z=l(e,["proactivity"]);return t!==void 0&&z!=null&&d(t,["setup","proactivity"],z),n}function c1(e,t){const n={},i=l(e,["generationConfig"]);t!==void 0&&i!=null&&d(t,["setup","generationConfig"],a1(i));const r=l(e,["responseModalities"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig","responseModalities"],r);const s=l(e,["temperature"]);t!==void 0&&s!=null&&d(t,["setup","generationConfig","temperature"],s);const u=l(e,["topP"]);t!==void 0&&u!=null&&d(t,["setup","generationConfig","topP"],u);const f=l(e,["topK"]);t!==void 0&&f!=null&&d(t,["setup","generationConfig","topK"],f);const p=l(e,["maxOutputTokens"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","maxOutputTokens"],p);const m=l(e,["mediaResolution"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","mediaResolution"],m);const y=l(e,["seed"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","seed"],y);const v=l(e,["speechConfig"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","speechConfig"],B0(rc(v)));const _=l(e,["thinkingConfig"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","thinkingConfig"],_);const S=l(e,["enableAffectiveDialog"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],S);const k=l(e,["systemInstruction"]);t!==void 0&&k!=null&&d(t,["setup","systemInstruction"],ct(k));const I=l(e,["tools"]);if(t!==void 0&&I!=null){let F=Uo(I);Array.isArray(F)&&(F=F.map(H=>S1(Fo(H)))),d(t,["setup","tools"],F)}const M=l(e,["sessionResumption"]);t!==void 0&&M!=null&&d(t,["setup","sessionResumption"],M);const C=l(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&d(t,["setup","inputAudioTranscription"],C);const T=l(e,["outputAudioTranscription"]);t!==void 0&&T!=null&&d(t,["setup","outputAudioTranscription"],T);const E=l(e,["realtimeInputConfig"]);t!==void 0&&E!=null&&d(t,["setup","realtimeInputConfig"],E);const P=l(e,["contextWindowCompression"]);t!==void 0&&P!=null&&d(t,["setup","contextWindowCompression"],P);const z=l(e,["proactivity"]);return t!==void 0&&z!=null&&d(t,["setup","proactivity"],z),n}function f1(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["setup","model"],Se(e,i));const r=l(t,["config"]);return r!=null&&d(n,["config"],d1(r,n)),n}function h1(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["setup","model"],Se(e,i));const r=l(t,["config"]);return r!=null&&d(n,["config"],c1(r,n)),n}function p1(e){const t={},n=l(e,["musicGenerationConfig"]);return n!=null&&d(t,["musicGenerationConfig"],n),t}function m1(e){const t={},n=l(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),d(t,["weightedPrompts"],i)}return t}function g1(e){const t={},n=l(e,["media"]);if(n!=null){let m=N0(n);Array.isArray(m)&&(m=m.map(y=>Zs(y))),d(t,["mediaChunks"],m)}const i=l(e,["audio"]);i!=null&&d(t,["audio"],Zs(P0(i)));const r=l(e,["audioStreamEnd"]);r!=null&&d(t,["audioStreamEnd"],r);const s=l(e,["video"]);s!=null&&d(t,["video"],Zs(I0(s)));const u=l(e,["text"]);u!=null&&d(t,["text"],u);const f=l(e,["activityStart"]);f!=null&&d(t,["activityStart"],f);const p=l(e,["activityEnd"]);return p!=null&&d(t,["activityEnd"],p),t}function y1(e){const t={},n=l(e,["media"]);if(n!=null){let m=N0(n);Array.isArray(m)&&(m=m.map(y=>y)),d(t,["mediaChunks"],m)}const i=l(e,["audio"]);i!=null&&d(t,["audio"],P0(i));const r=l(e,["audioStreamEnd"]);r!=null&&d(t,["audioStreamEnd"],r);const s=l(e,["video"]);s!=null&&d(t,["video"],I0(s));const u=l(e,["text"]);u!=null&&d(t,["text"],u);const f=l(e,["activityStart"]);f!=null&&d(t,["activityStart"],f);const p=l(e,["activityEnd"]);return p!=null&&d(t,["activityEnd"],p),t}function v1(e){const t={},n=l(e,["setupComplete"]);n!=null&&d(t,["setupComplete"],n);const i=l(e,["serverContent"]);i!=null&&d(t,["serverContent"],i);const r=l(e,["toolCall"]);r!=null&&d(t,["toolCall"],r);const s=l(e,["toolCallCancellation"]);s!=null&&d(t,["toolCallCancellation"],s);const u=l(e,["usageMetadata"]);u!=null&&d(t,["usageMetadata"],T1(u));const f=l(e,["goAway"]);f!=null&&d(t,["goAway"],f);const p=l(e,["sessionResumptionUpdate"]);return p!=null&&d(t,["sessionResumptionUpdate"],p),t}function _1(e){const t={},n=l(e,["mediaResolution"]);n!=null&&d(t,["mediaResolution"],n);const i=l(e,["codeExecutionResult"]);i!=null&&d(t,["codeExecutionResult"],i);const r=l(e,["executableCode"]);r!=null&&d(t,["executableCode"],r);const s=l(e,["fileData"]);s!=null&&d(t,["fileData"],o1(s));const u=l(e,["functionCall"]);u!=null&&d(t,["functionCall"],r1(u));const f=l(e,["functionResponse"]);f!=null&&d(t,["functionResponse"],f);const p=l(e,["inlineData"]);p!=null&&d(t,["inlineData"],Zs(p));const m=l(e,["text"]);m!=null&&d(t,["text"],m);const y=l(e,["thought"]);y!=null&&d(t,["thought"],y);const v=l(e,["thoughtSignature"]);v!=null&&d(t,["thoughtSignature"],v);const _=l(e,["videoMetadata"]);return _!=null&&d(t,["videoMetadata"],_),t}function x1(e){const t={},n=l(e,["handle"]);if(n!=null&&d(t,["handle"],n),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function B0(e){const t={},n=l(e,["languageCode"]);n!=null&&d(t,["languageCode"],n);const i=l(e,["voiceConfig"]);if(i!=null&&d(t,["voiceConfig"],i),l(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function w1(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(v=>v)),d(t,["functionDeclarations"],y)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(e,["googleSearchRetrieval"]);i!=null&&d(t,["googleSearchRetrieval"],i);const r=l(e,["computerUse"]);r!=null&&d(t,["computerUse"],r);const s=l(e,["fileSearch"]);s!=null&&d(t,["fileSearch"],s);const u=l(e,["codeExecution"]);if(u!=null&&d(t,["codeExecution"],u),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=l(e,["googleMaps"]);f!=null&&d(t,["googleMaps"],l1(f));const p=l(e,["googleSearch"]);p!=null&&d(t,["googleSearch"],u1(p));const m=l(e,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}function S1(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>s1(_))),d(t,["functionDeclarations"],v)}const i=l(e,["retrieval"]);i!=null&&d(t,["retrieval"],i);const r=l(e,["googleSearchRetrieval"]);r!=null&&d(t,["googleSearchRetrieval"],r);const s=l(e,["computerUse"]);if(s!=null&&d(t,["computerUse"],s),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=l(e,["codeExecution"]);u!=null&&d(t,["codeExecution"],u);const f=l(e,["enterpriseWebSearch"]);f!=null&&d(t,["enterpriseWebSearch"],f);const p=l(e,["googleMaps"]);p!=null&&d(t,["googleMaps"],p);const m=l(e,["googleSearch"]);m!=null&&d(t,["googleSearch"],m);const y=l(e,["urlContext"]);return y!=null&&d(t,["urlContext"],y),t}function T1(e){const t={},n=l(e,["promptTokenCount"]);n!=null&&d(t,["promptTokenCount"],n);const i=l(e,["cachedContentTokenCount"]);i!=null&&d(t,["cachedContentTokenCount"],i);const r=l(e,["candidatesTokenCount"]);r!=null&&d(t,["responseTokenCount"],r);const s=l(e,["toolUsePromptTokenCount"]);s!=null&&d(t,["toolUsePromptTokenCount"],s);const u=l(e,["thoughtsTokenCount"]);u!=null&&d(t,["thoughtsTokenCount"],u);const f=l(e,["totalTokenCount"]);f!=null&&d(t,["totalTokenCount"],f);const p=l(e,["promptTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(k=>k)),d(t,["promptTokensDetails"],S)}const m=l(e,["cacheTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(k=>k)),d(t,["cacheTokensDetails"],S)}const y=l(e,["candidatesTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(k=>k)),d(t,["responseTokensDetails"],S)}const v=l(e,["toolUsePromptTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(k=>k)),d(t,["toolUsePromptTokensDetails"],S)}const _=l(e,["trafficType"]);return _!=null&&d(t,["trafficType"],_),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C1(e){const t={},n=l(e,["data"]);if(n!=null&&d(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(e,["mimeType"]);return i!=null&&d(t,["mimeType"],i),t}function E1(e){const t={},n=l(e,["content"]);n!=null&&d(t,["content"],n);const i=l(e,["citationMetadata"]);i!=null&&d(t,["citationMetadata"],k1(i));const r=l(e,["tokenCount"]);r!=null&&d(t,["tokenCount"],r);const s=l(e,["finishReason"]);s!=null&&d(t,["finishReason"],s);const u=l(e,["avgLogprobs"]);u!=null&&d(t,["avgLogprobs"],u);const f=l(e,["groundingMetadata"]);f!=null&&d(t,["groundingMetadata"],f);const p=l(e,["index"]);p!=null&&d(t,["index"],p);const m=l(e,["logprobsResult"]);m!=null&&d(t,["logprobsResult"],m);const y=l(e,["safetyRatings"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>S)),d(t,["safetyRatings"],_)}const v=l(e,["urlContextMetadata"]);return v!=null&&d(t,["urlContextMetadata"],v),t}function k1(e){const t={},n=l(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),d(t,["citations"],i)}return t}function N1(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["contents"]);if(r!=null){let s=Ot(r);Array.isArray(s)&&(s=s.map(u=>u)),d(n,["contents"],s)}return n}function I1(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),d(t,["tokensInfo"],r)}return t}function P1(e){const t={},n=l(e,["values"]);n!=null&&d(t,["values"],n);const i=l(e,["statistics"]);return i!=null&&d(t,["statistics"],A1(i)),t}function A1(e){const t={},n=l(e,["truncated"]);n!=null&&d(t,["truncated"],n);const i=l(e,["token_count"]);return i!=null&&d(t,["tokenCount"],i),t}function qa(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>VC(s))),d(t,["parts"],r)}const i=l(e,["role"]);return i!=null&&d(t,["role"],i),t}function b1(e){const t={},n=l(e,["controlType"]);n!=null&&d(t,["controlType"],n);const i=l(e,["enableControlImageComputation"]);return i!=null&&d(t,["computeControl"],i),t}function M1(e){const t={};if(l(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function R1(e,t){const n={},i=l(e,["systemInstruction"]);t!==void 0&&i!=null&&d(t,["systemInstruction"],ct(i));const r=l(e,["tools"]);if(t!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>j0(f))),d(t,["tools"],u)}const s=l(e,["generationConfig"]);return t!==void 0&&s!=null&&d(t,["generationConfig"],CC(s)),n}function L1(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["contents"]);if(r!=null){let u=Ot(r);Array.isArray(u)&&(u=u.map(f=>qa(f))),d(n,["contents"],u)}const s=l(t,["config"]);return s!=null&&M1(s),n}function D1(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["contents"]);if(r!=null){let u=Ot(r);Array.isArray(u)&&(u=u.map(f=>f)),d(n,["contents"],u)}const s=l(t,["config"]);return s!=null&&R1(s,n),n}function z1(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["totalTokens"]);i!=null&&d(t,["totalTokens"],i);const r=l(e,["cachedContentTokenCount"]);return r!=null&&d(t,["cachedContentTokenCount"],r),t}function F1(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["totalTokens"]);return i!=null&&d(t,["totalTokens"],i),t}function U1(e,t){const n={},i=l(t,["model"]);return i!=null&&d(n,["_url","name"],Se(e,i)),n}function V1(e,t){const n={},i=l(t,["model"]);return i!=null&&d(n,["_url","name"],Se(e,i)),n}function B1(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function H1(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function G1(e,t){const n={},i=l(e,["outputGcsUri"]);t!==void 0&&i!=null&&d(t,["parameters","storageUri"],i);const r=l(e,["negativePrompt"]);t!==void 0&&r!=null&&d(t,["parameters","negativePrompt"],r);const s=l(e,["numberOfImages"]);t!==void 0&&s!=null&&d(t,["parameters","sampleCount"],s);const u=l(e,["aspectRatio"]);t!==void 0&&u!=null&&d(t,["parameters","aspectRatio"],u);const f=l(e,["guidanceScale"]);t!==void 0&&f!=null&&d(t,["parameters","guidanceScale"],f);const p=l(e,["seed"]);t!==void 0&&p!=null&&d(t,["parameters","seed"],p);const m=l(e,["safetyFilterLevel"]);t!==void 0&&m!=null&&d(t,["parameters","safetySetting"],m);const y=l(e,["personGeneration"]);t!==void 0&&y!=null&&d(t,["parameters","personGeneration"],y);const v=l(e,["includeSafetyAttributes"]);t!==void 0&&v!=null&&d(t,["parameters","includeSafetyAttributes"],v);const _=l(e,["includeRaiReason"]);t!==void 0&&_!=null&&d(t,["parameters","includeRaiReason"],_);const S=l(e,["language"]);t!==void 0&&S!=null&&d(t,["parameters","language"],S);const k=l(e,["outputMimeType"]);t!==void 0&&k!=null&&d(t,["parameters","outputOptions","mimeType"],k);const I=l(e,["outputCompressionQuality"]);t!==void 0&&I!=null&&d(t,["parameters","outputOptions","compressionQuality"],I);const M=l(e,["addWatermark"]);t!==void 0&&M!=null&&d(t,["parameters","addWatermark"],M);const C=l(e,["labels"]);t!==void 0&&C!=null&&d(t,["labels"],C);const T=l(e,["editMode"]);t!==void 0&&T!=null&&d(t,["parameters","editMode"],T);const E=l(e,["baseSteps"]);return t!==void 0&&E!=null&&d(t,["parameters","editConfig","baseSteps"],E),n}function O1(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["prompt"]);r!=null&&d(n,["instances[0]","prompt"],r);const s=l(t,["referenceImages"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>jC(p))),d(n,["instances[0]","referenceImages"],f)}const u=l(t,["config"]);return u!=null&&G1(u,n),n}function q1(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>ja(s))),d(t,["generatedImages"],r)}return t}function j1(e,t){const n={},i=l(e,["taskType"]);t!==void 0&&i!=null&&d(t,["requests[]","taskType"],i);const r=l(e,["title"]);t!==void 0&&r!=null&&d(t,["requests[]","title"],r);const s=l(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&d(t,["requests[]","outputDimensionality"],s),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Z1(e,t){const n={},i=l(e,["taskType"]);t!==void 0&&i!=null&&d(t,["instances[]","task_type"],i);const r=l(e,["title"]);t!==void 0&&r!=null&&d(t,["instances[]","title"],r);const s=l(e,["outputDimensionality"]);t!==void 0&&s!=null&&d(t,["parameters","outputDimensionality"],s);const u=l(e,["mimeType"]);t!==void 0&&u!=null&&d(t,["instances[]","mimeType"],u);const f=l(e,["autoTruncate"]);return t!==void 0&&f!=null&&d(t,["parameters","autoTruncate"],f),n}function W1(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["contents"]);if(r!=null){let f=nc(e,r);Array.isArray(f)&&(f=f.map(p=>p)),d(n,["requests[]","content"],f)}const s=l(t,["config"]);s!=null&&j1(s,n);const u=l(t,["model"]);return u!==void 0&&d(n,["requests[]","model"],Se(e,u)),n}function J1(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["contents"]);if(r!=null){let u=nc(e,r);Array.isArray(u)&&(u=u.map(f=>f)),d(n,["instances[]","content"],u)}const s=l(t,["config"]);return s!=null&&Z1(s,n),n}function $1(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>u)),d(t,["embeddings"],s)}const r=l(e,["metadata"]);return r!=null&&d(t,["metadata"],r),t}function K1(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>P1(u))),d(t,["embeddings"],s)}const r=l(e,["metadata"]);return r!=null&&d(t,["metadata"],r),t}function Y1(e){const t={},n=l(e,["endpoint"]);n!=null&&d(t,["name"],n);const i=l(e,["deployedModelId"]);return i!=null&&d(t,["deployedModelId"],i),t}function X1(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const i=l(e,["mimeType"]);return i!=null&&d(t,["mimeType"],i),t}function Q1(e){const t={},n=l(e,["id"]);n!=null&&d(t,["id"],n);const i=l(e,["args"]);i!=null&&d(t,["args"],i);const r=l(e,["name"]);if(r!=null&&d(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function eC(e){const t={},n=l(e,["mode"]);n!=null&&d(t,["mode"],n);const i=l(e,["allowedFunctionNames"]);if(i!=null&&d(t,["allowedFunctionNames"],i),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function tC(e){const t={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(e,["description"]);n!=null&&d(t,["description"],n);const i=l(e,["name"]);i!=null&&d(t,["name"],i);const r=l(e,["parameters"]);r!=null&&d(t,["parameters"],r);const s=l(e,["parametersJsonSchema"]);s!=null&&d(t,["parametersJsonSchema"],s);const u=l(e,["response"]);u!=null&&d(t,["response"],u);const f=l(e,["responseJsonSchema"]);return f!=null&&d(t,["responseJsonSchema"],f),t}function nC(e,t,n){const i={},r=l(t,["systemInstruction"]);n!==void 0&&r!=null&&d(n,["systemInstruction"],qa(ct(r)));const s=l(t,["temperature"]);s!=null&&d(i,["temperature"],s);const u=l(t,["topP"]);u!=null&&d(i,["topP"],u);const f=l(t,["topK"]);f!=null&&d(i,["topK"],f);const p=l(t,["candidateCount"]);p!=null&&d(i,["candidateCount"],p);const m=l(t,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const y=l(t,["stopSequences"]);y!=null&&d(i,["stopSequences"],y);const v=l(t,["responseLogprobs"]);v!=null&&d(i,["responseLogprobs"],v);const _=l(t,["logprobs"]);_!=null&&d(i,["logprobs"],_);const S=l(t,["presencePenalty"]);S!=null&&d(i,["presencePenalty"],S);const k=l(t,["frequencyPenalty"]);k!=null&&d(i,["frequencyPenalty"],k);const I=l(t,["seed"]);I!=null&&d(i,["seed"],I);const M=l(t,["responseMimeType"]);M!=null&&d(i,["responseMimeType"],M);const C=l(t,["responseSchema"]);C!=null&&d(i,["responseSchema"],ic(C));const T=l(t,["responseJsonSchema"]);if(T!=null&&d(i,["responseJsonSchema"],T),l(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=l(t,["safetySettings"]);if(n!==void 0&&E!=null){let Q=E;Array.isArray(Q)&&(Q=Q.map(ve=>ZC(ve))),d(n,["safetySettings"],Q)}const P=l(t,["tools"]);if(n!==void 0&&P!=null){let Q=Uo(P);Array.isArray(Q)&&(Q=Q.map(ve=>QC(Fo(ve)))),d(n,["tools"],Q)}const z=l(t,["toolConfig"]);if(n!==void 0&&z!=null&&d(n,["toolConfig"],XC(z)),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=l(t,["cachedContent"]);n!==void 0&&F!=null&&d(n,["cachedContent"],Un(e,F));const H=l(t,["responseModalities"]);H!=null&&d(i,["responseModalities"],H);const Z=l(t,["mediaResolution"]);Z!=null&&d(i,["mediaResolution"],Z);const W=l(t,["speechConfig"]);if(W!=null&&d(i,["speechConfig"],oc(W)),l(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=l(t,["thinkingConfig"]);q!=null&&d(i,["thinkingConfig"],q);const $=l(t,["imageConfig"]);return $!=null&&d(i,["imageConfig"],PC($)),i}function iC(e,t,n){const i={},r=l(t,["systemInstruction"]);n!==void 0&&r!=null&&d(n,["systemInstruction"],ct(r));const s=l(t,["temperature"]);s!=null&&d(i,["temperature"],s);const u=l(t,["topP"]);u!=null&&d(i,["topP"],u);const f=l(t,["topK"]);f!=null&&d(i,["topK"],f);const p=l(t,["candidateCount"]);p!=null&&d(i,["candidateCount"],p);const m=l(t,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const y=l(t,["stopSequences"]);y!=null&&d(i,["stopSequences"],y);const v=l(t,["responseLogprobs"]);v!=null&&d(i,["responseLogprobs"],v);const _=l(t,["logprobs"]);_!=null&&d(i,["logprobs"],_);const S=l(t,["presencePenalty"]);S!=null&&d(i,["presencePenalty"],S);const k=l(t,["frequencyPenalty"]);k!=null&&d(i,["frequencyPenalty"],k);const I=l(t,["seed"]);I!=null&&d(i,["seed"],I);const M=l(t,["responseMimeType"]);M!=null&&d(i,["responseMimeType"],M);const C=l(t,["responseSchema"]);C!=null&&d(i,["responseSchema"],ic(C));const T=l(t,["responseJsonSchema"]);T!=null&&d(i,["responseJsonSchema"],T);const E=l(t,["routingConfig"]);E!=null&&d(i,["routingConfig"],E);const P=l(t,["modelSelectionConfig"]);P!=null&&d(i,["modelConfig"],P);const z=l(t,["safetySettings"]);if(n!==void 0&&z!=null){let ge=z;Array.isArray(ge)&&(ge=ge.map(Ie=>Ie)),d(n,["safetySettings"],ge)}const F=l(t,["tools"]);if(n!==void 0&&F!=null){let ge=Uo(F);Array.isArray(ge)&&(ge=ge.map(Ie=>j0(Fo(Ie)))),d(n,["tools"],ge)}const H=l(t,["toolConfig"]);n!==void 0&&H!=null&&d(n,["toolConfig"],H);const Z=l(t,["labels"]);n!==void 0&&Z!=null&&d(n,["labels"],Z);const W=l(t,["cachedContent"]);n!==void 0&&W!=null&&d(n,["cachedContent"],Un(e,W));const q=l(t,["responseModalities"]);q!=null&&d(i,["responseModalities"],q);const $=l(t,["mediaResolution"]);$!=null&&d(i,["mediaResolution"],$);const Q=l(t,["speechConfig"]);Q!=null&&d(i,["speechConfig"],q0(oc(Q)));const ve=l(t,["audioTimestamp"]);ve!=null&&d(i,["audioTimestamp"],ve);const Ne=l(t,["thinkingConfig"]);Ne!=null&&d(i,["thinkingConfig"],Ne);const Fe=l(t,["imageConfig"]);return Fe!=null&&d(i,["imageConfig"],AC(Fe)),i}function Vp(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["contents"]);if(r!=null){let u=Ot(r);Array.isArray(u)&&(u=u.map(f=>qa(f))),d(n,["contents"],u)}const s=l(t,["config"]);return s!=null&&d(n,["generationConfig"],nC(e,s,n)),n}function Bp(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["contents"]);if(r!=null){let u=Ot(r);Array.isArray(u)&&(u=u.map(f=>f)),d(n,["contents"],u)}const s=l(t,["config"]);return s!=null&&d(n,["generationConfig"],iC(e,s,n)),n}function Hp(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(m=>E1(m))),d(t,["candidates"],p)}const r=l(e,["modelVersion"]);r!=null&&d(t,["modelVersion"],r);const s=l(e,["promptFeedback"]);s!=null&&d(t,["promptFeedback"],s);const u=l(e,["responseId"]);u!=null&&d(t,["responseId"],u);const f=l(e,["usageMetadata"]);return f!=null&&d(t,["usageMetadata"],f),t}function Gp(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(y=>y)),d(t,["candidates"],m)}const r=l(e,["createTime"]);r!=null&&d(t,["createTime"],r);const s=l(e,["modelVersion"]);s!=null&&d(t,["modelVersion"],s);const u=l(e,["promptFeedback"]);u!=null&&d(t,["promptFeedback"],u);const f=l(e,["responseId"]);f!=null&&d(t,["responseId"],f);const p=l(e,["usageMetadata"]);return p!=null&&d(t,["usageMetadata"],p),t}function oC(e,t){const n={};if(l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=l(e,["numberOfImages"]);t!==void 0&&i!=null&&d(t,["parameters","sampleCount"],i);const r=l(e,["aspectRatio"]);t!==void 0&&r!=null&&d(t,["parameters","aspectRatio"],r);const s=l(e,["guidanceScale"]);if(t!==void 0&&s!=null&&d(t,["parameters","guidanceScale"],s),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=l(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&d(t,["parameters","safetySetting"],u);const f=l(e,["personGeneration"]);t!==void 0&&f!=null&&d(t,["parameters","personGeneration"],f);const p=l(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&d(t,["parameters","includeSafetyAttributes"],p);const m=l(e,["includeRaiReason"]);t!==void 0&&m!=null&&d(t,["parameters","includeRaiReason"],m);const y=l(e,["language"]);t!==void 0&&y!=null&&d(t,["parameters","language"],y);const v=l(e,["outputMimeType"]);t!==void 0&&v!=null&&d(t,["parameters","outputOptions","mimeType"],v);const _=l(e,["outputCompressionQuality"]);if(t!==void 0&&_!=null&&d(t,["parameters","outputOptions","compressionQuality"],_),l(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=l(e,["imageSize"]);if(t!==void 0&&S!=null&&d(t,["parameters","sampleImageSize"],S),l(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function rC(e,t){const n={},i=l(e,["outputGcsUri"]);t!==void 0&&i!=null&&d(t,["parameters","storageUri"],i);const r=l(e,["negativePrompt"]);t!==void 0&&r!=null&&d(t,["parameters","negativePrompt"],r);const s=l(e,["numberOfImages"]);t!==void 0&&s!=null&&d(t,["parameters","sampleCount"],s);const u=l(e,["aspectRatio"]);t!==void 0&&u!=null&&d(t,["parameters","aspectRatio"],u);const f=l(e,["guidanceScale"]);t!==void 0&&f!=null&&d(t,["parameters","guidanceScale"],f);const p=l(e,["seed"]);t!==void 0&&p!=null&&d(t,["parameters","seed"],p);const m=l(e,["safetyFilterLevel"]);t!==void 0&&m!=null&&d(t,["parameters","safetySetting"],m);const y=l(e,["personGeneration"]);t!==void 0&&y!=null&&d(t,["parameters","personGeneration"],y);const v=l(e,["includeSafetyAttributes"]);t!==void 0&&v!=null&&d(t,["parameters","includeSafetyAttributes"],v);const _=l(e,["includeRaiReason"]);t!==void 0&&_!=null&&d(t,["parameters","includeRaiReason"],_);const S=l(e,["language"]);t!==void 0&&S!=null&&d(t,["parameters","language"],S);const k=l(e,["outputMimeType"]);t!==void 0&&k!=null&&d(t,["parameters","outputOptions","mimeType"],k);const I=l(e,["outputCompressionQuality"]);t!==void 0&&I!=null&&d(t,["parameters","outputOptions","compressionQuality"],I);const M=l(e,["addWatermark"]);t!==void 0&&M!=null&&d(t,["parameters","addWatermark"],M);const C=l(e,["labels"]);t!==void 0&&C!=null&&d(t,["labels"],C);const T=l(e,["imageSize"]);t!==void 0&&T!=null&&d(t,["parameters","sampleImageSize"],T);const E=l(e,["enhancePrompt"]);return t!==void 0&&E!=null&&d(t,["parameters","enhancePrompt"],E),n}function sC(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["prompt"]);r!=null&&d(n,["instances[0]","prompt"],r);const s=l(t,["config"]);return s!=null&&oC(s,n),n}function aC(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["prompt"]);r!=null&&d(n,["instances[0]","prompt"],r);const s=l(t,["config"]);return s!=null&&rC(s,n),n}function lC(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>xC(u))),d(t,["generatedImages"],s)}const r=l(e,["positivePromptSafetyAttributes"]);return r!=null&&d(t,["positivePromptSafetyAttributes"],G0(r)),t}function uC(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>ja(u))),d(t,["generatedImages"],s)}const r=l(e,["positivePromptSafetyAttributes"]);return r!=null&&d(t,["positivePromptSafetyAttributes"],O0(r)),t}function dC(e,t){const n={},i=l(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&d(t,["parameters","sampleCount"],i),l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=l(e,["durationSeconds"]);if(t!==void 0&&r!=null&&d(t,["parameters","durationSeconds"],r),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=l(e,["aspectRatio"]);t!==void 0&&s!=null&&d(t,["parameters","aspectRatio"],s);const u=l(e,["resolution"]);t!==void 0&&u!=null&&d(t,["parameters","resolution"],u);const f=l(e,["personGeneration"]);if(t!==void 0&&f!=null&&d(t,["parameters","personGeneration"],f),l(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=l(e,["negativePrompt"]);t!==void 0&&p!=null&&d(t,["parameters","negativePrompt"],p);const m=l(e,["enhancePrompt"]);if(t!==void 0&&m!=null&&d(t,["parameters","enhancePrompt"],m),l(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=l(e,["lastFrame"]);t!==void 0&&y!=null&&d(t,["instances[0]","lastFrame"],Za(y));const v=l(e,["referenceImages"]);if(t!==void 0&&v!=null){let _=v;Array.isArray(_)&&(_=_.map(S=>fE(S))),d(t,["instances[0]","referenceImages"],_)}if(l(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function cC(e,t){const n={},i=l(e,["numberOfVideos"]);t!==void 0&&i!=null&&d(t,["parameters","sampleCount"],i);const r=l(e,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const s=l(e,["fps"]);t!==void 0&&s!=null&&d(t,["parameters","fps"],s);const u=l(e,["durationSeconds"]);t!==void 0&&u!=null&&d(t,["parameters","durationSeconds"],u);const f=l(e,["seed"]);t!==void 0&&f!=null&&d(t,["parameters","seed"],f);const p=l(e,["aspectRatio"]);t!==void 0&&p!=null&&d(t,["parameters","aspectRatio"],p);const m=l(e,["resolution"]);t!==void 0&&m!=null&&d(t,["parameters","resolution"],m);const y=l(e,["personGeneration"]);t!==void 0&&y!=null&&d(t,["parameters","personGeneration"],y);const v=l(e,["pubsubTopic"]);t!==void 0&&v!=null&&d(t,["parameters","pubsubTopic"],v);const _=l(e,["negativePrompt"]);t!==void 0&&_!=null&&d(t,["parameters","negativePrompt"],_);const S=l(e,["enhancePrompt"]);t!==void 0&&S!=null&&d(t,["parameters","enhancePrompt"],S);const k=l(e,["generateAudio"]);t!==void 0&&k!=null&&d(t,["parameters","generateAudio"],k);const I=l(e,["lastFrame"]);t!==void 0&&I!=null&&d(t,["instances[0]","lastFrame"],an(I));const M=l(e,["referenceImages"]);if(t!==void 0&&M!=null){let E=M;Array.isArray(E)&&(E=E.map(P=>hE(P))),d(t,["instances[0]","referenceImages"],E)}const C=l(e,["mask"]);t!==void 0&&C!=null&&d(t,["instances[0]","mask"],cE(C));const T=l(e,["compressionQuality"]);return t!==void 0&&T!=null&&d(t,["parameters","compressionQuality"],T),n}function fC(e){const t={},n=l(e,["name"]);n!=null&&d(t,["name"],n);const i=l(e,["metadata"]);i!=null&&d(t,["metadata"],i);const r=l(e,["done"]);r!=null&&d(t,["done"],r);const s=l(e,["error"]);s!=null&&d(t,["error"],s);const u=l(e,["response","generateVideoResponse"]);return u!=null&&d(t,["response"],gC(u)),t}function hC(e){const t={},n=l(e,["name"]);n!=null&&d(t,["name"],n);const i=l(e,["metadata"]);i!=null&&d(t,["metadata"],i);const r=l(e,["done"]);r!=null&&d(t,["done"],r);const s=l(e,["error"]);s!=null&&d(t,["error"],s);const u=l(e,["response"]);return u!=null&&d(t,["response"],yC(u)),t}function pC(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["prompt"]);r!=null&&d(n,["instances[0]","prompt"],r);const s=l(t,["image"]);s!=null&&d(n,["instances[0]","image"],Za(s));const u=l(t,["video"]);u!=null&&d(n,["instances[0]","video"],Z0(u));const f=l(t,["source"]);f!=null&&vC(f,n);const p=l(t,["config"]);return p!=null&&dC(p,n),n}function mC(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["prompt"]);r!=null&&d(n,["instances[0]","prompt"],r);const s=l(t,["image"]);s!=null&&d(n,["instances[0]","image"],an(s));const u=l(t,["video"]);u!=null&&d(n,["instances[0]","video"],W0(u));const f=l(t,["source"]);f!=null&&_C(f,n);const p=l(t,["config"]);return p!=null&&cC(p,n),n}function gC(e){const t={},n=l(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>SC(u))),d(t,["generatedVideos"],s)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&d(t,["raiMediaFilteredCount"],i);const r=l(e,["raiMediaFilteredReasons"]);return r!=null&&d(t,["raiMediaFilteredReasons"],r),t}function yC(e){const t={},n=l(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>TC(u))),d(t,["generatedVideos"],s)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&d(t,["raiMediaFilteredCount"],i);const r=l(e,["raiMediaFilteredReasons"]);return r!=null&&d(t,["raiMediaFilteredReasons"],r),t}function vC(e,t){const n={},i=l(e,["prompt"]);t!==void 0&&i!=null&&d(t,["instances[0]","prompt"],i);const r=l(e,["image"]);t!==void 0&&r!=null&&d(t,["instances[0]","image"],Za(r));const s=l(e,["video"]);return t!==void 0&&s!=null&&d(t,["instances[0]","video"],Z0(s)),n}function _C(e,t){const n={},i=l(e,["prompt"]);t!==void 0&&i!=null&&d(t,["instances[0]","prompt"],i);const r=l(e,["image"]);t!==void 0&&r!=null&&d(t,["instances[0]","image"],an(r));const s=l(e,["video"]);return t!==void 0&&s!=null&&d(t,["instances[0]","video"],W0(s)),n}function xC(e){const t={},n=l(e,["_self"]);n!=null&&d(t,["image"],bC(n));const i=l(e,["raiFilteredReason"]);i!=null&&d(t,["raiFilteredReason"],i);const r=l(e,["_self"]);return r!=null&&d(t,["safetyAttributes"],G0(r)),t}function ja(e){const t={},n=l(e,["_self"]);n!=null&&d(t,["image"],H0(n));const i=l(e,["raiFilteredReason"]);i!=null&&d(t,["raiFilteredReason"],i);const r=l(e,["_self"]);r!=null&&d(t,["safetyAttributes"],O0(r));const s=l(e,["prompt"]);return s!=null&&d(t,["enhancedPrompt"],s),t}function wC(e){const t={},n=l(e,["_self"]);n!=null&&d(t,["mask"],H0(n));const i=l(e,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),d(t,["labels"],r)}return t}function SC(e){const t={},n=l(e,["video"]);return n!=null&&d(t,["video"],uE(n)),t}function TC(e){const t={},n=l(e,["_self"]);return n!=null&&d(t,["video"],dE(n)),t}function CC(e){const t={},n=l(e,["modelSelectionConfig"]);n!=null&&d(t,["modelConfig"],n);const i=l(e,["responseJsonSchema"]);i!=null&&d(t,["responseJsonSchema"],i);const r=l(e,["audioTimestamp"]);r!=null&&d(t,["audioTimestamp"],r);const s=l(e,["candidateCount"]);s!=null&&d(t,["candidateCount"],s);const u=l(e,["enableAffectiveDialog"]);u!=null&&d(t,["enableAffectiveDialog"],u);const f=l(e,["frequencyPenalty"]);f!=null&&d(t,["frequencyPenalty"],f);const p=l(e,["logprobs"]);p!=null&&d(t,["logprobs"],p);const m=l(e,["maxOutputTokens"]);m!=null&&d(t,["maxOutputTokens"],m);const y=l(e,["mediaResolution"]);y!=null&&d(t,["mediaResolution"],y);const v=l(e,["presencePenalty"]);v!=null&&d(t,["presencePenalty"],v);const _=l(e,["responseLogprobs"]);_!=null&&d(t,["responseLogprobs"],_);const S=l(e,["responseMimeType"]);S!=null&&d(t,["responseMimeType"],S);const k=l(e,["responseModalities"]);k!=null&&d(t,["responseModalities"],k);const I=l(e,["responseSchema"]);I!=null&&d(t,["responseSchema"],I);const M=l(e,["routingConfig"]);M!=null&&d(t,["routingConfig"],M);const C=l(e,["seed"]);C!=null&&d(t,["seed"],C);const T=l(e,["speechConfig"]);T!=null&&d(t,["speechConfig"],q0(T));const E=l(e,["stopSequences"]);E!=null&&d(t,["stopSequences"],E);const P=l(e,["temperature"]);P!=null&&d(t,["temperature"],P);const z=l(e,["thinkingConfig"]);z!=null&&d(t,["thinkingConfig"],z);const F=l(e,["topK"]);F!=null&&d(t,["topK"],F);const H=l(e,["topP"]);if(H!=null&&d(t,["topP"],H),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function EC(e,t){const n={},i=l(t,["model"]);return i!=null&&d(n,["_url","name"],Se(e,i)),n}function kC(e,t){const n={},i=l(t,["model"]);return i!=null&&d(n,["_url","name"],Se(e,i)),n}function NC(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&d(t,["enableWidget"],n),t}function IC(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],n),t}function PC(e){const t={},n=l(e,["aspectRatio"]);n!=null&&d(t,["aspectRatio"],n);const i=l(e,["imageSize"]);if(i!=null&&d(t,["imageSize"],i),l(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function AC(e){const t={},n=l(e,["aspectRatio"]);n!=null&&d(t,["aspectRatio"],n);const i=l(e,["imageSize"]);i!=null&&d(t,["imageSize"],i);const r=l(e,["outputMimeType"]);r!=null&&d(t,["imageOutputOptions","mimeType"],r);const s=l(e,["outputCompressionQuality"]);return s!=null&&d(t,["imageOutputOptions","compressionQuality"],s),t}function bC(e){const t={},n=l(e,["bytesBase64Encoded"]);n!=null&&d(t,["imageBytes"],gi(n));const i=l(e,["mimeType"]);return i!=null&&d(t,["mimeType"],i),t}function H0(e){const t={},n=l(e,["gcsUri"]);n!=null&&d(t,["gcsUri"],n);const i=l(e,["bytesBase64Encoded"]);i!=null&&d(t,["imageBytes"],gi(i));const r=l(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function Za(e){const t={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=l(e,["imageBytes"]);n!=null&&d(t,["bytesBase64Encoded"],gi(n));const i=l(e,["mimeType"]);return i!=null&&d(t,["mimeType"],i),t}function an(e){const t={},n=l(e,["gcsUri"]);n!=null&&d(t,["gcsUri"],n);const i=l(e,["imageBytes"]);i!=null&&d(t,["bytesBase64Encoded"],gi(i));const r=l(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function MC(e,t,n){const i={},r=l(t,["pageSize"]);n!==void 0&&r!=null&&d(n,["_query","pageSize"],r);const s=l(t,["pageToken"]);n!==void 0&&s!=null&&d(n,["_query","pageToken"],s);const u=l(t,["filter"]);n!==void 0&&u!=null&&d(n,["_query","filter"],u);const f=l(t,["queryBase"]);return n!==void 0&&f!=null&&d(n,["_url","models_url"],R0(e,f)),i}function RC(e,t,n){const i={},r=l(t,["pageSize"]);n!==void 0&&r!=null&&d(n,["_query","pageSize"],r);const s=l(t,["pageToken"]);n!==void 0&&s!=null&&d(n,["_query","pageToken"],s);const u=l(t,["filter"]);n!==void 0&&u!=null&&d(n,["_query","filter"],u);const f=l(t,["queryBase"]);return n!==void 0&&f!=null&&d(n,["_url","models_url"],R0(e,f)),i}function LC(e,t){const n={},i=l(t,["config"]);return i!=null&&MC(e,i,n),n}function DC(e,t){const n={},i=l(t,["config"]);return i!=null&&RC(e,i,n),n}function zC(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const r=l(e,["_self"]);if(r!=null){let s=L0(r);Array.isArray(s)&&(s=s.map(u=>Ku(u))),d(t,["models"],s)}return t}function FC(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const r=l(e,["_self"]);if(r!=null){let s=L0(r);Array.isArray(s)&&(s=s.map(u=>Yu(u))),d(t,["models"],s)}return t}function UC(e){const t={},n=l(e,["maskMode"]);n!=null&&d(t,["maskMode"],n);const i=l(e,["segmentationClasses"]);i!=null&&d(t,["maskClasses"],i);const r=l(e,["maskDilation"]);return r!=null&&d(t,["dilation"],r),t}function Ku(e){const t={},n=l(e,["name"]);n!=null&&d(t,["name"],n);const i=l(e,["displayName"]);i!=null&&d(t,["displayName"],i);const r=l(e,["description"]);r!=null&&d(t,["description"],r);const s=l(e,["version"]);s!=null&&d(t,["version"],s);const u=l(e,["_self"]);u!=null&&d(t,["tunedModelInfo"],eE(u));const f=l(e,["inputTokenLimit"]);f!=null&&d(t,["inputTokenLimit"],f);const p=l(e,["outputTokenLimit"]);p!=null&&d(t,["outputTokenLimit"],p);const m=l(e,["supportedGenerationMethods"]);m!=null&&d(t,["supportedActions"],m);const y=l(e,["temperature"]);y!=null&&d(t,["temperature"],y);const v=l(e,["maxTemperature"]);v!=null&&d(t,["maxTemperature"],v);const _=l(e,["topP"]);_!=null&&d(t,["topP"],_);const S=l(e,["topK"]);S!=null&&d(t,["topK"],S);const k=l(e,["thinking"]);return k!=null&&d(t,["thinking"],k),t}function Yu(e){const t={},n=l(e,["name"]);n!=null&&d(t,["name"],n);const i=l(e,["displayName"]);i!=null&&d(t,["displayName"],i);const r=l(e,["description"]);r!=null&&d(t,["description"],r);const s=l(e,["versionId"]);s!=null&&d(t,["version"],s);const u=l(e,["deployedModels"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>Y1(_))),d(t,["endpoints"],v)}const f=l(e,["labels"]);f!=null&&d(t,["labels"],f);const p=l(e,["_self"]);p!=null&&d(t,["tunedModelInfo"],tE(p));const m=l(e,["defaultCheckpointId"]);m!=null&&d(t,["defaultCheckpointId"],m);const y=l(e,["checkpoints"]);if(y!=null){let v=y;Array.isArray(v)&&(v=v.map(_=>_)),d(t,["checkpoints"],v)}return t}function VC(e){const t={},n=l(e,["mediaResolution"]);n!=null&&d(t,["mediaResolution"],n);const i=l(e,["codeExecutionResult"]);i!=null&&d(t,["codeExecutionResult"],i);const r=l(e,["executableCode"]);r!=null&&d(t,["executableCode"],r);const s=l(e,["fileData"]);s!=null&&d(t,["fileData"],X1(s));const u=l(e,["functionCall"]);u!=null&&d(t,["functionCall"],Q1(u));const f=l(e,["functionResponse"]);f!=null&&d(t,["functionResponse"],f);const p=l(e,["inlineData"]);p!=null&&d(t,["inlineData"],C1(p));const m=l(e,["text"]);m!=null&&d(t,["text"],m);const y=l(e,["thought"]);y!=null&&d(t,["thought"],y);const v=l(e,["thoughtSignature"]);v!=null&&d(t,["thoughtSignature"],v);const _=l(e,["videoMetadata"]);return _!=null&&d(t,["videoMetadata"],_),t}function BC(e){const t={},n=l(e,["productImage"]);return n!=null&&d(t,["image"],an(n)),t}function HC(e,t){const n={},i=l(e,["numberOfImages"]);t!==void 0&&i!=null&&d(t,["parameters","sampleCount"],i);const r=l(e,["baseSteps"]);t!==void 0&&r!=null&&d(t,["parameters","baseSteps"],r);const s=l(e,["outputGcsUri"]);t!==void 0&&s!=null&&d(t,["parameters","storageUri"],s);const u=l(e,["seed"]);t!==void 0&&u!=null&&d(t,["parameters","seed"],u);const f=l(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&d(t,["parameters","safetySetting"],f);const p=l(e,["personGeneration"]);t!==void 0&&p!=null&&d(t,["parameters","personGeneration"],p);const m=l(e,["addWatermark"]);t!==void 0&&m!=null&&d(t,["parameters","addWatermark"],m);const y=l(e,["outputMimeType"]);t!==void 0&&y!=null&&d(t,["parameters","outputOptions","mimeType"],y);const v=l(e,["outputCompressionQuality"]);t!==void 0&&v!=null&&d(t,["parameters","outputOptions","compressionQuality"],v);const _=l(e,["enhancePrompt"]);t!==void 0&&_!=null&&d(t,["parameters","enhancePrompt"],_);const S=l(e,["labels"]);return t!==void 0&&S!=null&&d(t,["labels"],S),n}function GC(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["source"]);r!=null&&qC(r,n);const s=l(t,["config"]);return s!=null&&HC(s,n),n}function OC(e){const t={},n=l(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>ja(r))),d(t,["generatedImages"],i)}return t}function qC(e,t){const n={},i=l(e,["prompt"]);t!==void 0&&i!=null&&d(t,["instances[0]","prompt"],i);const r=l(e,["personImage"]);t!==void 0&&r!=null&&d(t,["instances[0]","personImage","image"],an(r));const s=l(e,["productImages"]);if(t!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>BC(f))),d(t,["instances[0]","productImages"],u)}return n}function jC(e){const t={},n=l(e,["referenceImage"]);n!=null&&d(t,["referenceImage"],an(n));const i=l(e,["referenceId"]);i!=null&&d(t,["referenceId"],i);const r=l(e,["referenceType"]);r!=null&&d(t,["referenceType"],r);const s=l(e,["maskImageConfig"]);s!=null&&d(t,["maskImageConfig"],UC(s));const u=l(e,["controlImageConfig"]);u!=null&&d(t,["controlImageConfig"],b1(u));const f=l(e,["styleImageConfig"]);f!=null&&d(t,["styleImageConfig"],f);const p=l(e,["subjectImageConfig"]);return p!=null&&d(t,["subjectImageConfig"],p),t}function G0(e){const t={},n=l(e,["safetyAttributes","categories"]);n!=null&&d(t,["categories"],n);const i=l(e,["safetyAttributes","scores"]);i!=null&&d(t,["scores"],i);const r=l(e,["contentType"]);return r!=null&&d(t,["contentType"],r),t}function O0(e){const t={},n=l(e,["safetyAttributes","categories"]);n!=null&&d(t,["categories"],n);const i=l(e,["safetyAttributes","scores"]);i!=null&&d(t,["scores"],i);const r=l(e,["contentType"]);return r!=null&&d(t,["contentType"],r),t}function ZC(e){const t={},n=l(e,["category"]);if(n!=null&&d(t,["category"],n),l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=l(e,["threshold"]);return i!=null&&d(t,["threshold"],i),t}function WC(e){const t={},n=l(e,["image"]);return n!=null&&d(t,["image"],an(n)),t}function JC(e,t){const n={},i=l(e,["mode"]);t!==void 0&&i!=null&&d(t,["parameters","mode"],i);const r=l(e,["maxPredictions"]);t!==void 0&&r!=null&&d(t,["parameters","maxPredictions"],r);const s=l(e,["confidenceThreshold"]);t!==void 0&&s!=null&&d(t,["parameters","confidenceThreshold"],s);const u=l(e,["maskDilation"]);t!==void 0&&u!=null&&d(t,["parameters","maskDilation"],u);const f=l(e,["binaryColorThreshold"]);t!==void 0&&f!=null&&d(t,["parameters","binaryColorThreshold"],f);const p=l(e,["labels"]);return t!==void 0&&p!=null&&d(t,["labels"],p),n}function $C(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["source"]);r!=null&&YC(r,n);const s=l(t,["config"]);return s!=null&&JC(s,n),n}function KC(e){const t={},n=l(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>wC(r))),d(t,["generatedMasks"],i)}return t}function YC(e,t){const n={},i=l(e,["prompt"]);t!==void 0&&i!=null&&d(t,["instances[0]","prompt"],i);const r=l(e,["image"]);t!==void 0&&r!=null&&d(t,["instances[0]","image"],an(r));const s=l(e,["scribbleImage"]);return t!==void 0&&s!=null&&d(t,["instances[0]","scribble"],WC(s)),n}function q0(e){const t={},n=l(e,["languageCode"]);n!=null&&d(t,["languageCode"],n);const i=l(e,["voiceConfig"]);if(i!=null&&d(t,["voiceConfig"],i),l(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function XC(e){const t={},n=l(e,["functionCallingConfig"]);n!=null&&d(t,["functionCallingConfig"],eC(n));const i=l(e,["retrievalConfig"]);return i!=null&&d(t,["retrievalConfig"],i),t}function QC(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(v=>v)),d(t,["functionDeclarations"],y)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(e,["googleSearchRetrieval"]);i!=null&&d(t,["googleSearchRetrieval"],i);const r=l(e,["computerUse"]);r!=null&&d(t,["computerUse"],r);const s=l(e,["fileSearch"]);s!=null&&d(t,["fileSearch"],s);const u=l(e,["codeExecution"]);if(u!=null&&d(t,["codeExecution"],u),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=l(e,["googleMaps"]);f!=null&&d(t,["googleMaps"],NC(f));const p=l(e,["googleSearch"]);p!=null&&d(t,["googleSearch"],IC(p));const m=l(e,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}function j0(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>tC(_))),d(t,["functionDeclarations"],v)}const i=l(e,["retrieval"]);i!=null&&d(t,["retrieval"],i);const r=l(e,["googleSearchRetrieval"]);r!=null&&d(t,["googleSearchRetrieval"],r);const s=l(e,["computerUse"]);if(s!=null&&d(t,["computerUse"],s),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=l(e,["codeExecution"]);u!=null&&d(t,["codeExecution"],u);const f=l(e,["enterpriseWebSearch"]);f!=null&&d(t,["enterpriseWebSearch"],f);const p=l(e,["googleMaps"]);p!=null&&d(t,["googleMaps"],p);const m=l(e,["googleSearch"]);m!=null&&d(t,["googleSearch"],m);const y=l(e,["urlContext"]);return y!=null&&d(t,["urlContext"],y),t}function eE(e){const t={},n=l(e,["baseModel"]);n!=null&&d(t,["baseModel"],n);const i=l(e,["createTime"]);i!=null&&d(t,["createTime"],i);const r=l(e,["updateTime"]);return r!=null&&d(t,["updateTime"],r),t}function tE(e){const t={},n=l(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(t,["baseModel"],n);const i=l(e,["createTime"]);i!=null&&d(t,["createTime"],i);const r=l(e,["updateTime"]);return r!=null&&d(t,["updateTime"],r),t}function nE(e,t){const n={},i=l(e,["displayName"]);t!==void 0&&i!=null&&d(t,["displayName"],i);const r=l(e,["description"]);t!==void 0&&r!=null&&d(t,["description"],r);const s=l(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&d(t,["defaultCheckpointId"],s),n}function iE(e,t){const n={},i=l(e,["displayName"]);t!==void 0&&i!=null&&d(t,["displayName"],i);const r=l(e,["description"]);t!==void 0&&r!=null&&d(t,["description"],r);const s=l(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&d(t,["defaultCheckpointId"],s),n}function oE(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","name"],Se(e,i));const r=l(t,["config"]);return r!=null&&nE(r,n),n}function rE(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["config"]);return r!=null&&iE(r,n),n}function sE(e,t){const n={},i=l(e,["outputGcsUri"]);t!==void 0&&i!=null&&d(t,["parameters","storageUri"],i);const r=l(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&d(t,["parameters","safetySetting"],r);const s=l(e,["personGeneration"]);t!==void 0&&s!=null&&d(t,["parameters","personGeneration"],s);const u=l(e,["includeRaiReason"]);t!==void 0&&u!=null&&d(t,["parameters","includeRaiReason"],u);const f=l(e,["outputMimeType"]);t!==void 0&&f!=null&&d(t,["parameters","outputOptions","mimeType"],f);const p=l(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&d(t,["parameters","outputOptions","compressionQuality"],p);const m=l(e,["enhanceInputImage"]);t!==void 0&&m!=null&&d(t,["parameters","upscaleConfig","enhanceInputImage"],m);const y=l(e,["imagePreservationFactor"]);t!==void 0&&y!=null&&d(t,["parameters","upscaleConfig","imagePreservationFactor"],y);const v=l(e,["labels"]);t!==void 0&&v!=null&&d(t,["labels"],v);const _=l(e,["numberOfImages"]);t!==void 0&&_!=null&&d(t,["parameters","sampleCount"],_);const S=l(e,["mode"]);return t!==void 0&&S!=null&&d(t,["parameters","mode"],S),n}function aE(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["_url","model"],Se(e,i));const r=l(t,["image"]);r!=null&&d(n,["instances[0]","image"],an(r));const s=l(t,["upscaleFactor"]);s!=null&&d(n,["parameters","upscaleConfig","upscaleFactor"],s);const u=l(t,["config"]);return u!=null&&sE(u,n),n}function lE(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>ja(s))),d(t,["generatedImages"],r)}return t}function uE(e){const t={},n=l(e,["uri"]);n!=null&&d(t,["uri"],n);const i=l(e,["encodedVideo"]);i!=null&&d(t,["videoBytes"],gi(i));const r=l(e,["encoding"]);return r!=null&&d(t,["mimeType"],r),t}function dE(e){const t={},n=l(e,["gcsUri"]);n!=null&&d(t,["uri"],n);const i=l(e,["bytesBase64Encoded"]);i!=null&&d(t,["videoBytes"],gi(i));const r=l(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function cE(e){const t={},n=l(e,["image"]);n!=null&&d(t,["_self"],an(n));const i=l(e,["maskMode"]);return i!=null&&d(t,["maskMode"],i),t}function fE(e){const t={},n=l(e,["image"]);n!=null&&d(t,["image"],Za(n));const i=l(e,["referenceType"]);return i!=null&&d(t,["referenceType"],i),t}function hE(e){const t={},n=l(e,["image"]);n!=null&&d(t,["image"],an(n));const i=l(e,["referenceType"]);return i!=null&&d(t,["referenceType"],i),t}function Z0(e){const t={},n=l(e,["uri"]);n!=null&&d(t,["uri"],n);const i=l(e,["videoBytes"]);i!=null&&d(t,["encodedVideo"],gi(i));const r=l(e,["mimeType"]);return r!=null&&d(t,["encoding"],r),t}function W0(e){const t={},n=l(e,["uri"]);n!=null&&d(t,["gcsUri"],n);const i=l(e,["videoBytes"]);i!=null&&d(t,["bytesBase64Encoded"],gi(i));const r=l(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pE="Content-Type",mE="X-Server-Timeout",gE="User-Agent",Xu="x-goog-api-client",yE="1.30.0",vE=`google-genai-sdk/${yE}`,_E="v1beta1",xE="v1beta",Op=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class wE{constructor(t){var n,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:_E,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:xE,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,i);if(t.queryParams)for(const[u,f]of Object.entries(t.queryParams))r.searchParams.append(u,String(f));let s={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=t.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,r.toString(),t.abortSignal),this.unaryApiCall(r,s,t.httpMethod)}patchHttpOptions(t,n){const i=JSON.parse(JSON.stringify(t));for(const[r,s]of Object.entries(n))typeof s=="object"?i[r]=Object.assign(Object.assign({},i[r]),s):s!==void 0&&(i[r]=s);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let s={};return s.body=t.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,r.toString(),t.abortSignal),this.streamApiCall(r,s,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i,r){if(n&&n.timeout||r){const s=new AbortController,u=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const f=setTimeout(()=>s.abort(),n.timeout);f&&typeof f.unref=="function"&&f.unref()}r&&r.addEventListener("abort",()=>{s.abort()}),t.signal=u}return n&&n.extraBody!==null&&SE(t,n.extraBody),t.headers=await this.getHeadersInternal(n,i),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await qp(r),new Wu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await qp(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){var n;return Eo(this,arguments,function*(){const r=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let u="";for(;;){const{done:f,value:p}=yield Re(r.read());if(f){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=s.decode(p,{stream:!0});try{const v=JSON.parse(m);if("error"in v){const _=JSON.parse(JSON.stringify(v.error)),S=_.status,k=_.code,I=`got status: ${S}. ${JSON.stringify(v)}`;if(k>=400&&k<600)throw new Oa({message:I,status:k})}}catch(v){if(v.name==="ApiError")throw v}u+=m;let y=u.match(Op);for(;y;){const v=y[1];try{const _=new Response(v,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Re(new Wu(_)),u=u.slice(y[0].length),y=u.match(Op)}catch(_){throw new Error(`exception parsing stream chunk ${v}. ${_}`)}}}}finally{r.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},n=vE+" "+this.clientOptions.userAgentExtra;return t[gE]=n,t[Xu]=n,t[pE]="application/json",t}async getHeadersInternal(t,n){const i=new Headers;if(t&&t.headers){for(const[r,s]of Object.entries(t.headers))i.append(r,s);t.timeout&&t.timeout>0&&i.append(mE,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(t){var n;let i="";return typeof t=="string"&&(i=t.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(t,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,u=await s.stat(t);r.sizeBytes=String(u.size);const f=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=f;const p={file:r},m=this.getFileName(t),y=Y("upload/v1beta/files",p._url),v=await this.fetchUploadUrl(y,r.sizeBytes,r.mimeType,m,p,n==null?void 0:n.httpOptions);return s.upload(t,v,this)}async uploadFileToFileSearchStore(t,n,i){var r;const s=this.clientOptions.uploader,u=await s.stat(n),f=String(u.size),p=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,y=this.getFileName(n),v={};i!=null&&i.customMetadata&&(v.customMetadata=i.customMetadata),i!=null&&i.chunkingConfig&&(v.chunkingConfig=i.chunkingConfig);const _=await this.fetchUploadUrl(m,f,p,y,v,i==null?void 0:i.httpOptions);return s.uploadToFileSearchStore(n,_,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,i,r,s,u){var f;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(s),httpMethod:"POST",httpOptions:p});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(f=m==null?void 0:m.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function qp(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let i;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?i=await e.json():i={error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(i);throw n>=400&&n<600?new Oa({message:r,status:n}):new Error(r)}}function SE(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const s=JSON.parse(e.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,u){const f=Object.assign({},s);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const m=u[p],y=f[p];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?f[p]=i(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),f[p]=m)}return f}const r=i(n,t);e.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TE="mcp_used/unknown";let CE=!1;function J0(e){for(const t of e)if(EE(t)||typeof t=="object"&&"inputSchema"in t)return!0;return CE}function $0(e){var t;const n=(t=e[Xu])!==null&&t!==void 0?t:"";e[Xu]=(n+` ${TE}`).trimStart()}function EE(e){return e!==null&&typeof e=="object"&&e instanceof sc}function kE(e,t=100){return Eo(this,arguments,function*(){let i,r=0;for(;r<t;){const s=yield Re(e.listTools({cursor:i}));for(const u of s.tools)yield yield Re(u),r++;if(!s.nextCursor)break;i=s.nextCursor}})}class sc{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new sc(t,n)}async initialize(){var t,n,i,r;if(this.mcpTools.length>0)return;const s={},u=[];for(const y of this.mcpClients)try{for(var f=!0,p=(n=void 0,xr(kE(y))),m;m=await p.next(),t=m.done,!t;f=!0){r=m.value,f=!1;const v=r;u.push(v);const _=v.name;if(s[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);s[_]=y}}catch(v){n={error:v}}finally{try{!f&&!t&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),vS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const i of t)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const u=await r.callTool({name:i.name,arguments:i.args},void 0,s);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function NE(e,t,n){const i=new dS;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(i,r),t(i)}class IE{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),u=bE(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),p=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${f}`;let m=()=>{};const y=new Promise(E=>{m=E}),v=t.callbacks,_=function(){m({})},S=this.apiClient,k={onopen:_,onmessage:E=>{NE(S,v.onmessage,E)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(E){},onclose:(i=v==null?void 0:v.onclose)!==null&&i!==void 0?i:function(E){}},I=this.webSocketFactory.create(p,AE(u),k);I.connect(),await y;const T={setup:{model:Se(this.apiClient,t.model)}};return I.send(JSON.stringify(T)),new PE(I,this.apiClient)}}class PE{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=m1(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=p1(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(yo.PLAY)}pause(){this.sendPlaybackControl(yo.PAUSE)}stop(){this.sendPlaybackControl(yo.STOP)}resetContext(){this.sendPlaybackControl(yo.RESET_CONTEXT)}close(){this.conn.close()}}function AE(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function bE(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ME="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function RE(e,t,n){const i=new uS;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const s=JSON.parse(r);if(e.isVertexAI()){const u=v1(s);Object.assign(i,u)}else Object.assign(i,s);t(i)}class LE{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i,this.music=new IE(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,i,r,s,u,f;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const v=this.apiClient.getHeaders();t.config&&t.config.tools&&J0(t.config.tools)&&$0(v);const _=UE(v);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,y);else{const W=this.apiClient.getApiKey();let q="BidiGenerateContent",$="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",$="access_token"),y=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${q}?${$}=${W}`}let S=()=>{};const k=new Promise(W=>{S=W}),I=t.callbacks,M=function(){var W;(W=I==null?void 0:I.onopen)===null||W===void 0||W.call(I),S({})},C=this.apiClient,T={onopen:M,onmessage:W=>{RE(C,I.onmessage,W)},onerror:(n=I==null?void 0:I.onerror)!==null&&n!==void 0?n:function(W){},onclose:(i=I==null?void 0:I.onclose)!==null&&i!==void 0?i:function(W){}},E=this.webSocketFactory.create(y,FE(_),T);E.connect(),await k;let P=Se(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const W=this.apiClient.getProject(),q=this.apiClient.getLocation();P=`projects/${W}/locations/${q}/`+P}let z={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[xa.AUDIO]}:t.config.responseModalities=[xa.AUDIO]),!((s=t.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const F=(f=(u=t.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[],H=[];for(const W of F)if(this.isCallableTool(W)){const q=W;H.push(await q.tool())}else H.push(W);H.length>0&&(t.config.tools=H);const Z={model:P,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?z=h1(this.apiClient,Z):z=f1(this.apiClient,Z),delete z.config,E.send(JSON.stringify(z)),new zE(E,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const DE={turnComplete:!0};class zE{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Ot(n.turns),t.isVertexAI()||(i=i.map(r=>qa(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!t.isVertexAI()&&!("id"in s))throw new Error(ME)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},DE),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:y1(t)}:n={realtimeInput:g1(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function FE(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function UE(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jp=10;function Zp(e){var t,n,i;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const u of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(ko(u)){r=!0;break}if(!r)return!0;const s=(i=e==null?void 0:e.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function ko(e){return"callTool"in e&&typeof e.callTool=="function"}function VE(e){var t,n,i;return(i=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(r=>ko(r)))!==null&&i!==void 0?i:!1}function Wp(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((i,r)=>{if(ko(i))return;const s=i;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(r)}),n}function Jp(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BE extends Fn{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var i,r,s,u,f;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!VE(n)||Zp(n.config))return await this.generateContentInternal(p);const m=Wp(n);if(m.length>0){const I=m.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${I}.`)}let y,v;const _=Ot(p.contents),S=(s=(r=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:jp;let k=0;for(;k<S&&(y=await this.generateContentInternal(p),!(!y.functionCalls||y.functionCalls.length===0));){const I=y.candidates[0].content,M=[];for(const C of(f=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[])if(ko(C)){const E=await C.callTool(y.functionCalls);M.push(...E)}k++,v={role:"user",parts:M},p.contents=Ot(p.contents),p.contents.push(I),p.contents.push(v),Jp(p.config)&&(_.push(I),_.push(v))}return Jp(p.config)&&(y.automaticFunctionCallingHistory=_),y},this.generateContentStream=async n=>{var i,r,s,u,f;if(this.maybeMoveToResponseJsonSchem(n),Zp(n.config)){const v=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(v)}const p=Wp(n);if(p.length>0){const v=p.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${v}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(s=(r=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,y=(f=(u=n==null?void 0:n.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(m&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let s;const u=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((r=p==null?void 0:p.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?s=p==null?void 0:p.safetyAttributes:u.push(p);let f;return s?f={generatedImages:u,positivePromptSafetyAttributes:s,sdkHttpResponse:i.sdkHttpResponse}:f={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},f}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Gi(Dn.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var i,r,s,u,f,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(s=n.source)===null||s===void 0?void 0:s.video)===null||u===void 0)&&u.uri&&(!((p=(f=n.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,i,r;const s=(n=t.config)===null||n===void 0?void 0:n.tools;if(!s)return t;const u=await Promise.all(s.map(async p=>ko(p)?await p.tool():p)),f={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:u})};if(f.config.tools=u,t.config&&t.config.tools&&J0(t.config.tools)){const p=(r=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),$0(m),f.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return f}async initAfcToolsMap(t){var n,i,r;const s=new Map;for(const u of(i=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(ko(u)){const f=u,p=await f.tool();for(const m of(r=p.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(s.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);s.set(m.name,f)}}return s}async processAfcStream(t){var n,i,r;const s=(r=(i=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:jp;let u=!1,f=0;const p=await this.initAfcToolsMap(t);return function(m,y,v){var _,S;return Eo(this,arguments,function*(){for(var k,I,M,C;f<s;){u&&(f++,u=!1);const z=yield Re(m.processParamsMaybeAddMcpUsage(v)),F=yield Re(m.generateContentStreamInternal(z)),H=[],Z=[];try{for(var T=!0,E=(I=void 0,xr(F)),P;P=yield Re(E.next()),k=P.done,!k;T=!0){C=P.value,T=!1;const W=C;if(yield yield Re(W),W.candidates&&(!((_=W.candidates[0])===null||_===void 0)&&_.content)){Z.push(W.candidates[0].content);for(const q of(S=W.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(f<s&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(q.functionCall.name)){const $=yield Re(y.get(q.functionCall.name).callTool([q.functionCall]));H.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(W){I={error:W}}finally{try{!T&&!k&&(M=E.return)&&(yield Re(M.call(E)))}finally{if(I)throw I.error}}if(H.length>0){u=!0;const W=new sr;W.candidates=[{content:{role:"user",parts:H}}],yield yield Re(W);const q=[];q.push(...Z),q.push({role:"user",parts:H});const $=Ot(v.contents).concat(q);v.contents=$}else break}})}(this,p,t)}async generateContentInternal(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=Bp(this.apiClient,t);return f=Y("{model}:generateContent",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=Gp(y),_=new sr;return Object.assign(_,v),_})}else{const m=Vp(this.apiClient,t);return f=Y("{model}:generateContent",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=Hp(y),_=new sr;return Object.assign(_,v),_})}}async generateContentStreamInternal(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=Bp(this.apiClient,t);return f=Y("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(v){return Eo(this,arguments,function*(){var _,S,k,I;try{for(var M=!0,C=xr(v),T;T=yield Re(C.next()),_=T.done,!_;M=!0){I=T.value,M=!1;const E=I,P=Gp(yield Re(E.json()));P.sdkHttpResponse={headers:E.headers};const z=new sr;Object.assign(z,P),yield yield Re(z)}}catch(E){S={error:E}}finally{try{!M&&!_&&(k=C.return)&&(yield Re(k.call(C)))}finally{if(S)throw S.error}}})})}else{const m=Vp(this.apiClient,t);return f=Y("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),u.then(function(v){return Eo(this,arguments,function*(){var _,S,k,I;try{for(var M=!0,C=xr(v),T;T=yield Re(C.next()),_=T.done,!_;M=!0){I=T.value,M=!1;const E=I,P=Hp(yield Re(E.json()));P.sdkHttpResponse={headers:E.headers};const z=new sr;Object.assign(z,P),yield yield Re(z)}}catch(E){S={error:E}}finally{try{!M&&!_&&(k=C.return)&&(yield Re(k.call(C)))}finally{if(S)throw S.error}}})})}}async embedContent(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=J1(this.apiClient,t);return f=Y("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=K1(y),_=new Tp;return Object.assign(_,v),_})}else{const m=W1(this.apiClient,t);return f=Y("{model}:batchEmbedContents",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=$1(y),_=new Tp;return Object.assign(_,v),_})}}async generateImagesInternal(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=aC(this.apiClient,t);return f=Y("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=uC(y),_=new Cp;return Object.assign(_,v),_})}else{const m=sC(this.apiClient,t);return f=Y("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=lC(y),_=new Cp;return Object.assign(_,v),_})}}async editImageInternal(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI()){const f=O1(this.apiClient,t);return s=Y("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),r.then(p=>{const m=q1(p),y=new Xw;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI()){const f=aE(this.apiClient,t);return s=Y("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),r.then(p=>{const m=lE(p),y=new Qw;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI()){const f=GC(this.apiClient,t);return s=Y("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const m=OC(p),y=new eS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI()){const f=$C(this.apiClient,t);return s=Y("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const m=KC(p),y=new tS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=kC(this.apiClient,t);return f=Y("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>Yu(y))}else{const m=EC(this.apiClient,t);return f=Y("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>Ku(y))}}async listInternal(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=DC(this.apiClient,t);return f=Y("{models_url}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=FC(y),_=new Ep;return Object.assign(_,v),_})}else{const m=LC(this.apiClient,t);return f=Y("{models_url}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=zC(y),_=new Ep;return Object.assign(_,v),_})}}async update(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=rE(this.apiClient,t);return f=Y("{model}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>Yu(y))}else{const m=oE(this.apiClient,t);return f=Y("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>Ku(y))}}async delete(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=V1(this.apiClient,t);return f=Y("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=H1(y),_=new kp;return Object.assign(_,v),_})}else{const m=U1(this.apiClient,t);return f=Y("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=B1(y),_=new kp;return Object.assign(_,v),_})}}async countTokens(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=D1(this.apiClient,t);return f=Y("{model}:countTokens",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=F1(y),_=new Np;return Object.assign(_,v),_})}else{const m=L1(this.apiClient,t);return f=Y("{model}:countTokens",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=z1(y),_=new Np;return Object.assign(_,v),_})}}async computeTokens(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI()){const f=N1(this.apiClient,t);return s=Y("{model}:computeTokens",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),r.then(p=>{const m=I1(p),y=new nS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=mC(this.apiClient,t);return f=Y("{model}:predictLongRunning",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const v=hC(y),_=new wa;return Object.assign(_,v),_})}else{const m=pC(this.apiClient,t);return f=Y("{model}:predictLongRunning",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const v=fC(y),_=new wa;return Object.assign(_,v),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HE extends Fn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=Zw(t);return f=Y("{operationName}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u}else{const m=jw(t);return f=Y("{operationName}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u}}async fetchPredictVideosOperationInternal(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI()){const f=Uw(t);return s=Y("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GE(e){const t={},n=l(e,["data"]);if(n!=null&&d(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(e,["mimeType"]);return i!=null&&d(t,["mimeType"],i),t}function OE(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>XE(s))),d(t,["parts"],r)}const i=l(e,["role"]);return i!=null&&d(t,["role"],i),t}function qE(e,t,n){const i={},r=l(t,["expireTime"]);n!==void 0&&r!=null&&d(n,["expireTime"],r);const s=l(t,["newSessionExpireTime"]);n!==void 0&&s!=null&&d(n,["newSessionExpireTime"],s);const u=l(t,["uses"]);n!==void 0&&u!=null&&d(n,["uses"],u);const f=l(t,["liveConnectConstraints"]);n!==void 0&&f!=null&&d(n,["bidiGenerateContentSetup"],YE(e,f));const p=l(t,["lockAdditionalFields"]);return n!==void 0&&p!=null&&d(n,["fieldMask"],p),i}function jE(e,t){const n={},i=l(t,["config"]);return i!=null&&d(n,["config"],qE(e,i,n)),n}function ZE(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const i=l(e,["mimeType"]);return i!=null&&d(t,["mimeType"],i),t}function WE(e){const t={},n=l(e,["id"]);n!=null&&d(t,["id"],n);const i=l(e,["args"]);i!=null&&d(t,["args"],i);const r=l(e,["name"]);if(r!=null&&d(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function JE(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&d(t,["enableWidget"],n),t}function $E(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],n),t}function KE(e,t){const n={},i=l(e,["generationConfig"]);t!==void 0&&i!=null&&d(t,["setup","generationConfig"],i);const r=l(e,["responseModalities"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig","responseModalities"],r);const s=l(e,["temperature"]);t!==void 0&&s!=null&&d(t,["setup","generationConfig","temperature"],s);const u=l(e,["topP"]);t!==void 0&&u!=null&&d(t,["setup","generationConfig","topP"],u);const f=l(e,["topK"]);t!==void 0&&f!=null&&d(t,["setup","generationConfig","topK"],f);const p=l(e,["maxOutputTokens"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","maxOutputTokens"],p);const m=l(e,["mediaResolution"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","mediaResolution"],m);const y=l(e,["seed"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","seed"],y);const v=l(e,["speechConfig"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","speechConfig"],rc(v));const _=l(e,["thinkingConfig"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","thinkingConfig"],_);const S=l(e,["enableAffectiveDialog"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],S);const k=l(e,["systemInstruction"]);t!==void 0&&k!=null&&d(t,["setup","systemInstruction"],OE(ct(k)));const I=l(e,["tools"]);if(t!==void 0&&I!=null){let F=Uo(I);Array.isArray(F)&&(F=F.map(H=>ek(Fo(H)))),d(t,["setup","tools"],F)}const M=l(e,["sessionResumption"]);t!==void 0&&M!=null&&d(t,["setup","sessionResumption"],QE(M));const C=l(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&d(t,["setup","inputAudioTranscription"],C);const T=l(e,["outputAudioTranscription"]);t!==void 0&&T!=null&&d(t,["setup","outputAudioTranscription"],T);const E=l(e,["realtimeInputConfig"]);t!==void 0&&E!=null&&d(t,["setup","realtimeInputConfig"],E);const P=l(e,["contextWindowCompression"]);t!==void 0&&P!=null&&d(t,["setup","contextWindowCompression"],P);const z=l(e,["proactivity"]);return t!==void 0&&z!=null&&d(t,["setup","proactivity"],z),n}function YE(e,t){const n={},i=l(t,["model"]);i!=null&&d(n,["setup","model"],Se(e,i));const r=l(t,["config"]);return r!=null&&d(n,["config"],KE(r,n)),n}function XE(e){const t={},n=l(e,["mediaResolution"]);n!=null&&d(t,["mediaResolution"],n);const i=l(e,["codeExecutionResult"]);i!=null&&d(t,["codeExecutionResult"],i);const r=l(e,["executableCode"]);r!=null&&d(t,["executableCode"],r);const s=l(e,["fileData"]);s!=null&&d(t,["fileData"],ZE(s));const u=l(e,["functionCall"]);u!=null&&d(t,["functionCall"],WE(u));const f=l(e,["functionResponse"]);f!=null&&d(t,["functionResponse"],f);const p=l(e,["inlineData"]);p!=null&&d(t,["inlineData"],GE(p));const m=l(e,["text"]);m!=null&&d(t,["text"],m);const y=l(e,["thought"]);y!=null&&d(t,["thought"],y);const v=l(e,["thoughtSignature"]);v!=null&&d(t,["thoughtSignature"],v);const _=l(e,["videoMetadata"]);return _!=null&&d(t,["videoMetadata"],_),t}function QE(e){const t={},n=l(e,["handle"]);if(n!=null&&d(t,["handle"],n),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function ek(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(v=>v)),d(t,["functionDeclarations"],y)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(e,["googleSearchRetrieval"]);i!=null&&d(t,["googleSearchRetrieval"],i);const r=l(e,["computerUse"]);r!=null&&d(t,["computerUse"],r);const s=l(e,["fileSearch"]);s!=null&&d(t,["fileSearch"],s);const u=l(e,["codeExecution"]);if(u!=null&&d(t,["codeExecution"],u),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=l(e,["googleMaps"]);f!=null&&d(t,["googleMaps"],JE(f));const p=l(e,["googleSearch"]);p!=null&&d(t,["googleSearch"],$E(p));const m=l(e,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tk(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(s=>`${n}.${s}`);t.push(...r)}else t.push(n)}return t.join(",")}function nk(e,t){let n=null;const i=e.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(e.bidiGenerateContentSetup=s,n=s):delete e.bidiGenerateContentSetup}else i!==void 0&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(n){const s=tk(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)s?e.fieldMask=s:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];r.length>0&&(f=r.map(m=>u.includes(m)?`generationConfig.${m}`:m));const p=[];s&&p.push(s),f.length>0&&p.push(...f),p.length>0?e.fieldMask=p.join(","):delete e.fieldMask}else delete e.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class ik extends Fn{constructor(t){super(),this.apiClient=t}async create(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=jE(this.apiClient,t);s=Y("auth_tokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query;const p=nk(f,t.config);return r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ok(e,t){const n={},i=l(e,["displayName"]);return t!==void 0&&i!=null&&d(t,["displayName"],i),n}function rk(e){const t={},n=l(e,["config"]);return n!=null&&ok(n,t),t}function sk(e,t){const n={},i=l(e,["force"]);return t!==void 0&&i!=null&&d(t,["_query","force"],i),n}function ak(e){const t={},n=l(e,["name"]);n!=null&&d(t,["_url","name"],n);const i=l(e,["config"]);return i!=null&&sk(i,t),t}function lk(e){const t={},n=l(e,["name"]);return n!=null&&d(t,["_url","name"],n),t}function uk(e,t){const n={},i=l(e,["customMetadata"]);if(t!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>u)),d(t,["customMetadata"],s)}const r=l(e,["chunkingConfig"]);return t!==void 0&&r!=null&&d(t,["chunkingConfig"],r),n}function dk(e){const t={},n=l(e,["name"]);n!=null&&d(t,["name"],n);const i=l(e,["metadata"]);i!=null&&d(t,["metadata"],i);const r=l(e,["done"]);r!=null&&d(t,["done"],r);const s=l(e,["error"]);s!=null&&d(t,["error"],s);const u=l(e,["response"]);return u!=null&&d(t,["response"],fk(u)),t}function ck(e){const t={},n=l(e,["fileSearchStoreName"]);n!=null&&d(t,["_url","file_search_store_name"],n);const i=l(e,["fileName"]);i!=null&&d(t,["fileName"],i);const r=l(e,["config"]);return r!=null&&uk(r,t),t}function fk(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["parent"]);i!=null&&d(t,["parent"],i);const r=l(e,["documentName"]);return r!=null&&d(t,["documentName"],r),t}function hk(e,t){const n={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&d(t,["_query","pageSize"],i);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),n}function pk(e){const t={},n=l(e,["config"]);return n!=null&&hk(n,t),t}function mk(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const r=l(e,["fileSearchStores"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>u)),d(t,["fileSearchStores"],s)}return t}function gk(e,t){const n={},i=l(e,["mimeType"]);t!==void 0&&i!=null&&d(t,["mimeType"],i);const r=l(e,["displayName"]);t!==void 0&&r!=null&&d(t,["displayName"],r);const s=l(e,["customMetadata"]);if(t!==void 0&&s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>p)),d(t,["customMetadata"],f)}const u=l(e,["chunkingConfig"]);return t!==void 0&&u!=null&&d(t,["chunkingConfig"],u),n}function yk(e){const t={},n=l(e,["fileSearchStoreName"]);n!=null&&d(t,["_url","file_search_store_name"],n);const i=l(e,["config"]);return i!=null&&gk(i,t),t}function vk(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _k(e,t){const n={},i=l(e,["force"]);return t!==void 0&&i!=null&&d(t,["_query","force"],i),n}function xk(e){const t={},n=l(e,["name"]);n!=null&&d(t,["_url","name"],n);const i=l(e,["config"]);return i!=null&&_k(i,t),t}function wk(e){const t={},n=l(e,["name"]);return n!=null&&d(t,["_url","name"],n),t}function Sk(e,t){const n={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&d(t,["_query","pageSize"],i);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),n}function Tk(e){const t={},n=l(e,["parent"]);n!=null&&d(t,["_url","parent"],n);const i=l(e,["config"]);return i!=null&&Sk(i,t),t}function Ck(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const i=l(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const r=l(e,["documents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>u)),d(t,["documents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ek extends Fn{constructor(t){super(),this.apiClient=t,this.list=async n=>new Gi(Dn.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=wk(t);return s=Y("{name}",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(t){var n,i;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xk(t);r=Y("{name}",u._url),s=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Tk(t);return s=Y("{parent}/documents",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const m=Ck(p),y=new iS;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kk extends Fn{constructor(t,n=new Ek(t)){super(),this.apiClient=t,this.documents=n,this.list=async(i={})=>new Gi(Dn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=rk(t);return s=Y("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async get(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=lk(t);return s=Y("{name}",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(t){var n,i;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ak(t);r=Y("{name}",u._url),s=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=pk(t);return s=Y("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const m=mk(p),y=new oS;return Object.assign(y,m),y})}}async uploadToFileSearchStoreInternal(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=yk(t);return s=Y("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const m=vk(p),y=new rS;return Object.assign(y,m),y})}}async importFile(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=ck(t);return s=Y("{file_search_store_name}:importFile",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const m=dk(p),y=new ec;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nk(e,t){const n={},i=l(e,["name"]);return i!=null&&d(n,["_url","name"],i),n}function Ik(e,t){const n={},i=l(e,["name"]);return i!=null&&d(n,["_url","name"],i),n}function Pk(e,t,n){const i={};if(l(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=l(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&d(t,["displayName"],r),l(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=l(e,["epochCount"]);t!==void 0&&s!=null&&d(t,["tuningTask","hyperparameters","epochCount"],s);const u=l(e,["learningRateMultiplier"]);if(u!=null&&d(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),l(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=l(e,["batchSize"]);t!==void 0&&f!=null&&d(t,["tuningTask","hyperparameters","batchSize"],f);const p=l(e,["learningRate"]);if(t!==void 0&&p!=null&&d(t,["tuningTask","hyperparameters","learningRate"],p),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function Ak(e,t,n){const i={};let r=l(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const S=l(e,["validationDataset"]);t!==void 0&&S!=null&&d(t,["supervisedTuningSpec"],$p(S))}else if(r==="PREFERENCE_TUNING"){const S=l(e,["validationDataset"]);t!==void 0&&S!=null&&d(t,["preferenceOptimizationSpec"],$p(S))}const s=l(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&d(t,["tunedModelDisplayName"],s);const u=l(e,["description"]);t!==void 0&&u!=null&&d(t,["description"],u);let f=l(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const S=l(e,["epochCount"]);t!==void 0&&S!=null&&d(t,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(f==="PREFERENCE_TUNING"){const S=l(e,["epochCount"]);t!==void 0&&S!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}let p=l(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const S=l(e,["learningRateMultiplier"]);t!==void 0&&S!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(p==="PREFERENCE_TUNING"){const S=l(e,["learningRateMultiplier"]);t!==void 0&&S!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}let m=l(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const S=l(e,["exportLastCheckpointOnly"]);t!==void 0&&S!=null&&d(t,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(m==="PREFERENCE_TUNING"){const S=l(e,["exportLastCheckpointOnly"]);t!==void 0&&S!=null&&d(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}let y=l(n,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const S=l(e,["adapterSize"]);t!==void 0&&S!=null&&d(t,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(y==="PREFERENCE_TUNING"){const S=l(e,["adapterSize"]);t!==void 0&&S!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}if(l(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const v=l(e,["labels"]);t!==void 0&&v!=null&&d(t,["labels"],v);const _=l(e,["beta"]);return t!==void 0&&_!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","beta"],_),i}function bk(e,t){const n={},i=l(e,["baseModel"]);i!=null&&d(n,["baseModel"],i);const r=l(e,["preTunedModel"]);r!=null&&d(n,["preTunedModel"],r);const s=l(e,["trainingDataset"]);s!=null&&Gk(s);const u=l(e,["config"]);return u!=null&&Pk(u,n),n}function Mk(e,t){const n={},i=l(e,["baseModel"]);i!=null&&d(n,["baseModel"],i);const r=l(e,["preTunedModel"]);r!=null&&d(n,["preTunedModel"],r);const s=l(e,["trainingDataset"]);s!=null&&Ok(s,n,t);const u=l(e,["config"]);return u!=null&&Ak(u,n,t),n}function Rk(e,t){const n={},i=l(e,["name"]);return i!=null&&d(n,["_url","name"],i),n}function Lk(e,t){const n={},i=l(e,["name"]);return i!=null&&d(n,["_url","name"],i),n}function Dk(e,t,n){const i={},r=l(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const s=l(e,["pageToken"]);t!==void 0&&s!=null&&d(t,["_query","pageToken"],s);const u=l(e,["filter"]);return t!==void 0&&u!=null&&d(t,["_query","filter"],u),i}function zk(e,t,n){const i={},r=l(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const s=l(e,["pageToken"]);t!==void 0&&s!=null&&d(t,["_query","pageToken"],s);const u=l(e,["filter"]);return t!==void 0&&u!=null&&d(t,["_query","filter"],u),i}function Fk(e,t){const n={},i=l(e,["config"]);return i!=null&&Dk(i,n),n}function Uk(e,t){const n={},i=l(e,["config"]);return i!=null&&zk(i,n),n}function Vk(e,t){const n={},i=l(e,["sdkHttpResponse"]);i!=null&&d(n,["sdkHttpResponse"],i);const r=l(e,["nextPageToken"]);r!=null&&d(n,["nextPageToken"],r);const s=l(e,["tunedModels"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>K0(f))),d(n,["tuningJobs"],u)}return n}function Bk(e,t){const n={},i=l(e,["sdkHttpResponse"]);i!=null&&d(n,["sdkHttpResponse"],i);const r=l(e,["nextPageToken"]);r!=null&&d(n,["nextPageToken"],r);const s=l(e,["tuningJobs"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>Qu(f))),d(n,["tuningJobs"],u)}return n}function Hk(e,t){const n={},i=l(e,["name"]);i!=null&&d(n,["model"],i);const r=l(e,["name"]);return r!=null&&d(n,["endpoint"],r),n}function Gk(e,t){const n={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=l(e,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),d(n,["examples","examples"],r)}return n}function Ok(e,t,n){const i={};let r=l(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const u=l(e,["gcsUri"]);t!==void 0&&u!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(r==="PREFERENCE_TUNING"){const u=l(e,["gcsUri"]);t!==void 0&&u!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let s=l(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const u=l(e,["vertexDatasetResource"]);t!==void 0&&u!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(s==="PREFERENCE_TUNING"){const u=l(e,["vertexDatasetResource"]);t!==void 0&&u!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(l(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function K0(e,t){const n={},i=l(e,["sdkHttpResponse"]);i!=null&&d(n,["sdkHttpResponse"],i);const r=l(e,["name"]);r!=null&&d(n,["name"],r);const s=l(e,["state"]);s!=null&&d(n,["state"],b0(s));const u=l(e,["createTime"]);u!=null&&d(n,["createTime"],u);const f=l(e,["tuningTask","startTime"]);f!=null&&d(n,["startTime"],f);const p=l(e,["tuningTask","completeTime"]);p!=null&&d(n,["endTime"],p);const m=l(e,["updateTime"]);m!=null&&d(n,["updateTime"],m);const y=l(e,["description"]);y!=null&&d(n,["description"],y);const v=l(e,["baseModel"]);v!=null&&d(n,["baseModel"],v);const _=l(e,["_self"]);return _!=null&&d(n,["tunedModel"],Hk(_)),n}function Qu(e,t){const n={},i=l(e,["sdkHttpResponse"]);i!=null&&d(n,["sdkHttpResponse"],i);const r=l(e,["name"]);r!=null&&d(n,["name"],r);const s=l(e,["state"]);s!=null&&d(n,["state"],b0(s));const u=l(e,["createTime"]);u!=null&&d(n,["createTime"],u);const f=l(e,["startTime"]);f!=null&&d(n,["startTime"],f);const p=l(e,["endTime"]);p!=null&&d(n,["endTime"],p);const m=l(e,["updateTime"]);m!=null&&d(n,["updateTime"],m);const y=l(e,["error"]);y!=null&&d(n,["error"],y);const v=l(e,["description"]);v!=null&&d(n,["description"],v);const _=l(e,["baseModel"]);_!=null&&d(n,["baseModel"],_);const S=l(e,["tunedModel"]);S!=null&&d(n,["tunedModel"],S);const k=l(e,["preTunedModel"]);k!=null&&d(n,["preTunedModel"],k);const I=l(e,["supervisedTuningSpec"]);I!=null&&d(n,["supervisedTuningSpec"],I);const M=l(e,["preferenceOptimizationSpec"]);M!=null&&d(n,["preferenceOptimizationSpec"],M);const C=l(e,["tuningDataStats"]);C!=null&&d(n,["tuningDataStats"],C);const T=l(e,["encryptionSpec"]);T!=null&&d(n,["encryptionSpec"],T);const E=l(e,["partnerModelTuningSpec"]);E!=null&&d(n,["partnerModelTuningSpec"],E);const P=l(e,["customBaseModel"]);P!=null&&d(n,["customBaseModel"],P);const z=l(e,["experiment"]);z!=null&&d(n,["experiment"],z);const F=l(e,["labels"]);F!=null&&d(n,["labels"],F);const H=l(e,["outputUri"]);H!=null&&d(n,["outputUri"],H);const Z=l(e,["pipelineJob"]);Z!=null&&d(n,["pipelineJob"],Z);const W=l(e,["serviceAccount"]);W!=null&&d(n,["serviceAccount"],W);const q=l(e,["tunedModelDisplayName"]);q!=null&&d(n,["tunedModelDisplayName"],q);const $=l(e,["veoTuningSpec"]);return $!=null&&d(n,["veoTuningSpec"],$),n}function qk(e,t){const n={},i=l(e,["sdkHttpResponse"]);i!=null&&d(n,["sdkHttpResponse"],i);const r=l(e,["name"]);r!=null&&d(n,["name"],r);const s=l(e,["metadata"]);s!=null&&d(n,["metadata"],s);const u=l(e,["done"]);u!=null&&d(n,["done"],u);const f=l(e,["error"]);return f!=null&&d(n,["error"],f),n}function $p(e,t){const n={},i=l(e,["gcsUri"]);i!=null&&d(n,["validationDatasetUri"],i);const r=l(e,["vertexDatasetResource"]);return r!=null&&d(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jk extends Fn{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Gi(Dn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:r});return s.baseModel=void 0,await this.tuneInternal(s)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),s=await this.tuneMldevInternal(r);let u="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?u=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(u=s.name.split("/operations/")[0]),{name:u,state:Zu.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=Lk(t);return f=Y("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>Qu(y))}else{const m=Rk(t);return f=Y("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>K0(y))}}async listInternal(t){var n,i,r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=Uk(t);return f=Y("tuningJobs",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=Bk(y),_=new Ip;return Object.assign(_,v),_})}else{const m=Fk(t);return f=Y("tunedModels",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const v=Vk(y),_=new Ip;return Object.assign(_,v),_})}}async cancel(t){var n,i,r,s;let u="",f={};if(this.apiClient.isVertexAI()){const p=Ik(t);u=Y("{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=Nk(t);u=Y("{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI()){const f=Mk(t,t);return s=Y("tuningJobs",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),r.then(p=>Qu(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let r,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=bk(t);return s=Y("tunedModels",f._url),u=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),r.then(p=>qk(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zk{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Wk=1024*1024*8,Jk=3,$k=1e3,Kk=2,Ta="x-goog-upload-status";async function Yk(e,t,n){var i;const r=await Y0(e,t,n),s=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[Ta])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function Xk(e,t,n){var i;const r=await Y0(e,t,n),s=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[Ta])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=E0(s),f=new tc;return Object.assign(f,u),f}async function Y0(e,t,n){var i,r;let s=0,u=0,f=new Wu(new Response),p="upload";for(s=e.size;u<s;){const m=Math.min(Wk,s-u),y=e.slice(u,u+m);u+m>=s&&(p+=", finalize");let v=0,_=$k;for(;v<Jk&&(f=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),!(!((i=f==null?void 0:f.headers)===null||i===void 0)&&i[Ta]));)v++,await eN(_),_=_*Kk;if(u+=m,((r=f==null?void 0:f.headers)===null||r===void 0?void 0:r[Ta])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function Qk(e){return{size:e.size,type:e.type}}function eN(e){return new Promise(t=>setTimeout(t,e))}class tN{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Yk(t,n,i)}async uploadToFileSearchStore(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Xk(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Qk(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nN{create(t,n,i){return new iN(t,n,i)}}class iN{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kp="x-goog-api-key";class oN{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(Kp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Kp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rN="gl-node/";class sN{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const i=zw(t.httpOptions,t.vertexai,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion;const r=new oN(this.apiKey);this.apiClient=new wE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:rN+"web",uploader:new tN,downloader:new Zk}),this.models=new BE(this.apiClient),this.live=new LE(this.apiClient,r,new nN),this.batches=new cT(this.apiClient),this.chats=new ZT(this.models,this.apiClient),this.caches=new OT(this.apiClient),this.files=new n1(this.apiClient),this.operations=new HE(this.apiClient),this.authTokens=new ik(this.apiClient),this.tunings=new jk(this.apiClient),this.fileSearchStores=new kk(this.apiClient)}}const Yp=[{id:"prop-1",category:"residential",type:"",transactionType:"sale",title:"   ",address:"   ",area:145,priceTotal:125e8,features:["","",""," "],images:["https://images.unsplash.com/photo-1600596542815-2495db9dc2c3?auto=format&fit=crop&w=800&q=80"],ownerName:" ",ownerPhone:"09121234567",description:"          .   .",date:"1403/02/15",lat:35.8123,lng:51.4678,bedrooms:3,yearBuilt:1399,hasElevator:!0,hasParking:!0,hasStorage:!0,deedStatus:""},{id:"prop-2",category:"commercial",type:"",transactionType:"rent",title:"     ",address:"    ",area:45,priceDeposit:5e8,priceRent:85e6,features:["  "," ","   "],images:["https://images.unsplash.com/photo-1556740758-90de374c12ad?auto=format&fit=crop&w=800&q=80"],ownerName:" ",ownerPhone:"09129876543",description:"         .",date:"1403/02/18",lat:35.7789,lng:51.3654,status:"",facilities:["","",""," "],locationType:"  "},{id:"prop-3",category:"residential",type:"",transactionType:"sale",title:"    ",address:"   ",area:500,priceTotal:85e9,features:[" ","",""],images:["https://images.unsplash.com/photo-1613490493576-7fde63acd811?auto=format&fit=crop&w=800&q=80"],ownerName:" ",ownerPhone:"09121112233",description:"         .",date:"1403/02/20",lat:35.8189,lng:51.6321,bedrooms:4,yearBuilt:1401,hasParking:!0,deedStatus:""},{id:"prop-test-empty",category:"residential",type:"",transactionType:"sale",title:"  ( )",address:" ",area:120,priceTotal:9e9,features:[" "],images:["https://images.unsplash.com/photo-1584622650111-993a426fbf0a?auto=format&fit=crop&w=800&q=80"],ownerName:" ",ownerPhone:"---",description:"       (Virtual Staging)   .    .",date:"1403/03/01",lat:35.8,lng:51.45,bedrooms:2,yearBuilt:1403},{id:"prop-test-shop",category:"commercial",type:"",transactionType:"rent",title:"  ( )",address:" ",area:30,priceDeposit:2e8,priceRent:4e7,features:[],images:["https://images.unsplash.com/photo-1560185893-a55cbc8c57e8?auto=format&fit=crop&w=800&q=80"],ownerName:" ",ownerPhone:"---",description:"      (/)   .",date:"1403/03/01",lat:35.76,lng:51.46}],Xp=[{id:"admin-1",name:"  ()",username:"admin",role:"admin",lat:35.6892,lng:51.389},{id:"sec-1",name:" ",username:"secretary",role:"secretary",lat:35.7219,lng:51.3347,last_seen:"// :"}],Ye={PROPERTIES:"properties",CLIENTS:"clients",TASKS:"tasks",COMMISSIONS:"commissions",SETTINGS:"app_settings",USERS:"users_list"},ac=async()=>{const e=localStorage.getItem(Ye.PROPERTIES);return e?JSON.parse(e):(localStorage.setItem(Ye.PROPERTIES,JSON.stringify(Yp)),Yp)},aN=async e=>{const t=await ac();let n=[];return e.id?n=t.map(i=>i.id===e.id?{...i,...e}:i):n=[{...e,id:Date.now().toString()},...t],localStorage.setItem(Ye.PROPERTIES,JSON.stringify(n)),n},lN=async e=>{const n=(await ac()).filter(i=>i.id!==e.id);return localStorage.setItem(Ye.PROPERTIES,JSON.stringify(n)),!0},lc=async()=>{const e=localStorage.getItem(Ye.CLIENTS);return e?JSON.parse(e):[]},uN=async e=>{const t=await lc();let n=[];return e.id?n=t.map(i=>i.id===e.id?{...i,...e}:i):n=[{...e,id:Date.now().toString()},...t],localStorage.setItem(Ye.CLIENTS,JSON.stringify(n)),n},dN=async e=>{const n=(await lc()).filter(i=>i.id!==e);localStorage.setItem(Ye.CLIENTS,JSON.stringify(n))},uc=async()=>{const e=localStorage.getItem(Ye.TASKS);return e?JSON.parse(e):[]},Qp=async e=>{const t=await uc();let n=[];return e.id?n=t.map(i=>i.id===e.id?{...i,...e}:i):n=[{...e,id:Date.now().toString()},...t],localStorage.setItem(Ye.TASKS,JSON.stringify(n)),n},cN=async e=>{const n=(await uc()).filter(i=>i.id!==e);localStorage.setItem(Ye.TASKS,JSON.stringify(n))},dc=async()=>{const e=localStorage.getItem(Ye.COMMISSIONS);return e?JSON.parse(e):[]},em=async e=>{const t=await dc();let n=[];return e.id?n=t.map(i=>i.id===e.id?{...i,...e}:i):n=[{...e,id:Date.now().toString()},...t],localStorage.setItem(Ye.COMMISSIONS,JSON.stringify(n)),n},fN=async e=>{const n=(await dc()).filter(i=>i.id!==e);localStorage.setItem(Ye.COMMISSIONS,JSON.stringify(n))},cc=async()=>{const e=localStorage.getItem(Ye.SETTINGS);return e?JSON.parse(e):{}},tm=async(e,t)=>{const i={...await cc(),[e]:t};return localStorage.setItem(Ye.SETTINGS,JSON.stringify(i)),!0},Hr=async()=>{const e=localStorage.getItem(Ye.USERS);return e?JSON.parse(e):(localStorage.setItem(Ye.USERS,JSON.stringify(Xp)),Xp)},hN=async e=>{const t=await Hr();let n=[];if(e.id)n=t.map(i=>i.id===e.id?{...i,...e}:i);else{const i={...e,id:Date.now().toString(),lat:0,lng:0,last_seen:new Date().toLocaleString("fa-IR")};n=[...t,i]}return localStorage.setItem(Ye.USERS,JSON.stringify(n)),n},pN=async e=>{const n=(await Hr()).filter(i=>i.id!==e);return localStorage.setItem(Ye.USERS,JSON.stringify(n)),n},mN=async(e,t,n)=>{const r=(await Hr()).map(s=>s.id===e?{...s,lat:t,lng:n,last_seen:new Date().toLocaleString("fa-IR")}:s);localStorage.setItem(Ye.USERS,JSON.stringify(r))},gN=async()=>{const[e,t,n,i]=await Promise.all([ac(),lc(),uc(),dc()]);return{properties:e,clients:t,tasks:n,commissions:i}},fc="gemini-2.5-flash",X0="gemini-3-pro-preview",hc="gemini-2.5-flash-image",Q0="gemini-3-pro-image-preview",yN={apiKey:"",model:fc,isValid:!1,error:null},vN={apiKey:"",model:hc,isValid:!1,error:null},ey=e=>new sN({apiKey:e.trim()}),_N=async e=>{const t=await cc();let n;if(e===sn.TEXT_CHAT){if(n=t.gemini_text_config||yN,!n.apiKey)return{...n,error:" API    ."}}else if(n=t.gemini_image_config||vN,!n.apiKey)return{...n,error:" API    ."};let i=!1;try{window.aistudio&&window.aistudio.hasSelectedApiKey&&(i=await window.aistudio.hasSelectedApiKey())}catch(s){console.warn("Error checking AI Studio API key selection:",s)}let r=n.model;return e===sn.TEXT_CHAT?r=i?X0:fc:r=i?Q0:hc,{...n,model:r}},nm=async(e,t)=>{var s,u;if(!e.trim())return{isValid:!1,model:null,error:" API   ."};const n=ey(e);let i="",r=!1;try{window.aistudio&&window.aistudio.hasSelectedApiKey&&(r=await window.aistudio.hasSelectedApiKey())}catch(f){console.warn("Error checking AI Studio API key selection for validation:",f)}try{if(t===sn.TEXT_CHAT)i=r?X0:fc,await n.models.generateContent({model:i,contents:""});else{i=r?Q0:hc;const f={inlineData:{mimeType:"image/jpeg",data:"iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="}};await n.models.generateContent({model:i,contents:{parts:[f,{text:"test"}]}})}return{isValid:!0,model:i,error:null}}catch(f){console.error("API Key validation error:",f);let p="      .";return f.status===403?p=" API      . ( /)":f.status===429?p=`  (Quota)      .  ${((u=(s=f.details)==null?void 0:s[0])==null?void 0:u.retryDelay)||" "}   .`:f.message.includes("API_KEY_INVALID")?p=" API  .":f.message.includes("Requested entity was not found.")&&(p="      API     . (    API  )"),{isValid:!1,model:i,error:p}}};async function Wa(e,t){const n=await _N(e);if(!n.apiKey||!n.isValid)throw new Error(n.error||` API  ${e===sn.TEXT_CHAT?"":""}     .`);const i=ey(n.apiKey);return t(i,n.model)}const xN=async e=>{try{return await Wa(sn.TEXT_CHAT,async(t,n)=>{var f,p,m;const i=[...e.features||[],...e.facilities||[],e.hasElevator?"":"",e.hasParking?"":"",e.hasStorage?"":""].filter(Boolean).join(" "),r=e.transactionType==="sale"?` : ${((f=e.priceTotal)==null?void 0:f.toLocaleString())||""}`:`: ${(p=e.priceDeposit)==null?void 0:p.toLocaleString()} / : ${(m=e.priceRent)==null?void 0:m.toLocaleString()}`,s=`
                                  "" .
                
                **   **  (  ).
                    .
                
                 :
                : ${e.title}
                : ${e.address}
                : ${r}
                : ${i}
                : ${e.description}
            `;return(await t.models.generateContent({model:n,contents:s,config:{temperature:.9}})).text})}catch(t){return console.error("Divar Ad Gen Error:",t.message),alert(`    : ${t.message}`),"     ."}},wN=async(e,t)=>{try{return await Wa(sn.VIRTUAL_STAGING,async(n,i)=>{let r="",s="image/jpeg";if(e.startsWith("http")||e.startsWith("blob:"))try{const m=await(await fetch(e)).blob();s=m.type;const y=new FileReader;r=await new Promise(v=>{y.onloadend=()=>v(y.result.split(",")[1]),y.readAsDataURL(m)})}catch{throw new Error("Failed to fetch or convert image URL.")}else r=e.includes(",")?e.split(",")[1]:e;const u=`Virtual Staging. Style: ${t}. Keep architecture.`,f=await n.models.generateContent({model:i,contents:{parts:[{inlineData:{mimeType:s,data:r}},{text:u}]}});if(f.candidates&&f.candidates.length>0){for(const p of f.candidates[0].content.parts)if(p.inlineData)return`data:${p.inlineData.mimeType};base64,${p.inlineData.data}`}return null})}catch(n){return console.error("Virtual Staging Error:",n.message),alert(`   : ${n.message}`),null}},SN=async(e,t,n)=>{try{return await Wa(sn.TEXT_CHAT,async(i,r)=>{var p;const u=`  ( ) . ${`
          User: ${((p=n.currentUser)==null?void 0:p.name)||""}
           : ${n.properties.length},  : ${n.clients.length}
        `}.         .`;return(await i.models.generateContent({model:r,contents:e,config:{systemInstruction:u}})).text})}catch(i){return console.error("Alexa Chat Error:",i.message),alert(`   : ${i.message}`),"   .   API    ."}},TN=async(e,t)=>{try{return await Wa(sn.TEXT_CHAT,async(n,i)=>{const r=`          : "${e}"   "${t}".    JSON : {date: "YYYY/MM/DD", time: "HH:MM", reason: "   "}`,s=await n.models.generateContent({model:i,contents:r,config:{responseMimeType:"application/json",responseSchema:{type:Ht.OBJECT,properties:{date:{type:Ht.STRING},time:{type:Ht.STRING},reason:{type:Ht.STRING}},required:["date","time","reason"]}}});return JSON.parse(s.text)})}catch(n){return console.error("Task Suggestion Error:",n.message),alert(`    : ${n.message}`),null}},CN=({isExpandedMode:e,appContext:t,alexaEnabled:n,notifications:i,onClearNotifications:r})=>{const[s,u]=D.useState(!1),[f,p]=D.useState(!1),[m,y]=D.useState(!1),[v,_]=D.useState([]),[S,k]=D.useState(""),[I,M]=D.useState(!1),[C,T]=D.useState("logo"),[E,P]=D.useState({time:"",date:""}),[z,F]=D.useState(!1),[H,Z]=D.useState(0),W=D.useRef(null),q=D.useRef(null),$=D.useRef(!1);D.useEffect(()=>{$.current=f},[f]),D.useEffect(()=>{var b;(b=W.current)==null||b.scrollIntoView({behavior:"smooth"})},[v,s]),D.useEffect(()=>{const b=()=>{const ne=new Date;P({time:ne.toLocaleTimeString("fa-IR",{hour:"2-digit",minute:"2-digit"}),date:ne.toLocaleDateString("fa-IR",{month:"long",day:"numeric"})})};b();const K=setInterval(()=>{T(ne=>ne==="logo"?"datetime":"logo")},7e3),U=setInterval(b,6e4);return()=>{clearInterval(K),clearInterval(U)}},[]);const Q=b=>{if(!n)return;const K=b.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,"");window.speechSynthesis.cancel();const U=new SpeechSynthesisUtterance(K);U.lang="fa-IR",U.pitch=1.3,U.rate=1,window.speechSynthesis.speak(U)};D.useEffect(()=>{if(i.length>H){const b=i[0];if(localStorage.getItem("alexaSpeaksNotifications")==="true"&&n){const U=` : ${b.title}. ${b.body}`;Q(U)}Z(i.length)}else i.length<H&&Z(i.length)},[i,n,H]),D.useEffect(()=>{if(("webkitSpeechRecognition"in window||"SpeechRecognition"in window)&&n){const b=window.webkitSpeechRecognition||window.SpeechRecognition,K=new b;K.lang="fa-IR",K.continuous=!1,K.interimResults=!1,K.onstart=()=>{y(!0)},K.onend=()=>{y(!1),$.current&&setTimeout(()=>{try{K.start()}catch(U){console.log("Restart ignore",U)}},300)},K.onerror=U=>{console.error("Speech Error",U.error),y(!1),U.error==="not-allowed"&&(p(!1),alert("   ."))},K.onresult=U=>{const ne=U.results[0][0].transcript;Ne(ne)},q.current=K}},[n]);const ve=()=>{if(!n){alert("       .");return}if(!q.current){alert("      .");return}if(f)p(!1),q.current.stop(),window.speechSynthesis.cancel();else{p(!0);try{q.current.start()}catch(b){console.error(b)}}},Ne=b=>{const K=b.toLowerCase();["","alexa","",""].some(re=>K.includes(re))?(k(b),Fe(b,!0)):console.log("Ignored (No wake word):",b)},Fe=async(b,K=!1)=>{if(!b.trim())return;const U=[...v,{text:b,isUser:!0}];_(U),k(""),M(!0);const ne=await SN(b,v.map(re=>re.text),t);_([...U,{text:ne||"",isUser:!1}]),ne&&(K||f)&&Q(ne),M(!1)};D.useEffect(()=>{v.length===0&&n&&_([{text:"!   .           !",isUser:!1}])},[n]);const ge=()=>{u(!s),F(!1)},Ie=s?"w-[92%] h-[500px] rounded-[40px]":e?"w-[180px] h-[36px] rounded-full cursor-pointer hover:w-[190px]":"w-[100px] h-[28px] rounded-full cursor-pointer";return h.jsxs("div",{className:`fixed top-2 left-1/2 transform -translate-x-1/2 bg-black transition-all duration-500 ease-[cubic-bezier(0.68,-0.55,0.27,1.55)] z-[60] overflow-hidden shadow-[0_0_20px_rgba(147,51,234,0.35)] border border-white/10 flex flex-col ${Ie}`,onClick:()=>!s&&ge(),children:[!s&&h.jsxs("div",{className:"w-full h-full flex items-center justify-center gap-2 px-3 select-none relative",children:[i.length>0&&e&&h.jsxs("div",{className:"absolute left-3 flex items-center justify-center text-yellow-400 animate-pulse",children:[h.jsx(Ur,{size:14,fill:"currentColor"}),h.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full border border-black"})]}),h.jsx("div",{className:"animate-fade-in w-full flex justify-center",children:C==="logo"?h.jsxs("div",{className:"flex items-center justify-center tracking-[0.15em] font-sans",dir:"ltr",children:[h.jsx("span",{className:"text-[10px] font-extrabold text-gray-300",children:"TEHRA"}),h.jsx("span",{className:"text-[10px] font-extrabold text-green-500",children:"NAK"})]}):h.jsxs("div",{className:"flex items-center justify-center gap-2 dir-rtl",children:[h.jsx("span",{className:"text-[10px] font-extrabold text-gray-200 font-['Vazirmatn']",children:E.time}),e&&h.jsx("span",{className:"w-1 h-1 bg-gray-600 rounded-full"}),e&&h.jsx("span",{className:"text-[9px] font-bold text-gray-400 font-['Vazirmatn']",children:E.date})]})},C),!e&&h.jsx("div",{className:`w-1.5 h-1.5 rounded-full absolute right-3 ${m?"bg-red-500 animate-pulse":"bg-green-500"}`})]}),s&&h.jsxs("div",{className:"flex flex-col h-full w-full p-4",onClick:b=>b.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-white/10 pb-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"relative w-10 h-10 rounded-full bg-gradient-to-tr from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center overflow-hidden",children:m?h.jsxs("div",{className:"flex gap-0.5 items-center h-4",children:[h.jsx("div",{className:"w-1 h-full bg-white animate-[bounce_0.5s_infinite]"}),h.jsx("div",{className:"w-1 h-2/3 bg-white animate-[bounce_0.5s_infinite_0.1s]"}),h.jsx("div",{className:"w-1 h-full bg-white animate-[bounce_0.5s_infinite_0.2s]"})]}):h.jsx("span",{className:"font-bold text-white text-xs",children:"A"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-white text-sm",children:" ( )"}),h.jsxs("span",{className:`text-[10px] flex items-center gap-1 ${f?"text-red-400":"text-gray-500"}`,children:[h.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${f?"bg-red-500 animate-pulse":"bg-gray-500"}`}),f?"...":"  "]})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>F(!z),className:"p-2 bg-white/5 rounded-full hover:bg-white/10 relative",children:[h.jsx(Ur,{size:16,className:"text-gray-300"}),i.length>0&&h.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),h.jsx("button",{onClick:()=>u(!1),className:"p-2 bg-white/5 rounded-full hover:bg-white/10",children:h.jsx(At,{size:16,className:"text-gray-400"})})]})]}),z&&h.jsxs("div",{className:"absolute top-16 left-4 right-4 bg-[#1c1c1e] rounded-2xl z-20 p-3 border border-white/10 shadow-xl animate-slide-up max-h-64 overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("h4",{className:"text-white text-xs font-bold",children:" "}),i.length>0&&h.jsx("button",{onClick:r,className:"text-[10px] text-red-400 hover:text-red-300",children:" "})]}),i.length===0?h.jsx("p",{className:"text-gray-500 text-xs text-center py-4",children:"  "}):i.map(b=>h.jsxs("div",{className:"bg-white/5 p-2 rounded-xl mb-2 border-r-2 border-yellow-500",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-white text-xs font-bold",children:b.title}),h.jsx("span",{className:"text-gray-500 text-[10px]",children:b.time})]}),h.jsx("p",{className:"text-gray-400 text-[10px] mt-1",children:b.body})]},b.id))]}),h.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 mb-4 pr-1 pl-1 custom-scrollbar",children:[v.map((b,K)=>h.jsx("div",{className:`flex ${b.isUser?"justify-start":"justify-end"}`,children:h.jsx("div",{className:`max-w-[80%] p-3 rounded-2xl text-sm leading-relaxed ${b.isUser?"bg-[#333333] text-white rounded-br-none":"bg-gradient-to-br from-purple-600 to-blue-600 text-white rounded-bl-none shadow-lg shadow-purple-500/20"}`,children:b.text})},K)),I&&h.jsx("div",{className:"flex justify-end",children:h.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-blue-600 p-3 rounded-2xl rounded-bl-none flex gap-1 items-center",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-bounce"}),h.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-bounce delay-75"}),h.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-bounce delay-150"})]})}),h.jsx("div",{ref:W})]}),h.jsxs("div",{className:"flex items-center gap-2 mt-auto relative",children:[!n&&h.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-[1px] z-10 flex items-center justify-center rounded-full",children:h.jsx("span",{className:"text-[10px] text-gray-300",children:"   ()"})}),h.jsx("button",{onClick:ve,className:`p-3 rounded-full transition-all duration-500 ${f?"bg-red-500 animate-pulse shadow-[0_0_15px_red]":"bg-white/10 hover:bg-white/20"}`,children:f?h.jsx(Cw,{size:20,className:"text-white"}):h.jsx(Yd,{size:20,className:"text-white"})}),h.jsx("div",{className:"flex-1 relative",children:h.jsx("input",{type:"text",value:S,onChange:b=>k(b.target.value),onKeyDown:b=>b.key==="Enter"&&Fe(S),placeholder:f?"... ( )":" ...",disabled:!n,className:"w-full bg-[#1c1c1e] border border-white/10 text-white text-right rounded-full py-2.5 px-4 text-sm focus:outline-none focus:border-purple-500 disabled:opacity-50"})}),h.jsx("button",{onClick:()=>Fe(S),disabled:!n,className:"p-2.5 bg-blue-500 rounded-full hover:bg-blue-600 text-white disabled:opacity-50 disabled:bg-gray-600",children:h.jsx(ww,{size:18})})]})]}),h.jsx("style",{children:`
        /* Hide scrollbar for chat */
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 4px; }
      `})]})};var im={toJalaali:EN,toGregorian:ty,isValidJalaaliDate:kN,isLeapJalaaliYear:ny,jalaaliMonthLength:iy,jalCal:pc,j2d:Ca,d2j:Ea,g2d:Ja,d2g:mc,jalaaliToDateObject:oy,jalaaliWeek:IN},Qn=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function EN(e,t,n){return Object.prototype.toString.call(e)==="[object Date]"&&(n=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),Ea(Ja(e,t,n))}function ty(e,t,n){return mc(Ca(e,t,n))}function kN(e,t,n){return e>=-61&&e<=3177&&t>=1&&t<=12&&n>=1&&n<=iy(e,t)}function ny(e){return NN(e)===0}function iy(e,t){return t<=6?31:t<=11||ny(e)?30:29}function NN(e){var t=Qn.length,n=Qn[0],i,r,s,u,f;if(e<n||e>=Qn[t-1])throw new Error("Invalid Jalaali year "+e);for(f=1;f<t&&(i=Qn[f],r=i-n,!(e<i));f+=1)n=i;return u=e-n,r-u<6&&(u=u-r+Le(r+4,33)*33),s=Nt(Nt(u+1,33)-1,4),s===-1&&(s=4),s}function pc(e,t){var n=Qn.length,i=e+621,r=-14,s=Qn[0],u,f,p,m,y,v,_;if(e<s||e>=Qn[n-1])throw new Error("Invalid Jalaali year "+e);for(_=1;_<n&&(u=Qn[_],f=u-s,!(e<u));_+=1)r=r+Le(f,33)*8+Le(Nt(f,33),4),s=u;return v=e-s,r=r+Le(v,33)*8+Le(Nt(v,33)+3,4),Nt(f,33)===4&&f-v===4&&(r+=1),m=Le(i,4)-Le((Le(i,100)+1)*3,4)-150,y=20+r-m,t?{gy:i,march:y}:(f-v<6&&(v=v-f+Le(f+4,33)*33),p=Nt(Nt(v+1,33)-1,4),p===-1&&(p=4),{leap:p,gy:i,march:y})}function Ca(e,t,n){var i=pc(e,!0);return Ja(i.gy,3,i.march)+(t-1)*31-Le(t,7)*(t-7)+n-1}function Ea(e){var t=mc(e).gy,n=t-621,i=pc(n,!1),r=Ja(t,3,i.march),s,u,f;if(f=e-r,f>=0){if(f<=185)return u=1+Le(f,31),s=Nt(f,31)+1,{jy:n,jm:u,jd:s};f-=186}else n-=1,f+=179,i.leap===1&&(f+=1);return u=7+Le(f,30),s=Nt(f,30)+1,{jy:n,jm:u,jd:s}}function Ja(e,t,n){var i=Le((e+Le(t-8,6)+100100)*1461,4)+Le(153*Nt(t+9,12)+2,5)+n-34840408;return i=i-Le(Le(e+100100+Le(t-8,6),100)*3,4)+752,i}function mc(e){var t,n,i,r,s;return t=4*e+139361631,t=t+Le(Le(4*e+183187720,146097)*3,4)*4-3908,n=Le(Nt(t,1461),4)*5+308,i=Le(Nt(n,153),5)+1,r=Nt(Le(n,153),12)+1,s=Le(t,1461)-100100+Le(8-r,6),{gy:s,gm:r,gd:i}}function IN(e,t,n){var i=oy(e,t,n).getDay(),r=i==6?0:-(i+1),s=6+r;return{saturday:Ea(Ca(e,t,n+r)),friday:Ea(Ca(e,t,n+s))}}function oy(e,t,n,i,r,s,u){var f=ty(e,t,n);return new Date(f.gy,f.gm-1,f.gd,i||0,r||0,s||0,u||0)}function Le(e,t){return~~(e/t)}function Nt(e,t){return e-~~(e/t)*t}var ed={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(kv,function(n){var i="1.9.4";function r(o){var a,c,g,x;for(c=1,g=arguments.length;c<g;c++){x=arguments[c];for(a in x)o[a]=x[a]}return o}var s=Object.create||function(){function o(){}return function(a){return o.prototype=a,new o}}();function u(o,a){var c=Array.prototype.slice;if(o.bind)return o.bind.apply(o,c.call(arguments,1));var g=c.call(arguments,2);return function(){return o.apply(a,g.length?g.concat(c.call(arguments)):arguments)}}var f=0;function p(o){return"_leaflet_id"in o||(o._leaflet_id=++f),o._leaflet_id}function m(o,a,c){var g,x,w,N;return N=function(){g=!1,x&&(w.apply(c,x),x=!1)},w=function(){g?x=arguments:(o.apply(c,arguments),setTimeout(N,a),g=!0)},w}function y(o,a,c){var g=a[1],x=a[0],w=g-x;return o===g&&c?o:((o-x)%w+w)%w+x}function v(){return!1}function _(o,a){if(a===!1)return o;var c=Math.pow(10,a===void 0?6:a);return Math.round(o*c)/c}function S(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function k(o){return S(o).split(/\s+/)}function I(o,a){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var c in a)o.options[c]=a[c];return o.options}function M(o,a,c){var g=[];for(var x in o)g.push(encodeURIComponent(c?x.toUpperCase():x)+"="+encodeURIComponent(o[x]));return(!a||a.indexOf("?")===-1?"?":"&")+g.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function T(o,a){return o.replace(C,function(c,g){var x=a[g];if(x===void 0)throw new Error("No value provided for variable "+c);return typeof x=="function"&&(x=x(a)),x})}var E=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function P(o,a){for(var c=0;c<o.length;c++)if(o[c]===a)return c;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function F(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var H=0;function Z(o){var a=+new Date,c=Math.max(0,16-(a-H));return H=a+c,window.setTimeout(o,c)}var W=window.requestAnimationFrame||F("RequestAnimationFrame")||Z,q=window.cancelAnimationFrame||F("CancelAnimationFrame")||F("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function $(o,a,c){if(c&&W===Z)o.call(a);else return W.call(window,u(o,a))}function Q(o){o&&q.call(window,o)}var ve={__proto__:null,extend:r,create:s,bind:u,get lastId(){return f},stamp:p,throttle:m,wrapNum:y,falseFn:v,formatNum:_,trim:S,splitWords:k,setOptions:I,getParamString:M,template:T,isArray:E,indexOf:P,emptyImageUrl:z,requestFn:W,cancelFn:q,requestAnimFrame:$,cancelAnimFrame:Q};function Ne(){}Ne.extend=function(o){var a=function(){I(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,g=s(c);g.constructor=a,a.prototype=g;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(a[x]=this[x]);return o.statics&&r(a,o.statics),o.includes&&(Fe(o.includes),r.apply(null,[g].concat(o.includes))),r(g,o),delete g.statics,delete g.includes,g.options&&(g.options=c.options?s(c.options):{},r(g.options,o.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,N=g._initHooks.length;w<N;w++)g._initHooks[w].call(this)}},a},Ne.include=function(o){var a=this.prototype.options;return r(this.prototype,o),o.options&&(this.prototype.options=a,this.mergeOptions(o.options)),this},Ne.mergeOptions=function(o){return r(this.prototype.options,o),this},Ne.addInitHook=function(o){var a=Array.prototype.slice.call(arguments,1),c=typeof o=="function"?o:function(){this[o].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Fe(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=E(o)?o:[o];for(var a=0;a<o.length;a++)o[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ge={on:function(o,a,c){if(typeof o=="object")for(var g in o)this._on(g,o[g],a);else{o=k(o);for(var x=0,w=o.length;x<w;x++)this._on(o[x],a,c)}return this},off:function(o,a,c){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var g in o)this._off(g,o[g],a);else{o=k(o);for(var x=arguments.length===1,w=0,N=o.length;w<N;w++)x?this._off(o[w]):this._off(o[w],a,c)}return this},_on:function(o,a,c,g){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(o,a,c)===!1){c===this&&(c=void 0);var x={fn:a,ctx:c};g&&(x.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(x)}},_off:function(o,a,c){var g,x,w;if(this._events&&(g=this._events[o],!!g)){if(arguments.length===1){if(this._firingCount)for(x=0,w=g.length;x<w;x++)g[x].fn=v;delete this._events[o];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var N=this._listens(o,a,c);if(N!==!1){var A=g[N];this._firingCount&&(A.fn=v,this._events[o]=g=g.slice()),g.splice(N,1)}}},fire:function(o,a,c){if(!this.listens(o,c))return this;var g=r({},a,{type:o,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var x=this._events[o];if(x){this._firingCount=this._firingCount+1||1;for(var w=0,N=x.length;w<N;w++){var A=x[w],R=A.fn;A.once&&this.off(o,R,A.ctx),R.call(A.ctx||this,g)}this._firingCount--}}return c&&this._propagateEvent(g),this},listens:function(o,a,c,g){typeof o!="string"&&console.warn('"string" type argument expected');var x=a;typeof a!="function"&&(g=!!a,x=void 0,c=void 0);var w=this._events&&this._events[o];if(w&&w.length&&this._listens(o,x,c)!==!1)return!0;if(g){for(var N in this._eventParents)if(this._eventParents[N].listens(o,a,c,g))return!0}return!1},_listens:function(o,a,c){if(!this._events)return!1;var g=this._events[o]||[];if(!a)return!!g.length;c===this&&(c=void 0);for(var x=0,w=g.length;x<w;x++)if(g[x].fn===a&&g[x].ctx===c)return x;return!1},once:function(o,a,c){if(typeof o=="object")for(var g in o)this._on(g,o[g],a,!0);else{o=k(o);for(var x=0,w=o.length;x<w;x++)this._on(o[x],a,c,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[p(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[p(o)],this},_propagateEvent:function(o){for(var a in this._eventParents)this._eventParents[a].fire(o.type,r({layer:o.target,propagatedFrom:o.target},o),!0)}};ge.addEventListener=ge.on,ge.removeEventListener=ge.clearAllEventListeners=ge.off,ge.addOneTimeEventListener=ge.once,ge.fireEvent=ge.fire,ge.hasEventListeners=ge.listens;var Ie=Ne.extend(ge);function b(o,a,c){this.x=c?Math.round(o):o,this.y=c?Math.round(a):a}var K=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};b.prototype={clone:function(){return new b(this.x,this.y)},add:function(o){return this.clone()._add(U(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(U(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new b(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new b(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=K(this.x),this.y=K(this.y),this},distanceTo:function(o){o=U(o);var a=o.x-this.x,c=o.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(o){return o=U(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=U(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function U(o,a,c){return o instanceof b?o:E(o)?new b(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new b(o.x,o.y):new b(o,a,c)}function ne(o,a){if(o)for(var c=a?[o,a]:o,g=0,x=c.length;g<x;g++)this.extend(c[g])}ne.prototype={extend:function(o){var a,c;if(!o)return this;if(o instanceof b||typeof o[0]=="number"||"x"in o)a=c=U(o);else if(o=re(o),a=o.min,c=o.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(o){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var a,c;return typeof o[0]=="number"||o instanceof b?o=U(o):o=re(o),o instanceof ne?(a=o.min,c=o.max):a=c=o,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(o){o=re(o);var a=this.min,c=this.max,g=o.min,x=o.max,w=x.x>=a.x&&g.x<=c.x,N=x.y>=a.y&&g.y<=c.y;return w&&N},overlaps:function(o){o=re(o);var a=this.min,c=this.max,g=o.min,x=o.max,w=x.x>a.x&&g.x<c.x,N=x.y>a.y&&g.y<c.y;return w&&N},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var a=this.min,c=this.max,g=Math.abs(a.x-c.x)*o,x=Math.abs(a.y-c.y)*o;return re(U(a.x-g,a.y-x),U(c.x+g,c.y+x))},equals:function(o){return o?(o=re(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function re(o,a){return!o||o instanceof ne?o:new ne(o,a)}function Ce(o,a){if(o)for(var c=a?[o,a]:o,g=0,x=c.length;g<x;g++)this.extend(c[g])}Ce.prototype={extend:function(o){var a=this._southWest,c=this._northEast,g,x;if(o instanceof ue)g=o,x=o;else if(o instanceof Ce){if(g=o._southWest,x=o._northEast,!g||!x)return this}else return o?this.extend(V(o)||he(o)):this;return!a&&!c?(this._southWest=new ue(g.lat,g.lng),this._northEast=new ue(x.lat,x.lng)):(a.lat=Math.min(g.lat,a.lat),a.lng=Math.min(g.lng,a.lng),c.lat=Math.max(x.lat,c.lat),c.lng=Math.max(x.lng,c.lng)),this},pad:function(o){var a=this._southWest,c=this._northEast,g=Math.abs(a.lat-c.lat)*o,x=Math.abs(a.lng-c.lng)*o;return new Ce(new ue(a.lat-g,a.lng-x),new ue(c.lat+g,c.lng+x))},getCenter:function(){return new ue((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ue(this.getNorth(),this.getWest())},getSouthEast:function(){return new ue(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof ue||"lat"in o?o=V(o):o=he(o);var a=this._southWest,c=this._northEast,g,x;return o instanceof Ce?(g=o.getSouthWest(),x=o.getNorthEast()):g=x=o,g.lat>=a.lat&&x.lat<=c.lat&&g.lng>=a.lng&&x.lng<=c.lng},intersects:function(o){o=he(o);var a=this._southWest,c=this._northEast,g=o.getSouthWest(),x=o.getNorthEast(),w=x.lat>=a.lat&&g.lat<=c.lat,N=x.lng>=a.lng&&g.lng<=c.lng;return w&&N},overlaps:function(o){o=he(o);var a=this._southWest,c=this._northEast,g=o.getSouthWest(),x=o.getNorthEast(),w=x.lat>a.lat&&g.lat<c.lat,N=x.lng>a.lng&&g.lng<c.lng;return w&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,a){return o?(o=he(o),this._southWest.equals(o.getSouthWest(),a)&&this._northEast.equals(o.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(o,a){return o instanceof Ce?o:new Ce(o,a)}function ue(o,a,c){if(isNaN(o)||isNaN(a))throw new Error("Invalid LatLng object: ("+o+", "+a+")");this.lat=+o,this.lng=+a,c!==void 0&&(this.alt=+c)}ue.prototype={equals:function(o,a){if(!o)return!1;o=V(o);var c=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return c<=(a===void 0?1e-9:a)},toString:function(o){return"LatLng("+_(this.lat,o)+", "+_(this.lng,o)+")"},distanceTo:function(o){return xe.distance(this,V(o))},wrap:function(){return xe.wrapLatLng(this)},toBounds:function(o){var a=180*o/40075017,c=a/Math.cos(Math.PI/180*this.lat);return he([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new ue(this.lat,this.lng,this.alt)}};function V(o,a,c){return o instanceof ue?o:E(o)&&typeof o[0]!="object"?o.length===3?new ue(o[0],o[1],o[2]):o.length===2?new ue(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new ue(o.lat,"lng"in o?o.lng:o.lon,o.alt):a===void 0?null:new ue(o,a,c)}var fe={latLngToPoint:function(o,a){var c=this.projection.project(o),g=this.scale(a);return this.transformation._transform(c,g)},pointToLatLng:function(o,a){var c=this.scale(a),g=this.transformation.untransform(o,c);return this.projection.unproject(g)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(o),g=this.transformation.transform(a.min,c),x=this.transformation.transform(a.max,c);return new ne(g,x)},infinite:!1,wrapLatLng:function(o){var a=this.wrapLng?y(o.lng,this.wrapLng,!0):o.lng,c=this.wrapLat?y(o.lat,this.wrapLat,!0):o.lat,g=o.alt;return new ue(c,a,g)},wrapLatLngBounds:function(o){var a=o.getCenter(),c=this.wrapLatLng(a),g=a.lat-c.lat,x=a.lng-c.lng;if(g===0&&x===0)return o;var w=o.getSouthWest(),N=o.getNorthEast(),A=new ue(w.lat-g,w.lng-x),R=new ue(N.lat-g,N.lng-x);return new Ce(A,R)}},xe=r({},fe,{wrapLng:[-180,180],R:6371e3,distance:function(o,a){var c=Math.PI/180,g=o.lat*c,x=a.lat*c,w=Math.sin((a.lat-o.lat)*c/2),N=Math.sin((a.lng-o.lng)*c/2),A=w*w+Math.cos(g)*Math.cos(x)*N*N,R=2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A));return this.R*R}}),Ze=6378137,Et={R:Ze,MAX_LATITUDE:85.0511287798,project:function(o){var a=Math.PI/180,c=this.MAX_LATITUDE,g=Math.max(Math.min(c,o.lat),-c),x=Math.sin(g*a);return new b(this.R*o.lng*a,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(o){var a=180/Math.PI;return new ue((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*a,o.x*a/this.R)},bounds:function(){var o=Ze*Math.PI;return new ne([-o,-o],[o,o])}()};function Zt(o,a,c,g){if(E(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=a,this._c=c,this._d=g}Zt.prototype={transform:function(o,a){return this._transform(o.clone(),a)},_transform:function(o,a){return a=a||1,o.x=a*(this._a*o.x+this._b),o.y=a*(this._c*o.y+this._d),o},untransform:function(o,a){return a=a||1,new b((o.x/a-this._b)/this._a,(o.y/a-this._d)/this._c)}};function Ue(o,a,c,g){return new Zt(o,a,c,g)}var Wt=r({},xe,{code:"EPSG:3857",projection:Et,transformation:function(){var o=.5/(Math.PI*Et.R);return Ue(o,.5,-o,.5)}()}),Oi=r({},Wt,{code:"EPSG:900913"});function ln(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function qi(o,a){var c="",g,x,w,N,A,R;for(g=0,w=o.length;g<w;g++){for(A=o[g],x=0,N=A.length;x<N;x++)R=A[x],c+=(x?"L":"M")+R.x+" "+R.y;c+=a?oe.svg?"z":"x":""}return c||"M0 0"}var Vn=document.documentElement.style,Bn="ActiveXObject"in window,ji=Bn&&!document.addEventListener,yi="msLaunchUri"in navigator&&!("documentMode"in document),Hn=un("webkit"),Jt=un("android"),vi=un("android 2")||un("android 3"),Zi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),J=Jt&&un("Google")&&Zi<537&&!("AudioNode"in window),O=!!window.opera,Pe=!yi&&un("chrome"),et=un("gecko")&&!Hn&&!O&&!Bn,_i=!Pe&&un("safari"),Gn=un("phantom"),$t="OTransition"in Vn,B=navigator.platform.indexOf("Win")===0,X=Bn&&"transition"in Vn,ae="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!vi,Ee="MozPerspective"in Vn,ke=!window.L_DISABLE_3D&&(X||ae||Ee)&&!$t&&!Gn,ht=typeof orientation<"u"||un("mobile"),xi=ht&&Hn,dy=ht&&ae,gc=!window.PointerEvent&&window.MSPointerEvent,yc=!!(window.PointerEvent||gc),vc="ontouchstart"in window||!!window.TouchEvent,cy=!window.L_NO_TOUCH&&(vc||yc),fy=ht&&O,hy=ht&&et,py=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,my=function(){var o=!1;try{var a=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",v,a),window.removeEventListener("testPassiveEventSupport",v,a)}catch{}return o}(),gy=function(){return!!document.createElement("canvas").getContext}(),$a=!!(document.createElementNS&&ln("svg").createSVGRect),yy=!!$a&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),vy=!$a&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var a=o.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),_y=navigator.platform.indexOf("Mac")===0,xy=navigator.platform.indexOf("Linux")===0;function un(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var oe={ie:Bn,ielt9:ji,edge:yi,webkit:Hn,android:Jt,android23:vi,androidStock:J,opera:O,chrome:Pe,gecko:et,safari:_i,phantom:Gn,opera12:$t,win:B,ie3d:X,webkit3d:ae,gecko3d:Ee,any3d:ke,mobile:ht,mobileWebkit:xi,mobileWebkit3d:dy,msPointer:gc,pointer:yc,touch:cy,touchNative:vc,mobileOpera:fy,mobileGecko:hy,retina:py,passiveEvents:my,canvas:gy,svg:$a,vml:vy,inlineSvg:yy,mac:_y,linux:xy},_c=oe.msPointer?"MSPointerDown":"pointerdown",xc=oe.msPointer?"MSPointerMove":"pointermove",wc=oe.msPointer?"MSPointerUp":"pointerup",Sc=oe.msPointer?"MSPointerCancel":"pointercancel",Ka={touchstart:_c,touchmove:xc,touchend:wc,touchcancel:Sc},Tc={touchstart:ky,touchmove:Jr,touchend:Jr,touchcancel:Jr},Wi={},Cc=!1;function wy(o,a,c){return a==="touchstart"&&Ey(),Tc[a]?(c=Tc[a].bind(this,c),o.addEventListener(Ka[a],c,!1),c):(console.warn("wrong event specified:",a),v)}function Sy(o,a,c){if(!Ka[a]){console.warn("wrong event specified:",a);return}o.removeEventListener(Ka[a],c,!1)}function Ty(o){Wi[o.pointerId]=o}function Cy(o){Wi[o.pointerId]&&(Wi[o.pointerId]=o)}function Ec(o){delete Wi[o.pointerId]}function Ey(){Cc||(document.addEventListener(_c,Ty,!0),document.addEventListener(xc,Cy,!0),document.addEventListener(wc,Ec,!0),document.addEventListener(Sc,Ec,!0),Cc=!0)}function Jr(o,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in Wi)a.touches.push(Wi[c]);a.changedTouches=[a],o(a)}}function ky(o,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&ot(a),Jr(o,a)}function Ny(o){var a={},c,g;for(g in o)c=o[g],a[g]=c&&c.bind?c.bind(o):c;return o=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var Iy=200;function Py(o,a){o.addEventListener("dblclick",a);var c=0,g;function x(w){if(w.detail!==1){g=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var N=Ac(w);if(!(N.some(function(R){return R instanceof HTMLLabelElement&&R.attributes.for})&&!N.some(function(R){return R instanceof HTMLInputElement||R instanceof HTMLSelectElement}))){var A=Date.now();A-c<=Iy?(g++,g===2&&a(Ny(w))):g=1,c=A}}}return o.addEventListener("click",x),{dblclick:a,simDblclick:x}}function Ay(o,a){o.removeEventListener("dblclick",a.dblclick),o.removeEventListener("click",a.simDblclick)}var Ya=Yr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Bo=Yr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),kc=Bo==="webkitTransition"||Bo==="OTransition"?Bo+"End":"transitionend";function Nc(o){return typeof o=="string"?document.getElementById(o):o}function Ho(o,a){var c=o.style[a]||o.currentStyle&&o.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(o,null);c=g?g[a]:null}return c==="auto"?null:c}function we(o,a,c){var g=document.createElement(o);return g.className=a||"",c&&c.appendChild(g),g}function Ve(o){var a=o.parentNode;a&&a.removeChild(o)}function $r(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Ji(o){var a=o.parentNode;a&&a.lastChild!==o&&a.appendChild(o)}function $i(o){var a=o.parentNode;a&&a.firstChild!==o&&a.insertBefore(o,a.firstChild)}function Xa(o,a){if(o.classList!==void 0)return o.classList.contains(a);var c=Kr(o);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function de(o,a){if(o.classList!==void 0)for(var c=k(a),g=0,x=c.length;g<x;g++)o.classList.add(c[g]);else if(!Xa(o,a)){var w=Kr(o);Qa(o,(w?w+" ":"")+a)}}function qe(o,a){o.classList!==void 0?o.classList.remove(a):Qa(o,S((" "+Kr(o)+" ").replace(" "+a+" "," ")))}function Qa(o,a){o.className.baseVal===void 0?o.className=a:o.className.baseVal=a}function Kr(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Lt(o,a){"opacity"in o.style?o.style.opacity=a:"filter"in o.style&&by(o,a)}function by(o,a){var c=!1,g="DXImageTransform.Microsoft.Alpha";try{c=o.filters.item(g)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):o.style.filter+=" progid:"+g+"(opacity="+a+")"}function Yr(o){for(var a=document.documentElement.style,c=0;c<o.length;c++)if(o[c]in a)return o[c];return!1}function wi(o,a,c){var g=a||new b(0,0);o.style[Ya]=(oe.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(c?" scale("+c+")":"")}function We(o,a){o._leaflet_pos=a,oe.any3d?wi(o,a):(o.style.left=a.x+"px",o.style.top=a.y+"px")}function Si(o){return o._leaflet_pos||new b(0,0)}var Go,Oo,el;if("onselectstart"in document)Go=function(){le(window,"selectstart",ot)},Oo=function(){Ae(window,"selectstart",ot)};else{var qo=Yr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Go=function(){if(qo){var o=document.documentElement.style;el=o[qo],o[qo]="none"}},Oo=function(){qo&&(document.documentElement.style[qo]=el,el=void 0)}}function tl(){le(window,"dragstart",ot)}function nl(){Ae(window,"dragstart",ot)}var Xr,il;function ol(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Qr(),Xr=o,il=o.style.outlineStyle,o.style.outlineStyle="none",le(window,"keydown",Qr))}function Qr(){Xr&&(Xr.style.outlineStyle=il,Xr=void 0,il=void 0,Ae(window,"keydown",Qr))}function Ic(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function rl(o){var a=o.getBoundingClientRect();return{x:a.width/o.offsetWidth||1,y:a.height/o.offsetHeight||1,boundingClientRect:a}}var My={__proto__:null,TRANSFORM:Ya,TRANSITION:Bo,TRANSITION_END:kc,get:Nc,getStyle:Ho,create:we,remove:Ve,empty:$r,toFront:Ji,toBack:$i,hasClass:Xa,addClass:de,removeClass:qe,setClass:Qa,getClass:Kr,setOpacity:Lt,testProp:Yr,setTransform:wi,setPosition:We,getPosition:Si,get disableTextSelection(){return Go},get enableTextSelection(){return Oo},disableImageDrag:tl,enableImageDrag:nl,preventOutline:ol,restoreOutline:Qr,getSizedParentNode:Ic,getScale:rl};function le(o,a,c,g){if(a&&typeof a=="object")for(var x in a)al(o,x,a[x],c);else{a=k(a);for(var w=0,N=a.length;w<N;w++)al(o,a[w],c,g)}return this}var dn="_leaflet_events";function Ae(o,a,c,g){if(arguments.length===1)Pc(o),delete o[dn];else if(a&&typeof a=="object")for(var x in a)ll(o,x,a[x],c);else if(a=k(a),arguments.length===2)Pc(o,function(A){return P(a,A)!==-1});else for(var w=0,N=a.length;w<N;w++)ll(o,a[w],c,g);return this}function Pc(o,a){for(var c in o[dn]){var g=c.split(/\d/)[0];(!a||a(g))&&ll(o,g,null,null,c)}}var sl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function al(o,a,c,g){var x=a+p(c)+(g?"_"+p(g):"");if(o[dn]&&o[dn][x])return this;var w=function(A){return c.call(g||o,A||window.event)},N=w;!oe.touchNative&&oe.pointer&&a.indexOf("touch")===0?w=wy(o,a,w):oe.touch&&a==="dblclick"?w=Py(o,w):"addEventListener"in o?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?o.addEventListener(sl[a]||a,w,oe.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(w=function(A){A=A||window.event,dl(o,A)&&N(A)},o.addEventListener(sl[a],w,!1)):o.addEventListener(a,N,!1):o.attachEvent("on"+a,w),o[dn]=o[dn]||{},o[dn][x]=w}function ll(o,a,c,g,x){x=x||a+p(c)+(g?"_"+p(g):"");var w=o[dn]&&o[dn][x];if(!w)return this;!oe.touchNative&&oe.pointer&&a.indexOf("touch")===0?Sy(o,a,w):oe.touch&&a==="dblclick"?Ay(o,w):"removeEventListener"in o?o.removeEventListener(sl[a]||a,w,!1):o.detachEvent("on"+a,w),o[dn][x]=null}function Ti(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function ul(o){return al(o,"wheel",Ti),this}function jo(o){return le(o,"mousedown touchstart dblclick contextmenu",Ti),o._leaflet_disable_click=!0,this}function ot(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Ci(o){return ot(o),Ti(o),this}function Ac(o){if(o.composedPath)return o.composedPath();for(var a=[],c=o.target;c;)a.push(c),c=c.parentNode;return a}function bc(o,a){if(!a)return new b(o.clientX,o.clientY);var c=rl(a),g=c.boundingClientRect;return new b((o.clientX-g.left)/c.x-a.clientLeft,(o.clientY-g.top)/c.y-a.clientTop)}var Ry=oe.linux&&oe.chrome?window.devicePixelRatio:oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Mc(o){return oe.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Ry:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function dl(o,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==o;)c=c.parentNode}catch{return!1}return c!==o}var Ly={__proto__:null,on:le,off:Ae,stopPropagation:Ti,disableScrollPropagation:ul,disableClickPropagation:jo,preventDefault:ot,stop:Ci,getPropagationPath:Ac,getMousePosition:bc,getWheelDelta:Mc,isExternalTarget:dl,addListener:le,removeListener:Ae},Rc=Ie.extend({run:function(o,a,c,g){this.stop(),this._el=o,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=Si(o),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(o){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),o):(this._runFrame(1),this._complete())},_runFrame:function(o,a){var c=this._startPos.add(this._offset.multiplyBy(o));a&&c._round(),We(this._el,c),this.fire("step")},_complete:function(){Q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),ye=Ie.extend({options:{crs:Wt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,a){a=I(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(V(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Bo&&oe.any3d&&!oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),le(this._proxy,kc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),o=this._limitCenter(V(o),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=r({animate:c.animate},c.zoom),c.pan=r({animate:c.animate,duration:c.duration},c.pan));var g=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,a,c.zoom):this._tryAnimatedPan(o,c.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(o,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(o,a){return this._loaded?this.setView(this.getCenter(),o,{zoom:a}):(this._zoom=o,this)},zoomIn:function(o,a){return o=o||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,a)},zoomOut:function(o,a){return o=o||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,a)},setZoomAround:function(o,a,c){var g=this.getZoomScale(a),x=this.getSize().divideBy(2),w=o instanceof b?o:this.latLngToContainerPoint(o),N=w.subtract(x).multiplyBy(1-1/g),A=this.containerPointToLatLng(x.add(N));return this.setView(A,a,{zoom:c})},_getBoundsCenterZoom:function(o,a){a=a||{},o=o.getBounds?o.getBounds():he(o);var c=U(a.paddingTopLeft||a.padding||[0,0]),g=U(a.paddingBottomRight||a.padding||[0,0]),x=this.getBoundsZoom(o,!1,c.add(g));if(x=typeof a.maxZoom=="number"?Math.min(a.maxZoom,x):x,x===1/0)return{center:o.getCenter(),zoom:x};var w=g.subtract(c).divideBy(2),N=this.project(o.getSouthWest(),x),A=this.project(o.getNorthEast(),x),R=this.unproject(N.add(A).divideBy(2).add(w),x);return{center:R,zoom:x}},fitBounds:function(o,a){if(o=he(o),!o.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(o,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,a){return this.setView(o,this._zoom,{pan:a})},panBy:function(o,a){if(o=U(o).round(),a=a||{},!o.x&&!o.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Rc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){de(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,a,c){if(c=c||{},c.animate===!1||!oe.any3d)return this.setView(o,a,c);this._stop();var g=this.project(this.getCenter()),x=this.project(o),w=this.getSize(),N=this._zoom;o=V(o),a=a===void 0?N:a;var A=Math.max(w.x,w.y),R=A*this.getZoomScale(N,a),G=x.distanceTo(g)||1,ee=1.42,se=ee*ee;function pe(Je){var cs=Je?-1:1,Sv=Je?R:A,Tv=R*R-A*A+cs*se*se*G*G,Cv=2*Sv*se*G,wl=Tv/Cv,pf=Math.sqrt(wl*wl+1)-wl,Ev=pf<1e-9?-18:Math.log(pf);return Ev}function pt(Je){return(Math.exp(Je)-Math.exp(-Je))/2}function tt(Je){return(Math.exp(Je)+Math.exp(-Je))/2}function zt(Je){return pt(Je)/tt(Je)}var _t=pe(0);function to(Je){return A*(tt(_t)/tt(_t+ee*Je))}function vv(Je){return A*(tt(_t)*zt(_t+ee*Je)-pt(_t))/se}function _v(Je){return 1-Math.pow(1-Je,1.5)}var xv=Date.now(),ff=(pe(1)-_t)/ee,wv=c.duration?1e3*c.duration:1e3*ff*.8;function hf(){var Je=(Date.now()-xv)/wv,cs=_v(Je)*ff;Je<=1?(this._flyToFrame=$(hf,this),this._move(this.unproject(g.add(x.subtract(g).multiplyBy(vv(cs)/G)),N),this.getScaleZoom(A/to(cs),N),{flyTo:!0})):this._move(o,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),hf.call(this),this},flyToBounds:function(o,a){var c=this._getBoundsCenterZoom(o,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(o){return o=he(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var a=this.options.minZoom;return this.options.minZoom=o,this._loaded&&a!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var a=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&a!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,a){this._enforcingBounds=!0;var c=this.getCenter(),g=this._limitCenter(c,this._zoom,he(o));return c.equals(g)||this.panTo(g,a),this._enforcingBounds=!1,this},panInside:function(o,a){a=a||{};var c=U(a.paddingTopLeft||a.padding||[0,0]),g=U(a.paddingBottomRight||a.padding||[0,0]),x=this.project(this.getCenter()),w=this.project(o),N=this.getPixelBounds(),A=re([N.min.add(c),N.max.subtract(g)]),R=A.getSize();if(!A.contains(w)){this._enforcingBounds=!0;var G=w.subtract(A.getCenter()),ee=A.extend(w).getSize().subtract(R);x.x+=G.x<0?-ee.x:ee.x,x.y+=G.y<0?-ee.y:ee.y,this.panTo(this.unproject(x),a),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=r({animate:!1,pan:!0},o===!0?{animate:!0}:o);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),g=a.divideBy(2).round(),x=c.divideBy(2).round(),w=g.subtract(x);return!w.x&&!w.y?this:(o.animate&&o.pan?this.panBy(w):(o.pan&&this._rawPanBy(w),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=r({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=u(this._handleGeolocationResponse,this),c=u(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,o):navigator.geolocation.getCurrentPosition(a,c,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var a=o.code,c=o.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var a=o.coords.latitude,c=o.coords.longitude,g=new ue(a,c),x=g.toBounds(o.coords.accuracy*2),w=this._locateOptions;if(w.setView){var N=this.getBoundsZoom(x);this.setView(g,w.maxZoom?Math.min(N,w.maxZoom):N)}var A={latlng:g,bounds:x,timestamp:o.timestamp};for(var R in o.coords)typeof o.coords[R]=="number"&&(A[R]=o.coords[R]);this.fire("locationfound",A)}},addHandler:function(o,a){if(!a)return this;var c=this[o]=new a(this);return this._handlers.push(c),this.options[o]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ve(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Ve(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,a){var c="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),g=we("div",c,a||this._mapPane);return o&&(this._panes[o]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),a=this.unproject(o.getBottomLeft()),c=this.unproject(o.getTopRight());return new Ce(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,a,c){o=he(o),c=U(c||[0,0]);var g=this.getZoom()||0,x=this.getMinZoom(),w=this.getMaxZoom(),N=o.getNorthWest(),A=o.getSouthEast(),R=this.getSize().subtract(c),G=re(this.project(A,g),this.project(N,g)).getSize(),ee=oe.any3d?this.options.zoomSnap:1,se=R.x/G.x,pe=R.y/G.y,pt=a?Math.max(se,pe):Math.min(se,pe);return g=this.getScaleZoom(pt,g),ee&&(g=Math.round(g/(ee/100))*(ee/100),g=a?Math.ceil(g/ee)*ee:Math.floor(g/ee)*ee),Math.max(x,Math.min(w,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new b(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,a){var c=this._getTopLeftPoint(o,a);return new ne(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(o)/c.scale(a)},getScaleZoom:function(o,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var g=c.zoom(o*c.scale(a));return isNaN(g)?1/0:g},project:function(o,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(V(o),a)},unproject:function(o,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(U(o),a)},layerPointToLatLng:function(o){var a=U(o).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(o){var a=this.project(V(o))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(V(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(he(o))},distance:function(o,a){return this.options.crs.distance(V(o),V(a))},containerPointToLayerPoint:function(o){return U(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return U(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var a=this.containerPointToLayerPoint(U(o));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(V(o)))},mouseEventToContainerPoint:function(o){return bc(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var a=this._container=Nc(o);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");le(a,"scroll",this._onScroll,this),this._containerId=p(a)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&oe.any3d,de(o,"leaflet-container"+(oe.touch?" leaflet-touch":"")+(oe.retina?" leaflet-retina":"")+(oe.ielt9?" leaflet-oldie":"")+(oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Ho(o,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),We(this._mapPane,new b(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(de(o.markerPane,"leaflet-zoom-hide"),de(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,a,c){We(this._mapPane,new b(0,0));var g=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var x=this._zoom!==a;this._moveStart(x,c)._move(o,a)._moveEnd(x),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(o,a){return o&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(o,a,c,g){a===void 0&&(a=this._zoom);var x=this._zoom!==a;return this._zoom=a,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),g?c&&c.pinch&&this.fire("zoom",c):((x||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){We(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[p(this._container)]=this;var a=o?Ae:le;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),oe.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Q(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,a){for(var c=[],g,x=a==="mouseout"||a==="mouseover",w=o.target||o.srcElement,N=!1;w;){if(g=this._targets[p(w)],g&&(a==="click"||a==="preclick")&&this._draggableMoved(g)){N=!0;break}if(g&&g.listens(a,!0)&&(x&&!dl(w,o)||(c.push(g),x))||w===this._container)break;w=w.parentNode}return!c.length&&!N&&!x&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var a=o.target||o.srcElement;if(!(!this._loaded||a._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(a))){var c=o.type;c==="mousedown"&&ol(a),this._fireDOMEvent(o,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,a,c){if(o.type==="click"){var g=r({},o);g.type="preclick",this._fireDOMEvent(g,g.type,c)}var x=this._findEventTargets(o,a);if(c){for(var w=[],N=0;N<c.length;N++)c[N].listens(a,!0)&&w.push(c[N]);x=w.concat(x)}if(x.length){a==="contextmenu"&&ot(o);var A=x[0],R={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var G=A.getLatLng&&(!A._radius||A._radius<=10);R.containerPoint=G?this.latLngToContainerPoint(A.getLatLng()):this.mouseEventToContainerPoint(o),R.layerPoint=this.containerPointToLayerPoint(R.containerPoint),R.latlng=G?A.getLatLng():this.layerPointToLatLng(R.layerPoint)}for(N=0;N<x.length;N++)if(x[N].fire(a,R,!0),R.originalEvent._stopped||x[N].options.bubblingMouseEvents===!1&&P(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,a=this._handlers.length;o<a;o++)this._handlers[o].disable()},whenReady:function(o,a){return this._loaded?o.call(a||this,{target:this}):this.on("load",o,a),this},_getMapPanePos:function(){return Si(this._mapPane)||new b(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,a){var c=o&&a!==void 0?this._getNewPixelOrigin(o,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,a){var c=this.getSize()._divideBy(2);return this.project(o,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,a,c){var g=this._getNewPixelOrigin(c,a);return this.project(o,a)._subtract(g)},_latLngBoundsToNewLayerBounds:function(o,a,c){var g=this._getNewPixelOrigin(c,a);return re([this.project(o.getSouthWest(),a)._subtract(g),this.project(o.getNorthWest(),a)._subtract(g),this.project(o.getSouthEast(),a)._subtract(g),this.project(o.getNorthEast(),a)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,a,c){if(!c)return o;var g=this.project(o,a),x=this.getSize().divideBy(2),w=new ne(g.subtract(x),g.add(x)),N=this._getBoundsOffset(w,c,a);return Math.abs(N.x)<=1&&Math.abs(N.y)<=1?o:this.unproject(g.add(N),a)},_limitOffset:function(o,a){if(!a)return o;var c=this.getPixelBounds(),g=new ne(c.min.add(o),c.max.add(o));return o.add(this._getBoundsOffset(g,a))},_getBoundsOffset:function(o,a,c){var g=re(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),x=g.min.subtract(o.min),w=g.max.subtract(o.max),N=this._rebound(x.x,-w.x),A=this._rebound(x.y,-w.y);return new b(N,A)},_rebound:function(o,a){return o+a>0?Math.round(o-a)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(a))},_limitZoom:function(o){var a=this.getMinZoom(),c=this.getMaxZoom(),g=oe.any3d?this.options.zoomSnap:1;return g&&(o=Math.round(o/g)*g),Math.max(a,Math.min(c,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){qe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,a){var c=this._getCenterOffset(o)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var o=this._proxy=we("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(a){var c=Ya,g=this._proxy.style[c];wi(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),g===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ve(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),a=this.getZoom();wi(this._proxy,this.project(o,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(a),x=this._getCenterOffset(o)._divideBy(1-1/g);return c.animate!==!0&&!this.getSize().contains(x)?!1:($(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(o,a,!0)},this),!0)},_animateZoom:function(o,a,c,g){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=a,de(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:a,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&qe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Dy(o,a){return new ye(o,a)}var Kt=Ne.extend({options:{position:"topright"},initialize:function(o){I(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var a=this._map;return a&&a.removeControl(this),this.options.position=o,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var a=this._container=this.onAdd(o),c=this.getPosition(),g=o._controlCorners[c];return de(a,"leaflet-control"),c.indexOf("bottom")!==-1?g.insertBefore(a,g.firstChild):g.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ve(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Zo=function(o){return new Kt(o)};ye.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},a="leaflet-",c=this._controlContainer=we("div",a+"control-container",this._container);function g(x,w){var N=a+x+" "+a+w;o[x+w]=we("div",N,c)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Ve(this._controlCorners[o]);Ve(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Lc=Kt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,a,c,g){return c<g?-1:g<c?1:0}},initialize:function(o,a,c){I(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in o)this._addLayer(o[g],g);for(g in a)this._addLayer(a[g],g,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Kt.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,a){return this._addLayer(o,a),this._map?this._update():this},addOverlay:function(o,a){return this._addLayer(o,a,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var a=this._getLayer(p(o));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){de(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(de(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):qe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return qe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",a=this._container=we("div",o),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),jo(a),ul(a);var g=this._section=we("section",o+"-list");c&&(this._map.on("click",this.collapse,this),le(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=we("a",o+"-toggle",a);x.href="#",x.title="Layers",x.setAttribute("role","button"),le(x,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){ot(w),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=we("div",o+"-base",g),this._separator=we("div",o+"-separator",g),this._overlaysList=we("div",o+"-overlays",g),a.appendChild(g)},_getLayer:function(o){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&p(this._layers[a].layer)===o)return this._layers[a]},_addLayer:function(o,a,c){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(u(function(g,x){return this.options.sortFunction(g.layer,x.layer,g.name,x.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;$r(this._baseLayersList),$r(this._overlaysList),this._layerControlInputs=[];var o,a,c,g,x=0;for(c=0;c<this._layers.length;c++)g=this._layers[c],this._addItem(g),a=a||g.overlay,o=o||!g.overlay,x+=g.overlay?0:1;return this.options.hideSingleBase&&(o=o&&x>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=a&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var a=this._getLayer(p(o.target)),c=a.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(o,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(a?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=c,g.firstChild},_addItem:function(o){var a=document.createElement("label"),c=this._map.hasLayer(o.layer),g;o.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=c):g=this._createRadioElement("leaflet-base-layers_"+p(this),c),this._layerControlInputs.push(g),g.layerId=p(o.layer),le(g,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+o.name;var w=document.createElement("span");a.appendChild(w),w.appendChild(g),w.appendChild(x);var N=o.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,a,c,g=[],x=[];this._handlingClick=!0;for(var w=o.length-1;w>=0;w--)a=o[w],c=this._getLayer(a.layerId).layer,a.checked?g.push(c):a.checked||x.push(c);for(w=0;w<x.length;w++)this._map.hasLayer(x[w])&&this._map.removeLayer(x[w]);for(w=0;w<g.length;w++)this._map.hasLayer(g[w])||this._map.addLayer(g[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,a,c,g=this._map.getZoom(),x=o.length-1;x>=0;x--)a=o[x],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&g<c.options.minZoom||c.options.maxZoom!==void 0&&g>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,le(o,"click",ot),this.expand();var a=this;setTimeout(function(){Ae(o,"click",ot),a._preventClick=!1})}}),zy=function(o,a,c){return new Lc(o,a,c)},cl=Kt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var a="leaflet-control-zoom",c=we("div",a+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,a,c,g,x){var w=we("a",c,g);return w.innerHTML=o,w.href="#",w.title=a,w.setAttribute("role","button"),w.setAttribute("aria-label",a),jo(w),le(w,"click",Ci),le(w,"click",x,this),le(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var o=this._map,a="leaflet-disabled";qe(this._zoomInButton,a),qe(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(de(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(de(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});ye.mergeOptions({zoomControl:!0}),ye.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cl,this.addControl(this.zoomControl))});var Fy=function(o){return new cl(o)},Dc=Kt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var a="leaflet-control-scale",c=we("div",a),g=this.options;return this._addScales(g,a+"-line",c),o.on(g.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),c},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,a,c){o.metric&&(this._mScale=we("div",a,c)),o.imperial&&(this._iScale=we("div",a,c))},_update:function(){var o=this._map,a=o.getSize().y/2,c=o.distance(o.containerPointToLatLng([0,a]),o.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var a=this._getRoundNum(o),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/o)},_updateImperial:function(o){var a=o*3.2808399,c,g,x;a>5280?(c=a/5280,g=this._getRoundNum(c),this._updateScale(this._iScale,g+" mi",g/c)):(x=this._getRoundNum(a),this._updateScale(this._iScale,x+" ft",x/a))},_updateScale:function(o,a,c){o.style.width=Math.round(this.options.maxWidth*c)+"px",o.innerHTML=a},_getRoundNum:function(o){var a=Math.pow(10,(Math.floor(o)+"").length-1),c=o/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),Uy=function(o){return new Dc(o)},Vy='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fl=Kt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(oe.inlineSvg?Vy+" ":"")+"Leaflet</a>"},initialize:function(o){I(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=we("div","leaflet-control-attribution"),jo(this._container);for(var a in o._layers)o._layers[a].getAttribution&&this.addAttribution(o._layers[a].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var a in this._attributions)this._attributions[a]&&o.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),o.length&&c.push(o.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});ye.mergeOptions({attributionControl:!0}),ye.addInitHook(function(){this.options.attributionControl&&new fl().addTo(this)});var By=function(o){return new fl(o)};Kt.Layers=Lc,Kt.Zoom=cl,Kt.Scale=Dc,Kt.Attribution=fl,Zo.layers=zy,Zo.zoom=Fy,Zo.scale=Uy,Zo.attribution=By;var cn=Ne.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});cn.addTo=function(o,a){return o.addHandler(a,this),this};var Hy={Events:ge},zc=oe.touch?"touchstart mousedown":"mousedown",On=Ie.extend({options:{clickTolerance:3},initialize:function(o,a,c,g){I(this,g),this._element=o,this._dragStartTarget=a||o,this._preventOutline=c},enable:function(){this._enabled||(le(this._dragStartTarget,zc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(On._dragging===this&&this.finishDrag(!0),Ae(this._dragStartTarget,zc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Xa(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){On._dragging===this&&this.finishDrag();return}if(!(On._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(On._dragging=this,this._preventOutline&&ol(this._element),tl(),Go(),!this._moving)){this.fire("down");var a=o.touches?o.touches[0]:o,c=Ic(this._element);this._startPoint=new b(a.clientX,a.clientY),this._startPos=Si(this._element),this._parentScale=rl(c);var g=o.type==="mousedown";le(document,g?"mousemove":"touchmove",this._onMove,this),le(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var a=o.touches&&o.touches.length===1?o.touches[0]:o,c=new b(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,ot(o),this._moved||(this.fire("dragstart"),this._moved=!0,de(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),de(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),We(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){qe(document.body,"leaflet-dragging"),this._lastTarget&&(qe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ae(document,"mousemove touchmove",this._onMove,this),Ae(document,"mouseup touchend touchcancel",this._onUp,this),nl(),Oo();var a=this._moved&&this._moving;this._moving=!1,On._dragging=!1,a&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Fc(o,a,c){var g,x=[1,4,2,8],w,N,A,R,G,ee,se,pe;for(w=0,ee=o.length;w<ee;w++)o[w]._code=Ei(o[w],a);for(A=0;A<4;A++){for(se=x[A],g=[],w=0,ee=o.length,N=ee-1;w<ee;N=w++)R=o[w],G=o[N],R._code&se?G._code&se||(pe=es(G,R,se,a,c),pe._code=Ei(pe,a),g.push(pe)):(G._code&se&&(pe=es(G,R,se,a,c),pe._code=Ei(pe,a),g.push(pe)),g.push(R));o=g}return o}function Uc(o,a){var c,g,x,w,N,A,R,G,ee;if(!o||o.length===0)throw new Error("latlngs not passed");Dt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var se=V([0,0]),pe=he(o),pt=pe.getNorthWest().distanceTo(pe.getSouthWest())*pe.getNorthEast().distanceTo(pe.getNorthWest());pt<1700&&(se=hl(o));var tt=o.length,zt=[];for(c=0;c<tt;c++){var _t=V(o[c]);zt.push(a.project(V([_t.lat-se.lat,_t.lng-se.lng])))}for(A=R=G=0,c=0,g=tt-1;c<tt;g=c++)x=zt[c],w=zt[g],N=x.y*w.x-w.y*x.x,R+=(x.x+w.x)*N,G+=(x.y+w.y)*N,A+=N*3;A===0?ee=zt[0]:ee=[R/A,G/A];var to=a.unproject(U(ee));return V([to.lat+se.lat,to.lng+se.lng])}function hl(o){for(var a=0,c=0,g=0,x=0;x<o.length;x++){var w=V(o[x]);a+=w.lat,c+=w.lng,g++}return V([a/g,c/g])}var Gy={__proto__:null,clipPolygon:Fc,polygonCenter:Uc,centroid:hl};function Vc(o,a){if(!a||!o.length)return o.slice();var c=a*a;return o=jy(o,c),o=qy(o,c),o}function Bc(o,a,c){return Math.sqrt(Wo(o,a,c,!0))}function Oy(o,a,c){return Wo(o,a,c)}function qy(o,a){var c=o.length,g=typeof Uint8Array<"u"?Uint8Array:Array,x=new g(c);x[0]=x[c-1]=1,pl(o,x,a,0,c-1);var w,N=[];for(w=0;w<c;w++)x[w]&&N.push(o[w]);return N}function pl(o,a,c,g,x){var w=0,N,A,R;for(A=g+1;A<=x-1;A++)R=Wo(o[A],o[g],o[x],!0),R>w&&(N=A,w=R);w>c&&(a[N]=1,pl(o,a,c,g,N),pl(o,a,c,N,x))}function jy(o,a){for(var c=[o[0]],g=1,x=0,w=o.length;g<w;g++)Zy(o[g],o[x])>a&&(c.push(o[g]),x=g);return x<w-1&&c.push(o[w-1]),c}var Hc;function Gc(o,a,c,g,x){var w=g?Hc:Ei(o,c),N=Ei(a,c),A,R,G;for(Hc=N;;){if(!(w|N))return[o,a];if(w&N)return!1;A=w||N,R=es(o,a,A,c,x),G=Ei(R,c),A===w?(o=R,w=G):(a=R,N=G)}}function es(o,a,c,g,x){var w=a.x-o.x,N=a.y-o.y,A=g.min,R=g.max,G,ee;return c&8?(G=o.x+w*(R.y-o.y)/N,ee=R.y):c&4?(G=o.x+w*(A.y-o.y)/N,ee=A.y):c&2?(G=R.x,ee=o.y+N*(R.x-o.x)/w):c&1&&(G=A.x,ee=o.y+N*(A.x-o.x)/w),new b(G,ee,x)}function Ei(o,a){var c=0;return o.x<a.min.x?c|=1:o.x>a.max.x&&(c|=2),o.y<a.min.y?c|=4:o.y>a.max.y&&(c|=8),c}function Zy(o,a){var c=a.x-o.x,g=a.y-o.y;return c*c+g*g}function Wo(o,a,c,g){var x=a.x,w=a.y,N=c.x-x,A=c.y-w,R=N*N+A*A,G;return R>0&&(G=((o.x-x)*N+(o.y-w)*A)/R,G>1?(x=c.x,w=c.y):G>0&&(x+=N*G,w+=A*G)),N=o.x-x,A=o.y-w,g?N*N+A*A:new b(x,w)}function Dt(o){return!E(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Oc(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dt(o)}function qc(o,a){var c,g,x,w,N,A,R,G;if(!o||o.length===0)throw new Error("latlngs not passed");Dt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var ee=V([0,0]),se=he(o),pe=se.getNorthWest().distanceTo(se.getSouthWest())*se.getNorthEast().distanceTo(se.getNorthWest());pe<1700&&(ee=hl(o));var pt=o.length,tt=[];for(c=0;c<pt;c++){var zt=V(o[c]);tt.push(a.project(V([zt.lat-ee.lat,zt.lng-ee.lng])))}for(c=0,g=0;c<pt-1;c++)g+=tt[c].distanceTo(tt[c+1])/2;if(g===0)G=tt[0];else for(c=0,w=0;c<pt-1;c++)if(N=tt[c],A=tt[c+1],x=N.distanceTo(A),w+=x,w>g){R=(w-g)/x,G=[A.x-R*(A.x-N.x),A.y-R*(A.y-N.y)];break}var _t=a.unproject(U(G));return V([_t.lat+ee.lat,_t.lng+ee.lng])}var Wy={__proto__:null,simplify:Vc,pointToSegmentDistance:Bc,closestPointOnSegment:Oy,clipSegment:Gc,_getEdgeIntersection:es,_getBitCode:Ei,_sqClosestPointOnSegment:Wo,isFlat:Dt,_flat:Oc,polylineCenter:qc},ml={project:function(o){return new b(o.lng,o.lat)},unproject:function(o){return new ue(o.y,o.x)},bounds:new ne([-180,-90],[180,90])},gl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ne([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var a=Math.PI/180,c=this.R,g=o.lat*a,x=this.R_MINOR/c,w=Math.sqrt(1-x*x),N=w*Math.sin(g),A=Math.tan(Math.PI/4-g/2)/Math.pow((1-N)/(1+N),w/2);return g=-c*Math.log(Math.max(A,1e-10)),new b(o.lng*a*c,g)},unproject:function(o){for(var a=180/Math.PI,c=this.R,g=this.R_MINOR/c,x=Math.sqrt(1-g*g),w=Math.exp(-o.y/c),N=Math.PI/2-2*Math.atan(w),A=0,R=.1,G;A<15&&Math.abs(R)>1e-7;A++)G=x*Math.sin(N),G=Math.pow((1-G)/(1+G),x/2),R=Math.PI/2-2*Math.atan(w*G)-N,N+=R;return new ue(N*a,o.x*a/c)}},Jy={__proto__:null,LonLat:ml,Mercator:gl,SphericalMercator:Et},$y=r({},xe,{code:"EPSG:3395",projection:gl,transformation:function(){var o=.5/(Math.PI*gl.R);return Ue(o,.5,-o,.5)}()}),jc=r({},xe,{code:"EPSG:4326",projection:ml,transformation:Ue(1/180,1,-1/180,.5)}),Ky=r({},fe,{projection:ml,transformation:Ue(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,a){var c=a.lng-o.lng,g=a.lat-o.lat;return Math.sqrt(c*c+g*g)},infinite:!0});fe.Earth=xe,fe.EPSG3395=$y,fe.EPSG3857=Wt,fe.EPSG900913=Oi,fe.EPSG4326=jc,fe.Simple=Ky;var Yt=Ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[p(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[p(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var a=o.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});ye.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var a=p(o);return this._layers[a]?this:(this._layers[a]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var a=p(o);return this._layers[a]?(this._loaded&&o.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return p(o)in this._layers},eachLayer:function(o,a){for(var c in this._layers)o.call(a,this._layers[c]);return this},_addLayers:function(o){o=o?E(o)?o:[o]:[];for(var a=0,c=o.length;a<c;a++)this.addLayer(o[a])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[p(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var a=p(o);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,a=-1/0,c=this._getZoomSpan();for(var g in this._zoomBoundLayers){var x=this._zoomBoundLayers[g].options;o=x.minZoom===void 0?o:Math.min(o,x.minZoom),a=x.maxZoom===void 0?a:Math.max(a,x.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=o===1/0?void 0:o,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ki=Yt.extend({initialize:function(o,a){I(this,a),this._layers={};var c,g;if(o)for(c=0,g=o.length;c<g;c++)this.addLayer(o[c])},addLayer:function(o){var a=this.getLayerId(o);return this._layers[a]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var a=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(o){var a=typeof o=="number"?o:this.getLayerId(o);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var a=Array.prototype.slice.call(arguments,1),c,g;for(c in this._layers)g=this._layers[c],g[o]&&g[o].apply(g,a);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,a){for(var c in this._layers)o.call(a,this._layers[c]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return p(o)}}),Yy=function(o,a){return new Ki(o,a)},wn=Ki.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Ki.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Ki.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Ce;for(var a in this._layers){var c=this._layers[a];o.extend(c.getBounds?c.getBounds():c.getLatLng())}return o}}),Xy=function(o,a){return new wn(o,a)},Yi=Ne.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){I(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,a){var c=this._getIconUrl(o);if(!c){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(g,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(o,a){var c=this.options,g=c[a+"Size"];typeof g=="number"&&(g=[g,g]);var x=U(g),w=U(a==="shadow"&&c.shadowAnchor||c.iconAnchor||x&&x.divideBy(2,!0));o.className="leaflet-marker-"+a+" "+(c.className||""),w&&(o.style.marginLeft=-w.x+"px",o.style.marginTop=-w.y+"px"),x&&(o.style.width=x.x+"px",o.style.height=x.y+"px")},_createImg:function(o,a){return a=a||document.createElement("img"),a.src=o,a},_getIconUrl:function(o){return oe.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Qy(o){return new Yi(o)}var Jo=Yi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Jo.imagePath!="string"&&(Jo.imagePath=this._detectIconPath()),(this.options.imagePath||Jo.imagePath)+Yi.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var a=function(c,g,x){var w=g.exec(c);return w&&w[x]};return o=a(o,/^url\((['"])?(.+)\1\)$/,2),o&&a(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=we("div","leaflet-default-icon-path",document.body),a=Ho(o,"background-image")||Ho(o,"backgroundImage");if(document.body.removeChild(o),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Zc=cn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new On(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),de(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&qe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var a=this._marker,c=a._map,g=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,w=Si(a._icon),N=c.getPixelBounds(),A=c.getPixelOrigin(),R=re(N.min._subtract(A).add(x),N.max._subtract(A).subtract(x));if(!R.contains(w)){var G=U((Math.max(R.max.x,w.x)-R.max.x)/(N.max.x-R.max.x)-(Math.min(R.min.x,w.x)-R.min.x)/(N.min.x-R.min.x),(Math.max(R.max.y,w.y)-R.max.y)/(N.max.y-R.max.y)-(Math.min(R.min.y,w.y)-R.min.y)/(N.min.y-R.min.y)).multiplyBy(g);c.panBy(G,{animate:!1}),this._draggable._newPos._add(G),this._draggable._startPos._add(G),We(a._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=$(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(Q(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,o)))},_onDrag:function(o){var a=this._marker,c=a._shadow,g=Si(a._icon),x=a._map.layerPointToLatLng(g);c&&We(c,g),a._latlng=x,o.latlng=x,o.oldLatLng=this._oldLatLng,a.fire("move",o).fire("drag",o)},_onDragEnd:function(o){Q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),ts=Yt.extend({options:{icon:new Jo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,a){I(this,a),this._latlng=V(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var a=this._latlng;return this._latlng=V(o),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=o.icon.createIcon(this._icon),g=!1;c!==this._icon&&(this._icon&&this._removeIcon(),g=!0,o.title&&(c.title=o.title),c.tagName==="IMG"&&(c.alt=o.alt||"")),de(c,a),o.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&le(c,"focus",this._panOnFocus,this);var x=o.icon.createShadow(this._shadow),w=!1;x!==this._shadow&&(this._removeShadow(),w=!0),x&&(de(x,a),x.alt=""),this._shadow=x,o.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&w&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ae(this._icon,"focus",this._panOnFocus,this),Ve(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ve(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&We(this._icon,o),this._shadow&&We(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var a=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(de(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Zc)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Zc(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Lt(this._icon,o),this._shadow&&Lt(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var a=this.options.icon.options,c=a.iconSize?U(a.iconSize):U(0,0),g=a.iconAnchor?U(a.iconAnchor):U(0,0);o.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:c.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ev(o,a){return new ts(o,a)}var qn=Yt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return I(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ns=qn.extend({options:{fill:!0,radius:10},initialize:function(o,a){I(this,a),this._latlng=V(o),this._radius=this.options.radius},setLatLng:function(o){var a=this._latlng;return this._latlng=V(o),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var a=o&&o.radius||this._radius;return qn.prototype.setStyle.call(this,o),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,a=this._radiusY||o,c=this._clickTolerance(),g=[o+c,a+c];this._pxBounds=new ne(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function tv(o,a){return new ns(o,a)}var yl=ns.extend({initialize:function(o,a,c){if(typeof a=="number"&&(a=r({},c,{radius:a})),I(this,a),this._latlng=V(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Ce(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:qn.prototype.setStyle,_project:function(){var o=this._latlng.lng,a=this._latlng.lat,c=this._map,g=c.options.crs;if(g.distance===xe.distance){var x=Math.PI/180,w=this._mRadius/xe.R/x,N=c.project([a+w,o]),A=c.project([a-w,o]),R=N.add(A).divideBy(2),G=c.unproject(R).lat,ee=Math.acos((Math.cos(w*x)-Math.sin(a*x)*Math.sin(G*x))/(Math.cos(a*x)*Math.cos(G*x)))/x;(isNaN(ee)||ee===0)&&(ee=w/Math.cos(Math.PI/180*a)),this._point=R.subtract(c.getPixelOrigin()),this._radius=isNaN(ee)?0:R.x-c.project([G,o-ee]).x,this._radiusY=R.y-N.y}else{var se=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(se).x}this._updateBounds()}});function nv(o,a,c){return new yl(o,a,c)}var Sn=qn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,a){I(this,a),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var a=1/0,c=null,g=Wo,x,w,N=0,A=this._parts.length;N<A;N++)for(var R=this._parts[N],G=1,ee=R.length;G<ee;G++){x=R[G-1],w=R[G];var se=g(o,x,w,!0);se<a&&(a=se,c=g(o,x,w))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return qc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,a){return a=a||this._defaultShape(),o=V(o),a.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Ce,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Dt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var a=[],c=Dt(o),g=0,x=o.length;g<x;g++)c?(a[g]=V(o[g]),this._bounds.extend(a[g])):a[g]=this._convertLatLngs(o[g]);return a},_project:function(){var o=new ne;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),a=new b(o,o);this._rawPxBounds&&(this._pxBounds=new ne([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(o,a,c){var g=o[0]instanceof ue,x=o.length,w,N;if(g){for(N=[],w=0;w<x;w++)N[w]=this._map.latLngToLayerPoint(o[w]),c.extend(N[w]);a.push(N)}else for(w=0;w<x;w++)this._projectLatlngs(o[w],a,c)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,g,x,w,N,A,R;for(c=0,x=0,w=this._rings.length;c<w;c++)for(R=this._rings[c],g=0,N=R.length;g<N-1;g++)A=Gc(R[g],R[g+1],o,g,!0),A&&(a[x]=a[x]||[],a[x].push(A[0]),(A[1]!==R[g+1]||g===N-2)&&(a[x].push(A[1]),x++))}},_simplifyPoints:function(){for(var o=this._parts,a=this.options.smoothFactor,c=0,g=o.length;c<g;c++)o[c]=Vc(o[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,a){var c,g,x,w,N,A,R=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(c=0,w=this._parts.length;c<w;c++)for(A=this._parts[c],g=0,N=A.length,x=N-1;g<N;x=g++)if(!(!a&&g===0)&&Bc(o,A[x],A[g])<=R)return!0;return!1}});function iv(o,a){return new Sn(o,a)}Sn._flat=Oc;var Xi=Sn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Uc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var a=Sn.prototype._convertLatLngs.call(this,o),c=a.length;return c>=2&&a[0]instanceof ue&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(o){Sn.prototype._setLatLngs.call(this,o),Dt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,a=this.options.weight,c=new b(a,a);if(o=new ne(o.min.subtract(c),o.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,x=this._rings.length,w;g<x;g++)w=Fc(this._rings[g],o,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var a=!1,c,g,x,w,N,A,R,G;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(w=0,R=this._parts.length;w<R;w++)for(c=this._parts[w],N=0,G=c.length,A=G-1;N<G;A=N++)g=c[N],x=c[A],g.y>o.y!=x.y>o.y&&o.x<(x.x-g.x)*(o.y-g.y)/(x.y-g.y)+g.x&&(a=!a);return a||Sn.prototype._containsPoint.call(this,o,!0)}});function ov(o,a){return new Xi(o,a)}var Tn=wn.extend({initialize:function(o,a){I(this,a),this._layers={},o&&this.addData(o)},addData:function(o){var a=E(o)?o:o.features,c,g,x;if(a){for(c=0,g=a.length;c<g;c++)x=a[c],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var w=this.options;if(w.filter&&!w.filter(o))return this;var N=is(o,w);return N?(N.feature=ss(o),N.defaultOptions=N.options,this.resetStyle(N),w.onEachFeature&&w.onEachFeature(o,N),this.addLayer(N)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=r({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(a){this._setLayerStyle(a,o)},this)},_setLayerStyle:function(o,a){o.setStyle&&(typeof a=="function"&&(a=a(o.feature)),o.setStyle(a))}});function is(o,a){var c=o.type==="Feature"?o.geometry:o,g=c?c.coordinates:null,x=[],w=a&&a.pointToLayer,N=a&&a.coordsToLatLng||vl,A,R,G,ee;if(!g&&!c)return null;switch(c.type){case"Point":return A=N(g),Wc(w,o,A,a);case"MultiPoint":for(G=0,ee=g.length;G<ee;G++)A=N(g[G]),x.push(Wc(w,o,A,a));return new wn(x);case"LineString":case"MultiLineString":return R=os(g,c.type==="LineString"?0:1,N),new Sn(R,a);case"Polygon":case"MultiPolygon":return R=os(g,c.type==="Polygon"?1:2,N),new Xi(R,a);case"GeometryCollection":for(G=0,ee=c.geometries.length;G<ee;G++){var se=is({geometry:c.geometries[G],type:"Feature",properties:o.properties},a);se&&x.push(se)}return new wn(x);case"FeatureCollection":for(G=0,ee=c.features.length;G<ee;G++){var pe=is(c.features[G],a);pe&&x.push(pe)}return new wn(x);default:throw new Error("Invalid GeoJSON object.")}}function Wc(o,a,c,g){return o?o(a,c):new ts(c,g&&g.markersInheritOptions&&g)}function vl(o){return new ue(o[1],o[0],o[2])}function os(o,a,c){for(var g=[],x=0,w=o.length,N;x<w;x++)N=a?os(o[x],a-1,c):(c||vl)(o[x]),g.push(N);return g}function _l(o,a){return o=V(o),o.alt!==void 0?[_(o.lng,a),_(o.lat,a),_(o.alt,a)]:[_(o.lng,a),_(o.lat,a)]}function rs(o,a,c,g){for(var x=[],w=0,N=o.length;w<N;w++)x.push(a?rs(o[w],Dt(o[w])?0:a-1,c,g):_l(o[w],g));return!a&&c&&x.length>0&&x.push(x[0].slice()),x}function Qi(o,a){return o.feature?r({},o.feature,{geometry:a}):ss(a)}function ss(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var xl={toGeoJSON:function(o){return Qi(this,{type:"Point",coordinates:_l(this.getLatLng(),o)})}};ts.include(xl),yl.include(xl),ns.include(xl),Sn.include({toGeoJSON:function(o){var a=!Dt(this._latlngs),c=rs(this._latlngs,a?1:0,!1,o);return Qi(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),Xi.include({toGeoJSON:function(o){var a=!Dt(this._latlngs),c=a&&!Dt(this._latlngs[0]),g=rs(this._latlngs,c?2:a?1:0,!0,o);return a||(g=[g]),Qi(this,{type:(c?"Multi":"")+"Polygon",coordinates:g})}}),Ki.include({toMultiPoint:function(o){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(o).geometry.coordinates)}),Qi(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(o){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(o);var c=a==="GeometryCollection",g=[];return this.eachLayer(function(x){if(x.toGeoJSON){var w=x.toGeoJSON(o);if(c)g.push(w.geometry);else{var N=ss(w);N.type==="FeatureCollection"?g.push.apply(g,N.features):g.push(N)}}}),c?Qi(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function Jc(o,a){return new Tn(o,a)}var rv=Jc,as=Yt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,a,c){this._url=o,this._bounds=he(a),I(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(de(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ve(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Ji(this._image),this},bringToBack:function(){return this._map&&$i(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=he(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",a=this._image=o?this._url:we("img");if(de(a,"leaflet-image-layer"),this._zoomAnimated&&de(a,"leaflet-zoom-animated"),this.options.className&&de(a,this.options.className),a.onselectstart=v,a.onmousemove=v,a.onload=u(this.fire,this,"load"),a.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(o){var a=this._map.getZoomScale(o.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;wi(this._image,c,a)},_reset:function(){var o=this._image,a=new ne(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();We(o,a.min),o.style.width=c.x+"px",o.style.height=c.y+"px"},_updateOpacity:function(){Lt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),sv=function(o,a,c){return new as(o,a,c)},$c=as.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",a=this._image=o?this._url:we("video");if(de(a,"leaflet-image-layer"),this._zoomAnimated&&de(a,"leaflet-zoom-animated"),this.options.className&&de(a,this.options.className),a.onselectstart=v,a.onmousemove=v,a.onloadeddata=u(this.fire,this,"load"),o){for(var c=a.getElementsByTagName("source"),g=[],x=0;x<c.length;x++)g.push(c[x].src);this._url=c.length>0?g:[a.src];return}E(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var N=we("source");N.src=this._url[w],a.appendChild(N)}}});function av(o,a,c){return new $c(o,a,c)}var Kc=as.extend({_initImage:function(){var o=this._image=this._url;de(o,"leaflet-image-layer"),this._zoomAnimated&&de(o,"leaflet-zoom-animated"),this.options.className&&de(o,this.options.className),o.onselectstart=v,o.onmousemove=v}});function lv(o,a,c){return new Kc(o,a,c)}var fn=Yt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,a){o&&(o instanceof ue||E(o))?(this._latlng=V(o),I(this,a)):(I(this,o),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Lt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Lt(this._container,1),this.bringToFront(),this.options.interactive&&(de(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Lt(this._container,0),this._removeTimeout=setTimeout(u(Ve,void 0,this._container),200)):Ve(this._container),this.options.interactive&&(qe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=V(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ji(this._container),this},bringToBack:function(){return this._map&&$i(this._container),this},_prepareOpen:function(o){var a=this._source;if(!a._map)return!1;if(a instanceof wn){a=null;var c=this._source._layers;for(var g in c)if(c[g]._map){a=c[g];break}if(!a)return!1;this._source=a}if(!o)if(a.getCenter)o=a.getCenter();else if(a.getLatLng)o=a.getLatLng();else if(a.getBounds)o=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")o.innerHTML=a;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),a=U(this.options.offset),c=this._getAnchor();this._zoomAnimated?We(this._container,o.add(c)):a=a.add(o).add(c);var g=this._containerBottom=-a.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=g+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});ye.include({_initOverlay:function(o,a,c,g){var x=a;return x instanceof o||(x=new o(g).setContent(a)),c&&x.setLatLng(c),x}}),Yt.include({_initOverlay:function(o,a,c,g){var x=c;return x instanceof o?(I(x,g),x._source=this):(x=a&&!g?a:new o(g,this),x.setContent(c)),x}});var ls=fn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,fn.prototype.openOn.call(this,o)},onAdd:function(o){fn.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof qn||this._source.on("preclick",Ti))},onRemove:function(o){fn.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof qn||this._source.off("preclick",Ti))},getEvents:function(){var o=fn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",a=this._container=we("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=we("div",o+"-content-wrapper",a);if(this._contentNode=we("div",o+"-content",c),jo(a),ul(this._contentNode),le(a,"contextmenu",Ti),this._tipContainer=we("div",o+"-tip-container",a),this._tip=we("div",o+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=we("a",o+"-close-button",a);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',le(g,"click",function(x){ot(x),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,a=o.style;a.width="",a.whiteSpace="nowrap";var c=o.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var g=o.offsetHeight,x=this.options.maxHeight,w="leaflet-popup-scrolled";x&&g>x?(a.height=x+"px",de(o,w)):qe(o,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var a=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),c=this._getAnchor();We(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,a=parseInt(Ho(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,g=this._containerWidth,x=new b(this._containerLeft,-c-this._containerBottom);x._add(Si(this._container));var w=o.layerPointToContainerPoint(x),N=U(this.options.autoPanPadding),A=U(this.options.autoPanPaddingTopLeft||N),R=U(this.options.autoPanPaddingBottomRight||N),G=o.getSize(),ee=0,se=0;w.x+g+R.x>G.x&&(ee=w.x+g-G.x+R.x),w.x-ee-A.x<0&&(ee=w.x-A.x),w.y+c+R.y>G.y&&(se=w.y+c-G.y+R.y),w.y-se-A.y<0&&(se=w.y-A.y),(ee||se)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([ee,se]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),uv=function(o,a){return new ls(o,a)};ye.mergeOptions({closePopupOnClick:!0}),ye.include({openPopup:function(o,a,c){return this._initOverlay(ls,o,a,c).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Yt.include({bindPopup:function(o,a){return this._popup=this._initOverlay(ls,this._popup,o,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof wn||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Ci(o);var a=o.layer||o.target;if(this._popup._source===a&&!(a instanceof qn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=a,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var us=fn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){fn.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){fn.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=fn.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",a=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=we("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var a,c,g=this._map,x=this._container,w=g.latLngToContainerPoint(g.getCenter()),N=g.layerPointToContainerPoint(o),A=this.options.direction,R=x.offsetWidth,G=x.offsetHeight,ee=U(this.options.offset),se=this._getAnchor();A==="top"?(a=R/2,c=G):A==="bottom"?(a=R/2,c=0):A==="center"?(a=R/2,c=G/2):A==="right"?(a=0,c=G/2):A==="left"?(a=R,c=G/2):N.x<w.x?(A="right",a=0,c=G/2):(A="left",a=R+(ee.x+se.x)*2,c=G/2),o=o.subtract(U(a,c,!0)).add(ee).add(se),qe(x,"leaflet-tooltip-right"),qe(x,"leaflet-tooltip-left"),qe(x,"leaflet-tooltip-top"),qe(x,"leaflet-tooltip-bottom"),de(x,"leaflet-tooltip-"+A),We(x,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Lt(this._container,o)},_animateZoom:function(o){var a=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(a)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),dv=function(o,a){return new us(o,a)};ye.include({openTooltip:function(o,a,c){return this._initOverlay(us,o,a,c).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Yt.include({bindTooltip:function(o,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(us,this._tooltip,o,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var a=o?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof wn||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var a=typeof o.getElement=="function"&&o.getElement();a&&(le(a,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),le(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var a=typeof o.getElement=="function"&&o.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var a=o.latlng,c,g;this._tooltip.options.sticky&&o.originalEvent&&(c=this._map.mouseEventToContainerPoint(o.originalEvent),g=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(a)}});var Yc=Yi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var a=o&&o.tagName==="DIV"?o:document.createElement("div"),c=this.options;if(c.html instanceof Element?($r(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var g=U(c.bgPos);a.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function cv(o){return new Yc(o)}Yi.Default=Jo;var $o=Yt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){I(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Ve(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ji(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($i(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof b?o:new b(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var a=this.getPane().children,c=-o(-1/0,1/0),g=0,x=a.length,w;g<x;g++)w=a[g].style.zIndex,a[g]!==this._container&&w&&(c=o(c,+w));isFinite(c)&&(this.options.zIndex=c+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!oe.ielt9){Lt(this._container,this.options.opacity);var o=+new Date,a=!1,c=!1;for(var g in this._tiles){var x=this._tiles[g];if(!(!x.current||!x.loaded)){var w=Math.min(1,(o-x.loaded)/200);Lt(x.el,w),w<1?a=!0:(x.active?c=!0:this._onOpaqueTile(x),x.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&(Q(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=we("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,a=this.options.maxZoom;if(o!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===o?(this._levels[c].el.style.zIndex=a-Math.abs(o-c),this._onUpdateLevel(c)):(Ve(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var g=this._levels[o],x=this._map;return g||(g=this._levels[o]={},g.el=we("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=a,g.origin=x.project(x.unproject(x.getPixelOrigin()),o).round(),g.zoom=o,this._setZoomTransform(g,x.getCenter(),x.getZoom()),v(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var o,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)a=this._tiles[o],a.retain=a.current;for(o in this._tiles)if(a=this._tiles[o],a.current&&!a.active){var g=a.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var a in this._tiles)this._tiles[a].coords.z===o&&this._removeTile(a)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Ve(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,a,c,g){var x=Math.floor(o/2),w=Math.floor(a/2),N=c-1,A=new b(+x,+w);A.z=+N;var R=this._tileCoordsToKey(A),G=this._tiles[R];return G&&G.active?(G.retain=!0,!0):(G&&G.loaded&&(G.retain=!0),N>g?this._retainParent(x,w,N,g):!1)},_retainChildren:function(o,a,c,g){for(var x=2*o;x<2*o+2;x++)for(var w=2*a;w<2*a+2;w++){var N=new b(x,w);N.z=c+1;var A=this._tileCoordsToKey(N),R=this._tiles[A];if(R&&R.active){R.retain=!0;continue}else R&&R.loaded&&(R.retain=!0);c+1<g&&this._retainChildren(x,w,c+1,g)}},_resetView:function(o){var a=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var a=this.options;return a.minNativeZoom!==void 0&&o<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<o?a.maxNativeZoom:o},_setView:function(o,a,c,g){var x=Math.round(a);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var w=this.options.updateWhenZooming&&x!==this._tileZoom;(!g||w)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(o),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(o,a)},_setZoomTransforms:function(o,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],o,a)},_setZoomTransform:function(o,a,c){var g=this._map.getZoomScale(c,o.zoom),x=o.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(a,c)).round();oe.any3d?wi(o.el,x,g):We(o.el,x)},_resetGrid:function(){var o=this._map,a=o.options.crs,c=this._tileSize=this.getTileSize(),g=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,a.wrapLng[0]],g).x/c.x),Math.ceil(o.project([0,a.wrapLng[1]],g).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([a.wrapLat[0],0],g).y/c.x),Math.ceil(o.project([a.wrapLat[1],0],g).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),g=a.getZoomScale(c,this._tileZoom),x=a.project(o,this._tileZoom).floor(),w=a.getSize().divideBy(g*2);return new ne(x.subtract(w),x.add(w))},_update:function(o){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(o===void 0&&(o=a.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(o),x=this._pxBoundsToTileRange(g),w=x.getCenter(),N=[],A=this.options.keepBuffer,R=new ne(x.getBottomLeft().subtract([A,-A]),x.getTopRight().add([A,-A]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var G in this._tiles){var ee=this._tiles[G].coords;(ee.z!==this._tileZoom||!R.contains(new b(ee.x,ee.y)))&&(this._tiles[G].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(o,c);return}for(var se=x.min.y;se<=x.max.y;se++)for(var pe=x.min.x;pe<=x.max.x;pe++){var pt=new b(pe,se);if(pt.z=this._tileZoom,!!this._isValidTile(pt)){var tt=this._tiles[this._tileCoordsToKey(pt)];tt?tt.current=!0:N.push(pt)}}if(N.sort(function(_t,to){return _t.distanceTo(w)-to.distanceTo(w)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var zt=document.createDocumentFragment();for(pe=0;pe<N.length;pe++)this._addTile(N[pe],zt);this._level.el.appendChild(zt)}}}},_isValidTile:function(o){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(o.x<c.min.x||o.x>c.max.x)||!a.wrapLat&&(o.y<c.min.y||o.y>c.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(o);return he(this.options.bounds).overlaps(g)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var a=this._map,c=this.getTileSize(),g=o.scaleBy(c),x=g.add(c),w=a.unproject(g,o.z),N=a.unproject(x,o.z);return[w,N]},_tileCoordsToBounds:function(o){var a=this._tileCoordsToNwSe(o),c=new Ce(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var a=o.split(":"),c=new b(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(o){var a=this._tiles[o];a&&(Ve(a.el),delete this._tiles[o],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){de(o,"leaflet-tile");var a=this.getTileSize();o.style.width=a.x+"px",o.style.height=a.y+"px",o.onselectstart=v,o.onmousemove=v,oe.ielt9&&this.options.opacity<1&&Lt(o,this.options.opacity)},_addTile:function(o,a){var c=this._getTilePos(o),g=this._tileCoordsToKey(o),x=this.createTile(this._wrapCoords(o),u(this._tileReady,this,o));this._initTile(x),this.createTile.length<2&&$(u(this._tileReady,this,o,null,x)),We(x,c),this._tiles[g]={el:x,coords:o,current:!0},a.appendChild(x),this.fire("tileloadstart",{tile:x,coords:o})},_tileReady:function(o,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:o});var g=this._tileCoordsToKey(o);c=this._tiles[g],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Lt(c.el,0),Q(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(de(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),oe.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var a=new b(this._wrapX?y(o.x,this._wrapX):o.x,this._wrapY?y(o.y,this._wrapY):o.y);return a.z=o.z,a},_pxBoundsToTileRange:function(o){var a=this.getTileSize();return new ne(o.min.unscaleBy(a).floor(),o.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function fv(o){return new $o(o)}var eo=$o.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,a){this._url=o,a=I(this,a),a.detectRetina&&oe.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,a){return this._url===o&&a===void 0&&(a=!0),this._url=o,a||this.redraw(),this},createTile:function(o,a){var c=document.createElement("img");return le(c,"load",u(this._tileOnLoad,this,a,c)),le(c,"error",u(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(o),c},getTileUrl:function(o){var a={r:oe.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-o.y;this.options.tms&&(a.y=c),a["-y"]=c}return T(this._url,r(a,this.options))},_tileOnLoad:function(o,a){oe.ielt9?setTimeout(u(o,this,null,a),0):o(null,a)},_tileOnError:function(o,a,c){var g=this.options.errorTileUrl;g&&a.getAttribute("src")!==g&&(a.src=g),o(c,a)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,g=this.options.zoomOffset;return c&&(o=a-o),o+g},_getSubdomain:function(o){var a=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var o,a;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(a=this._tiles[o].el,a.onload=v,a.onerror=v,!a.complete)){a.src=z;var c=this._tiles[o].coords;Ve(a),delete this._tiles[o],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(o){var a=this._tiles[o];if(a)return a.el.setAttribute("src",z),$o.prototype._removeTile.call(this,o)},_tileReady:function(o,a,c){if(!(!this._map||c&&c.getAttribute("src")===z))return $o.prototype._tileReady.call(this,o,a,c)}});function Xc(o,a){return new eo(o,a)}var Qc=eo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,a){this._url=o;var c=r({},this.defaultWmsParams);for(var g in a)g in this.options||(c[g]=a[g]);a=I(this,a);var x=a.detectRetina&&oe.retina?2:1,w=this.getTileSize();c.width=w.x*x,c.height=w.y*x,this.wmsParams=c},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,eo.prototype.onAdd.call(this,o)},getTileUrl:function(o){var a=this._tileCoordsToNwSe(o),c=this._crs,g=re(c.project(a[0]),c.project(a[1])),x=g.min,w=g.max,N=(this._wmsVersion>=1.3&&this._crs===jc?[x.y,x.x,w.y,w.x]:[x.x,x.y,w.x,w.y]).join(","),A=eo.prototype.getTileUrl.call(this,o);return A+M(this.wmsParams,A,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(o,a){return r(this.wmsParams,o),a||this.redraw(),this}});function hv(o,a){return new Qc(o,a)}eo.WMS=Qc,Xc.wms=hv;var Cn=Yt.extend({options:{padding:.1},initialize:function(o){I(this,o),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),de(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,a){var c=this._map.getZoomScale(a,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,a),w=g.multiplyBy(-c).add(x).subtract(this._map._getNewPixelOrigin(o,a));oe.any3d?wi(this._container,w,c):We(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-o)).round();this._bounds=new ne(c,c.add(a.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ef=Cn.extend({options:{tolerance:0},getEvents:function(){var o=Cn.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Cn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");le(o,"mousemove",this._onMouseMove,this),le(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),le(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){Q(this._redrawRequest),delete this._ctx,Ve(this._container),Ae(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var a in this._layers)o=this._layers[a],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cn.prototype._update.call(this);var o=this._bounds,a=this._container,c=o.getSize(),g=oe.retina?2:1;We(a,o.min),a.width=g*c.x,a.height=g*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Cn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[p(o)]=o;var a=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var a=o._order,c=a.next,g=a.prev;c?c.prev=g:this._drawLast=g,g?g.next=c:this._drawFirst=c,delete o._order,delete this._layers[p(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var a=o.options.dashArray.split(/[, ]+/),c=[],g,x;for(x=0;x<a.length;x++){if(g=Number(a[x]),isNaN(g))return;c.push(g)}o.options._dashArray=c}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var a=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ne,this._redrawBounds.extend(o._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(o._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var a=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)o=g.layer,(!a||o._pxBounds&&o._pxBounds.intersects(a))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,a){if(this._drawing){var c,g,x,w,N=o._parts,A=N.length,R=this._ctx;if(A){for(R.beginPath(),c=0;c<A;c++){for(g=0,x=N[c].length;g<x;g++)w=N[c][g],R[g?"lineTo":"moveTo"](w.x,w.y);a&&R.closePath()}this._fillStroke(R,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var a=o._point,c=this._ctx,g=Math.max(Math.round(o._radius),1),x=(Math.max(Math.round(o._radiusY),1)||g)/g;x!==1&&(c.save(),c.scale(1,x)),c.beginPath(),c.arc(a.x,a.y/x,g,0,Math.PI*2,!1),x!==1&&c.restore(),this._fillStroke(c,o)}},_fillStroke:function(o,a){var c=a.options;c.fill&&(o.globalAlpha=c.fillOpacity,o.fillStyle=c.fillColor||c.color,o.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(o.setLineDash&&o.setLineDash(a.options&&a.options._dashArray||[]),o.globalAlpha=c.opacity,o.lineWidth=c.weight,o.strokeStyle=c.color,o.lineCap=c.lineCap,o.lineJoin=c.lineJoin,o.stroke())},_onClick:function(o){for(var a=this._map.mouseEventToLayerPoint(o),c,g,x=this._drawFirst;x;x=x.next)c=x.layer,c.options.interactive&&c._containsPoint(a)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(c))&&(g=c);this._fireEvent(g?[g]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,a)}},_handleMouseOut:function(o){var a=this._hoveredLayer;a&&(qe(this._container,"leaflet-interactive"),this._fireEvent([a],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,a){if(!this._mouseHoverThrottled){for(var c,g,x=this._drawFirst;x;x=x.next)c=x.layer,c.options.interactive&&c._containsPoint(a)&&(g=c);g!==this._hoveredLayer&&(this._handleMouseOut(o),g&&(de(this._container,"leaflet-interactive"),this._fireEvent([g],o,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,a,c){this._map._fireDOMEvent(a,c||a.type,o)},_bringToFront:function(o){var a=o._order;if(a){var c=a.next,g=a.prev;if(c)c.prev=g;else return;g?g.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(o)}},_bringToBack:function(o){var a=o._order;if(a){var c=a.next,g=a.prev;if(g)g.next=c;else return;c?c.prev=g:g&&(this._drawLast=g),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(o)}}});function tf(o){return oe.canvas?new ef(o):null}var Ko=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),pv={_initContainer:function(){this._container=we("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Cn.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var a=o._container=Ko("shape");de(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",o._path=Ko("path"),a.appendChild(o._path),this._updateStyle(o),this._layers[p(o)]=o},_addPath:function(o){var a=o._container;this._container.appendChild(a),o.options.interactive&&o.addInteractiveTarget(a)},_removePath:function(o){var a=o._container;Ve(a),o.removeInteractiveTarget(a),delete this._layers[p(o)]},_updateStyle:function(o){var a=o._stroke,c=o._fill,g=o.options,x=o._container;x.stroked=!!g.stroke,x.filled=!!g.fill,g.stroke?(a||(a=o._stroke=Ko("stroke")),x.appendChild(a),a.weight=g.weight+"px",a.color=g.color,a.opacity=g.opacity,g.dashArray?a.dashStyle=E(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=g.lineCap.replace("butt","flat"),a.joinstyle=g.lineJoin):a&&(x.removeChild(a),o._stroke=null),g.fill?(c||(c=o._fill=Ko("fill")),x.appendChild(c),c.color=g.fillColor||g.color,c.opacity=g.fillOpacity):c&&(x.removeChild(c),o._fill=null)},_updateCircle:function(o){var a=o._point.round(),c=Math.round(o._radius),g=Math.round(o._radiusY||c);this._setPath(o,o._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+g+" 0,"+65535*360)},_setPath:function(o,a){o._path.v=a},_bringToFront:function(o){Ji(o._container)},_bringToBack:function(o){$i(o._container)}},ds=oe.vml?Ko:ln,Yo=Cn.extend({_initContainer:function(){this._container=ds("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ds("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ve(this._container),Ae(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cn.prototype._update.call(this);var o=this._bounds,a=o.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),We(c,o.min),c.setAttribute("viewBox",[o.min.x,o.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(o){var a=o._path=ds("path");o.options.className&&de(a,o.options.className),o.options.interactive&&de(a,"leaflet-interactive"),this._updateStyle(o),this._layers[p(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Ve(o._path),o.removeInteractiveTarget(o._path),delete this._layers[p(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var a=o._path,c=o.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(o,a){this._setPath(o,qi(o._parts,a))},_updateCircle:function(o){var a=o._point,c=Math.max(Math.round(o._radius),1),g=Math.max(Math.round(o._radiusY),1)||c,x="a"+c+","+g+" 0 1,0 ",w=o._empty()?"M0 0":"M"+(a.x-c)+","+a.y+x+c*2+",0 "+x+-c*2+",0 ";this._setPath(o,w)},_setPath:function(o,a){o._path.setAttribute("d",a)},_bringToFront:function(o){Ji(o._path)},_bringToBack:function(o){$i(o._path)}});oe.vml&&Yo.include(pv);function nf(o){return oe.svg||oe.vml?new Yo(o):null}ye.include({getRenderer:function(o){var a=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var a=this._paneRenderers[o];return a===void 0&&(a=this._createRenderer({pane:o}),this._paneRenderers[o]=a),a},_createRenderer:function(o){return this.options.preferCanvas&&tf(o)||nf(o)}});var of=Xi.extend({initialize:function(o,a){Xi.prototype.initialize.call(this,this._boundsToLatLngs(o),a)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=he(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function mv(o,a){return new of(o,a)}Yo.create=ds,Yo.pointsToPath=qi,Tn.geometryToLayer=is,Tn.coordsToLatLng=vl,Tn.coordsToLatLngs=os,Tn.latLngToCoords=_l,Tn.latLngsToCoords=rs,Tn.getFeature=Qi,Tn.asFeature=ss,ye.mergeOptions({boxZoom:!0});var rf=cn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){le(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ae(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ve(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Go(),tl(),this._startPoint=this._map.mouseEventToContainerPoint(o),le(document,{contextmenu:Ci,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=we("div","leaflet-zoom-box",this._container),de(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var a=new ne(this._point,this._startPoint),c=a.getSize();We(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Ve(this._box),qe(this._container,"leaflet-crosshair")),Oo(),nl(),Ae(document,{contextmenu:Ci,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var a=new Ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ye.addInitHook("addHandler","boxZoom",rf),ye.mergeOptions({doubleClickZoom:!0});var sf=cn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var a=this._map,c=a.getZoom(),g=a.options.zoomDelta,x=o.originalEvent.shiftKey?c-g:c+g;a.options.doubleClickZoom==="center"?a.setZoom(x):a.setZoomAround(o.containerPoint,x)}});ye.addInitHook("addHandler","doubleClickZoom",sf),ye.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var af=cn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new On(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}de(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){qe(this._map._container,"leaflet-grab"),qe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=he(this._map.options.maxBounds);this._offsetLimit=re(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,a){return o-(o-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;o.x<a.min.x&&(o.x=this._viscousLimit(o.x,a.min.x)),o.y<a.min.y&&(o.y=this._viscousLimit(o.y,a.min.y)),o.x>a.max.x&&(o.x=this._viscousLimit(o.x,a.max.x)),o.y>a.max.y&&(o.y=this._viscousLimit(o.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,a=Math.round(o/2),c=this._initialWorldOffset,g=this._draggable._newPos.x,x=(g-a+c)%o+a-c,w=(g+a+c)%o-a-c,N=Math.abs(x+c)<Math.abs(w+c)?x:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(o){var a=this._map,c=a.options,g=!c.inertia||o.noInertia||this._times.length<2;if(a.fire("dragend",o),g)a.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,N=c.easeLinearity,A=x.multiplyBy(N/w),R=A.distanceTo([0,0]),G=Math.min(c.inertiaMaxSpeed,R),ee=A.multiplyBy(G/R),se=G/(c.inertiaDeceleration*N),pe=ee.multiplyBy(-se/2).round();!pe.x&&!pe.y?a.fire("moveend"):(pe=a._limitOffset(pe,a.options.maxBounds),$(function(){a.panBy(pe,{duration:se,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});ye.addInitHook("addHandler","dragging",af),ye.mergeOptions({keyboard:!0,keyboardPanDelta:80});var lf=cn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),le(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ae(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,a=document.documentElement,c=o.scrollTop||a.scrollTop,g=o.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(g,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var a=this._panKeys={},c=this.keyCodes,g,x;for(g=0,x=c.left.length;g<x;g++)a[c.left[g]]=[-1*o,0];for(g=0,x=c.right.length;g<x;g++)a[c.right[g]]=[o,0];for(g=0,x=c.down.length;g<x;g++)a[c.down[g]]=[0,o];for(g=0,x=c.up.length;g<x;g++)a[c.up[g]]=[0,-1*o]},_setZoomDelta:function(o){var a=this._zoomKeys={},c=this.keyCodes,g,x;for(g=0,x=c.zoomIn.length;g<x;g++)a[c.zoomIn[g]]=o;for(g=0,x=c.zoomOut.length;g<x;g++)a[c.zoomOut[g]]=-o},_addHooks:function(){le(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ae(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var a=o.keyCode,c=this._map,g;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(g=this._panKeys[a],o.shiftKey&&(g=U(g).multiplyBy(3)),c.options.maxBounds&&(g=c._limitOffset(U(g),c.options.maxBounds)),c.options.worldCopyJump){var x=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(g)));c.panTo(x)}else c.panBy(g)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;Ci(o)}}});ye.addInitHook("addHandler","keyboard",lf),ye.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var uf=cn.extend({addHooks:function(){le(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ae(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var a=Mc(o),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var g=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),g),Ci(o)},_performZoom:function(){var o=this._map,a=o.getZoom(),c=this._map.options.zoomSnap||0;o._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,w=c?Math.ceil(x/c)*c:x,N=o._limitZoom(a+(this._delta>0?w:-w))-a;this._delta=0,this._startTime=null,N&&(o.options.scrollWheelZoom==="center"?o.setZoom(a+N):o.setZoomAround(this._lastMousePos,a+N))}});ye.addInitHook("addHandler","scrollWheelZoom",uf);var gv=600;ye.mergeOptions({tapHold:oe.touchNative&&oe.safari&&oe.mobile,tapTolerance:15});var df=cn.extend({addHooks:function(){le(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ae(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var a=o.touches[0];this._startPos=this._newPos=new b(a.clientX,a.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(le(document,"touchend",ot),le(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),gv),le(document,"touchend touchcancel contextmenu",this._cancel,this),le(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Ae(document,"touchend",ot),Ae(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Ae(document,"touchend touchcancel contextmenu",this._cancel,this),Ae(document,"touchmove",this._onMove,this)},_onMove:function(o){var a=o.touches[0];this._newPos=new b(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,a){var c=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});ye.addInitHook("addHandler","tapHold",df),ye.mergeOptions({touchZoom:oe.touch,bounceAtZoomLimits:!0});var cf=cn.extend({addHooks:function(){de(this._map._container,"leaflet-touch-zoom"),le(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){qe(this._map._container,"leaflet-touch-zoom"),Ae(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var a=this._map;if(!(!o.touches||o.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(o.touches[0]),g=a.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(g)._divideBy(2))),this._startDist=c.distanceTo(g),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),le(document,"touchmove",this._onTouchMove,this),le(document,"touchend touchcancel",this._onTouchEnd,this),ot(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(o.touches[0]),g=a.mouseEventToContainerPoint(o.touches[1]),x=c.distanceTo(g)/this._startDist;if(this._zoom=a.getScaleZoom(x,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&x<1||this._zoom>a.getMaxZoom()&&x>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var w=c._add(g)._divideBy(2)._subtract(this._centerPoint);if(x===1&&w.x===0&&w.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),Q(this._animRequest);var N=u(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(N,this,!0),ot(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Q(this._animRequest),Ae(document,"touchmove",this._onTouchMove,this),Ae(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ye.addInitHook("addHandler","touchZoom",cf),ye.BoxZoom=rf,ye.DoubleClickZoom=sf,ye.Drag=af,ye.Keyboard=lf,ye.ScrollWheelZoom=uf,ye.TapHold=df,ye.TouchZoom=cf,n.Bounds=ne,n.Browser=oe,n.CRS=fe,n.Canvas=ef,n.Circle=yl,n.CircleMarker=ns,n.Class=Ne,n.Control=Kt,n.DivIcon=Yc,n.DivOverlay=fn,n.DomEvent=Ly,n.DomUtil=My,n.Draggable=On,n.Evented=Ie,n.FeatureGroup=wn,n.GeoJSON=Tn,n.GridLayer=$o,n.Handler=cn,n.Icon=Yi,n.ImageOverlay=as,n.LatLng=ue,n.LatLngBounds=Ce,n.Layer=Yt,n.LayerGroup=Ki,n.LineUtil=Wy,n.Map=ye,n.Marker=ts,n.Mixin=Hy,n.Path=qn,n.Point=b,n.PolyUtil=Gy,n.Polygon=Xi,n.Polyline=Sn,n.Popup=ls,n.PosAnimation=Rc,n.Projection=Jy,n.Rectangle=of,n.Renderer=Cn,n.SVG=Yo,n.SVGOverlay=Kc,n.TileLayer=eo,n.Tooltip=us,n.Transformation=Zt,n.Util=ve,n.VideoOverlay=$c,n.bind=u,n.bounds=re,n.canvas=tf,n.circle=nv,n.circleMarker=tv,n.control=Zo,n.divIcon=cv,n.extend=r,n.featureGroup=Xy,n.geoJSON=Jc,n.geoJson=rv,n.gridLayer=fv,n.icon=Qy,n.imageOverlay=sv,n.latLng=V,n.latLngBounds=he,n.layerGroup=Yy,n.map=Dy,n.marker=ev,n.point=U,n.polygon=ov,n.polyline=iv,n.popup=uv,n.rectangle=mv,n.setOptions=I,n.stamp=p,n.svg=nf,n.svgOverlay=lv,n.tileLayer=Xc,n.tooltip=dv,n.transformation=Ue,n.version=i,n.videoOverlay=av;var yv=window.L;n.noConflict=function(){return window.L=yv,this},window.L=n})})(ed,ed.exports);var PN=ed.exports;const mn=om(PN),ry=({initialLat:e,initialLng:t,onConfirm:n,onCancel:i})=>{const r=D.useRef(null),s=D.useRef(null);D.useEffect(()=>{if(!r.current)return;const p=e||35.6892,m=t||51.389;s.current||(s.current=mn.map(r.current,{center:[p,m],zoom:15,zoomControl:!1,attributionControl:!1}),mn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap contributors"}).addTo(s.current))},[]);const u=()=>{s.current&&"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(p=>{var m;(m=s.current)==null||m.setView([p.coords.latitude,p.coords.longitude],17)},p=>{console.error(p),alert("    ")})},f=()=>{if(!s.current)return;const p=s.current.getCenter();n(p.lat,p.lng)};return h.jsxs("div",{className:"fixed inset-0 !z-[9999] bg-slate-50 dark:bg-[#0F172A] flex flex-col animate-fade-in font-['Vazirmatn'] max-w-lg mx-auto left-0 right-0 shadow-2xl",children:[h.jsxs("div",{className:"absolute top-0 left-0 right-0 !z-[9999] p-4 bg-gradient-to-b from-black/60 to-transparent pointer-events-none",children:[h.jsx("h3",{className:"text-white text-center font-bold text-lg shadow-sm",children:"     "}),h.jsx("p",{className:"text-white/90 text-center text-xs mt-1",children:"           "})]}),h.jsxs("div",{className:"flex-1 relative w-full h-full",children:[h.jsx("div",{ref:r,className:"w-full h-full bg-gray-200 z-0"}),h.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 !z-[9999] pointer-events-none mb-8",children:h.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[h.jsx(mi,{size:48,className:"text-red-600 drop-shadow-2xl fill-red-600/20 -mt-12",strokeWidth:2}),h.jsx("div",{className:"w-2 h-2 bg-black/40 rounded-full absolute top-full transform -translate-y-2 blur-[2px]"})]})}),h.jsx("button",{onClick:u,className:"absolute bottom-6 right-6 !z-[9999] bg-white p-4 rounded-full shadow-2xl border border-gray-100 text-blue-600 active:scale-95 transition-transform",children:h.jsx(Wr,{size:24})})]}),h.jsxs("div",{className:"bg-white dark:bg-[#1E293B] p-4 shadow-[0_-5px_30px_rgba(0,0,0,0.15)] flex gap-4 !z-[9999] border-t border-gray-200 dark:border-white/5 relative",children:[h.jsxs("button",{onClick:i,className:"flex-1 py-4 rounded-2xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-300 font-bold text-sm flex items-center justify-center gap-2 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:[h.jsx(At,{size:18}),""]}),h.jsxs("button",{onClick:f,className:"flex-[2] py-4 rounded-2xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold text-sm shadow-lg shadow-blue-600/30 flex items-center justify-center gap-2 active:scale-95 transition-transform",children:[h.jsx(_0,{size:20}),"   "]})]})]})},sy=async e=>new Promise((t,n)=>{const u=new FileReader;u.readAsDataURL(e),u.onload=f=>{var m;const p=new Image;p.src=(m=f.target)==null?void 0:m.result,p.onload=()=>{var I;let y=p.width,v=p.height;y>v?y>1280&&(v*=1280/y,y=1280):v>1280&&(y*=1280/v,v=1280);const _=document.createElement("canvas");_.width=y,_.height=v;const S=_.getContext("2d");if(!S){t((I=f.target)==null?void 0:I.result);return}S.drawImage(p,0,0,y,v);const k=_.toDataURL("image/webp",.7);t(k)},p.onerror=y=>n(y)},u.onerror=f=>n(f)}),AN=["","","","","","","","","","","",""],bN=[1403,1404,1405,1406],ce=({label:e,icon:t,onIconClick:n,...i})=>h.jsxs("div",{className:"flex flex-col gap-1 mb-3",children:[h.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:e}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{...i,className:`bg-gray-100 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl p-3 text-slate-800 dark:text-white text-sm focus:border-purple-500 outline-none transition-all text-right dir-rtl placeholder-gray-400 w-full ${t?"pl-10":""}`}),t&&h.jsx("button",{type:"button",onClick:n,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-purple-500 transition-colors",children:t})]})]}),Vt=({label:e,options:t,...n})=>h.jsxs("div",{className:"flex flex-col gap-1 mb-3",children:[h.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:e}),h.jsxs("div",{className:"relative",children:[h.jsx("select",{...n,className:"w-full bg-gray-100 dark:bg-[#1E293B] border border-gray-200 dark:border-white/10 rounded-xl p-3 text-slate-800 dark:text-white text-sm focus:border-purple-500 outline-none dir-rtl appearance-none",children:t.map(i=>h.jsx("option",{value:i.value,children:i.label},i.value))}),h.jsx(x0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]})]}),_n=e=>{const t=e.replace(/\D/g,"");return t?parseInt(t,10):void 0},xn=e=>e?e.toLocaleString():"",ay=({date:e,time:t,onDateChange:n,onTimeChange:i})=>{const r=()=>{if(e){const E=e.split("/");if(E.length===3)return{jy:parseInt(E[0]),jm:parseInt(E[1]),jd:parseInt(E[2])}}const C=new Date;return im.toJalaali(C)},[s,u]=D.useState(r()),[f,p]=D.useState(s.jm),[m,y]=D.useState(s.jy),[v,_]=D.useState({hour:(t==null?void 0:t.split(":")[0])||"10",minute:(t==null?void 0:t.split(":")[1])||"00"});D.useEffect(()=>{if(e){const C=e.split("/");C.length===3&&u({jy:parseInt(C[0]),jm:parseInt(C[1]),jd:parseInt(C[2])})}},[e]),D.useEffect(()=>{if(t){const C=t.split(":");C.length===2&&_({hour:C[0],minute:C[1]})}},[t]);const S=im.jalaaliMonthLength(m,f),k=Array.from({length:S},(C,T)=>T+1),I=C=>{const T=`${m}/${f}/${C}`;n(T),u({jy:m,jm:f,jd:C})},M=(C,T)=>{let E=T.replace(/\D/g,"").slice(0,2);if(C==="hour"){parseInt(E)>23&&(E="23");const P=`${E.padStart(2,"0")}:${v.minute}`;_(z=>({...z,hour:E.padStart(2,"0")})),i(P)}else{parseInt(E)>59&&(E="59");const P=`${v.hour}:${E.padStart(2,"0")}`;_(z=>({...z,minute:E.padStart(2,"0")})),i(P)}};return h.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-4 border border-gray-200 dark:border-white/5 mb-4 animate-fade-in",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("select",{value:m,onChange:C=>y(Number(C.target.value)),className:"bg-white dark:bg-black/20 rounded-lg p-1 text-xs outline-none text-slate-800 dark:text-white",children:bN.map(C=>h.jsx("option",{value:C,children:C},C))}),h.jsx("select",{value:f,onChange:C=>p(Number(C.target.value)),className:"bg-white dark:bg-black/20 rounded-lg p-1 text-xs outline-none text-slate-800 dark:text-white",children:AN.map((C,T)=>h.jsx("option",{value:T+1,children:C},T))})]}),h.jsxs("div",{className:"text-xs text-gray-500",children:[s.jy,"/",s.jm,"/",s.jd]})]}),h.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-4 text-center",children:[["","","","","","",""].map(C=>h.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:C},C)),k.map(C=>h.jsx("button",{onClick:T=>{T.preventDefault(),I(C)},className:`aspect-square rounded-lg text-xs flex items-center justify-center transition-colors ${s.jd===C&&s.jm===f&&s.jy===m?"bg-purple-500 text-white shadow-md":"hover:bg-gray-200 dark:hover:bg-white/10 text-slate-700 dark:text-gray-300"}`,children:C},C))]}),h.jsxs("div",{className:"flex items-center gap-2 border-t border-gray-200 dark:border-white/10 pt-3",children:[h.jsx(lw,{size:16,className:"text-gray-400"}),h.jsx("span",{className:"text-xs text-gray-500",children:":"}),h.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-black/20 rounded-lg px-2 py-1 border border-gray-200 dark:border-white/10 dir-ltr",children:[h.jsx("input",{type:"text",value:v.hour,onChange:C=>M("hour",C.target.value),className:"w-6 bg-transparent text-center outline-none font-bold text-slate-800 dark:text-white",placeholder:"10"}),h.jsx("span",{className:"text-gray-400",children:":"}),h.jsx("input",{type:"text",value:v.minute,onChange:C=>M("minute",C.target.value),className:"w-6 bg-transparent text-center outline-none font-bold text-slate-800 dark:text-white",placeholder:"00"})]})]})]})},MN=({onSubmit:e,onCancel:t,initialData:n})=>{var _;const[i,r]=D.useState(n||{category:"residential",type:"",transactionType:"sale",features:[],images:[],hasElevator:!1,hasParking:!1,hasStorage:!1,deedStatus:""}),[s,u]=D.useState(!1),[f,p]=D.useState(!1),m=async S=>{if(S.target.files&&S.target.files.length>0){u(!0);const k=[],I=Array.from(S.target.files);for(const M of I)try{const C=await sy(M);k.push(C)}catch(C){console.error("Compression failed",C);const T=new FileReader,E=await new Promise(P=>{T.onloadend=()=>P(T.result),T.readAsDataURL(M)});k.push(E)}r(M=>({...M,images:[...M.images||[],...k]})),u(!1)}},y=S=>{m(S)},v=(S,k)=>{r(I=>({...I,lat:S,lng:k})),p(!1)};return f?h.jsx(ry,{initialLat:i.lat,initialLng:i.lng,onConfirm:v,onCancel:()=>p(!1)}):h.jsxs("div",{className:"p-6 pb-24 animate-fade-in",children:[h.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:n?"  ":"  "}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(Vt,{label:".  ",options:[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],value:i.type,onChange:S=>r({...i,type:S.target.value})}),h.jsx(Vt,{label:".  ",options:[{value:"sale",label:""},{value:"rent",label:"  "},{value:"mortgage",label:" "},{value:"presale",label:""}],value:i.transactionType,onChange:S=>r({...i,transactionType:S.target.value})}),h.jsx(ce,{label:".  ",value:i.address,onChange:S=>r({...i,address:S.target.value}),icon:h.jsx(mi,{size:16})}),h.jsxs("div",{className:"flex items-center justify-between bg-gray-100 dark:bg-white/5 p-3 rounded-xl border border-gray-200 dark:border-white/10",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`p-2 rounded-full ${i.lat?"bg-green-500 text-white":"bg-gray-200 dark:bg-white/10 text-gray-500"}`,children:h.jsx(Wr,{size:18})}),h.jsxs("div",{children:[h.jsx("span",{className:"text-xs font-bold block text-slate-700 dark:text-white",children:"  ()"}),h.jsx("span",{className:"text-[10px] text-gray-500 block",children:i.lat?" ":" "})]})]}),h.jsx("button",{onClick:()=>p(!0),className:"text-xs font-bold text-blue-500 bg-blue-50 dark:bg-blue-500/10 px-3 py-2 rounded-lg",children:i.lat?"  ":"  "})]}),h.jsx(ce,{label:".  ()",type:"number",value:i.area,onChange:S=>r({...i,area:Number(S.target.value)}),icon:h.jsx(mw,{size:16})}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsx(ce,{label:".  ",type:"number",value:i.bedrooms,onChange:S=>r({...i,bedrooms:Number(S.target.value)})}),h.jsx(ce,{label:". ",type:"number",value:i.floor,onChange:S=>r({...i,floor:Number(S.target.value)})}),h.jsx(ce,{label:".  ",type:"number",value:i.yearBuilt,onChange:S=>r({...i,yearBuilt:Number(S.target.value)})})]}),h.jsxs("div",{className:"bg-white dark:bg-white/5 p-3 rounded-xl border border-gray-200 dark:border-white/5",children:[h.jsx("label",{className:"text-xs text-gray-500 block mb-3",children:" "}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>r({...i,hasElevator:!i.hasElevator}),className:`flex-1 py-2.5 rounded-xl text-xs font-bold border transition-colors flex items-center justify-center gap-1 ${i.hasElevator?"bg-purple-500 text-white border-purple-500":"border-gray-200 dark:border-white/10 text-gray-500"}`,children:[i.hasElevator&&h.jsx(li,{size:12})," . "]}),h.jsxs("button",{onClick:()=>r({...i,hasParking:!i.hasParking}),className:`flex-1 py-2.5 rounded-xl text-xs font-bold border transition-colors flex items-center justify-center gap-1 ${i.hasParking?"bg-purple-500 text-white border-purple-500":"border-gray-200 dark:border-white/10 text-gray-500"}`,children:[i.hasParking&&h.jsx(li,{size:12})," . "]}),h.jsxs("button",{onClick:()=>r({...i,hasStorage:!i.hasStorage}),className:`flex-1 py-2.5 rounded-xl text-xs font-bold border transition-colors flex items-center justify-center gap-1 ${i.hasStorage?"bg-purple-500 text-white border-purple-500":"border-gray-200 dark:border-white/10 text-gray-500"}`,children:[i.hasStorage&&h.jsx(li,{size:12})," . "]})]})]}),i.transactionType==="sale"||i.transactionType==="presale"?h.jsx(ce,{label:".   ()",inputMode:"numeric",value:xn(i.priceTotal),onChange:S=>r({...i,priceTotal:_n(S.target.value)}),icon:h.jsx(ui,{size:16})}):h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(ce,{label:".  ()",inputMode:"numeric",value:xn(i.priceDeposit),onChange:S=>r({...i,priceDeposit:_n(S.target.value)})}),h.jsx(ce,{label:".   ()",inputMode:"numeric",value:xn(i.priceRent),onChange:S=>r({...i,priceRent:_n(S.target.value)})})]}),h.jsx(Vt,{label:".  ",options:[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"  ",label:"  "}],value:i.deedStatus,onChange:S=>r({...i,deedStatus:S.target.value})}),h.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 p-3 rounded-xl border border-gray-200 dark:border-white/5",children:[h.jsx("p",{className:"text-xs font-bold text-gray-400 mb-2",children:" "}),h.jsx(ce,{label:".  ",value:i.ownerName,onChange:S=>r({...i,ownerName:S.target.value})}),h.jsx(ce,{label:".   ",type:"tel",value:i.ownerPhone,onChange:S=>r({...i,ownerPhone:S.target.value})})]}),h.jsx(ce,{label:".  ",className:"h-24",value:i.description,onChange:S=>r({...i,description:S.target.value})}),h.jsxs("div",{className:"flex justify-between items-center px-2",children:[h.jsx("span",{className:"text-xs text-gray-500",children:".  :"}),h.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:i.date||new Date().toLocaleDateString("fa-IR")})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 block",children:"  (  )"}),h.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[h.jsxs("label",{className:"flex-shrink-0 w-20 h-20 bg-blue-50 dark:bg-blue-900/20 rounded-xl border-2 border-dashed border-blue-300 dark:border-blue-700 flex flex-col items-center justify-center cursor-pointer",children:[h.jsx(Kd,{size:24,className:"text-blue-500 mb-1"}),h.jsx("span",{className:"text-[10px] text-blue-600",children:""}),h.jsx("input",{type:"file",capture:"environment",accept:"image/*",onChange:y,className:"hidden"})]}),h.jsxs("label",{className:"flex-shrink-0 w-20 h-20 bg-gray-100 dark:bg-white/5 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 flex flex-col items-center justify-center cursor-pointer relative",children:[s?h.jsx(Ga,{className:"animate-spin text-gray-400",size:24}):h.jsx(ya,{size:24,className:"text-gray-400 mb-1"}),h.jsx("span",{className:"text-[10px] text-gray-500",children:""}),h.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:m,className:"hidden"})]}),(_=i.images)==null?void 0:_.map((S,k)=>h.jsxs("div",{className:"flex-shrink-0 w-20 h-20 rounded-xl overflow-hidden relative group border border-gray-200 dark:border-white/10",children:[h.jsx("img",{src:S,className:"w-full h-full object-cover",alt:"preview"}),h.jsx("button",{type:"button",onClick:()=>r(I=>{var M;return{...I,images:(M=I.images)==null?void 0:M.filter((C,T)=>T!==k)}}),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(At,{size:12})})]},k))]})]})]}),h.jsxs("div",{className:"flex gap-3 mt-8",children:[h.jsx("button",{onClick:t,className:"flex-1 py-3.5 bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-300 rounded-xl font-bold",children:""}),h.jsx("button",{onClick:()=>e(i),className:"flex-1 py-3.5 bg-purple-600 text-white rounded-xl font-bold shadow-lg shadow-purple-600/30",children:s?"  ...":"  "})]})]})},RN=({onSubmit:e,onCancel:t,initialData:n})=>{var S;const[i,r]=D.useState(n||{category:"commercial",type:"",transactionType:"sale",features:[],images:[],hasOpenCeiling:!1,facilities:[],status:"",commercialDeedType:"",locationType:"  "}),[s,u]=D.useState(!1),[f,p]=D.useState(!1),m=k=>{const I=i.facilities||[];I.includes(k)?r({...i,facilities:I.filter(M=>M!==k)}):r({...i,facilities:[...I,k]})},y=async k=>{if(k.target.files&&k.target.files.length>0){u(!0);const I=[],M=Array.from(k.target.files);for(const C of M)try{const T=await sy(C);I.push(T)}catch(T){console.error("Compression error",T);const E=new FileReader,P=await new Promise(z=>{E.onloadend=()=>z(E.result),E.readAsDataURL(C)});I.push(P)}r(C=>({...C,images:[...C.images||[],...I]})),u(!1)}},v=k=>y(k),_=(k,I)=>{r(M=>({...M,lat:k,lng:I})),p(!1)};return f?h.jsx(ry,{initialLat:i.lat,initialLng:i.lng,onConfirm:_,onCancel:()=>p(!1)}):h.jsxs("div",{className:"p-6 pb-24 animate-fade-in",children:[h.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:n?"  ":"  "}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(Vt,{label:".   ",options:[{value:"",label:""},{value:" ",label:" "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],value:i.type,onChange:k=>r({...i,type:k.target.value})}),h.jsx(Vt,{label:".  ",options:[{value:"sale",label:""},{value:"rent",label:"  "},{value:"mortgage",label:" "},{value:"participation",label:""}],value:i.transactionType,onChange:k=>r({...i,transactionType:k.target.value})}),h.jsx(ce,{label:".  ",value:i.address,onChange:k=>r({...i,address:k.target.value}),icon:h.jsx(mi,{size:16})}),h.jsxs("div",{className:"flex items-center justify-between bg-gray-100 dark:bg-white/5 p-3 rounded-xl border border-gray-200 dark:border-white/10",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`p-2 rounded-full ${i.lat?"bg-green-500 text-white":"bg-gray-200 dark:bg-white/10 text-gray-500"}`,children:h.jsx(Wr,{size:18})}),h.jsxs("div",{children:[h.jsx("span",{className:"text-xs font-bold block text-slate-700 dark:text-white",children:"  ()"}),h.jsx("span",{className:"text-[10px] text-gray-500 block",children:i.lat?" ":" "})]})]}),h.jsx("button",{onClick:()=>p(!0),className:"text-xs font-bold text-blue-500 bg-blue-50 dark:bg-blue-500/10 px-3 py-2 rounded-lg",children:i.lat?"  ":"  "})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(ce,{label:".  ()",type:"number",value:i.area,onChange:k=>r({...i,area:Number(k.target.value)})}),h.jsx(ce,{label:".   ()",type:"number",value:i.frontage,onChange:k=>r({...i,frontage:Number(k.target.value)})}),h.jsx(ce,{label:".   ()",type:"number",value:i.length,onChange:k=>r({...i,length:Number(k.target.value)})}),h.jsx(ce,{label:".   ()",type:"number",value:i.height,onChange:k=>r({...i,height:Number(k.target.value)})})]}),h.jsxs("div",{className:"flex gap-3 items-center my-2 justify-between bg-gray-50 dark:bg-white/5 p-3 rounded-xl",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500",children:".   "}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>r({...i,hasOpenCeiling:!0}),className:`px-3 py-1.5 rounded-lg text-xs font-bold border transition-colors ${i.hasOpenCeiling?"bg-green-500 text-white":"bg-gray-200 dark:bg-white/10"}`,children:" "}),h.jsx("button",{onClick:()=>r({...i,hasOpenCeiling:!1}),className:`px-3 py-1.5 rounded-lg text-xs font-bold border transition-colors ${i.hasOpenCeiling?"bg-gray-200 dark:bg-white/10":"bg-red-500 text-white"}`,children:" "})]})]}),h.jsx(Vt,{label:".  ",options:[{value:"  ",label:"  "},{value:" ",label:" "},{value:" ",label:" "}],value:i.locationType,onChange:k=>r({...i,locationType:k.target.value})}),h.jsx(Vt,{label:".  ",options:[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],value:i.commercialDeedType,onChange:k=>r({...i,commercialDeedType:k.target.value})}),i.transactionType==="sale"||i.transactionType==="participation"?h.jsx(ce,{label:".   ()",inputMode:"numeric",value:xn(i.priceTotal),onChange:k=>r({...i,priceTotal:_n(k.target.value)}),icon:h.jsx(ui,{size:16})}):h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(ce,{label:".  ()",inputMode:"numeric",value:xn(i.priceDeposit),onChange:k=>r({...i,priceDeposit:_n(k.target.value)})}),h.jsx(ce,{label:".  ",inputMode:"numeric",value:xn(i.priceRent),onChange:k=>r({...i,priceRent:_n(k.target.value)})})]}),h.jsx(Vt,{label:".   ",options:[{value:"",label:""},{value:" ",label:" "},{value:"",label:""}],value:i.status,onChange:k=>r({...i,status:k.target.value})}),h.jsxs("div",{className:"bg-white dark:bg-white/5 p-3 rounded-xl border border-gray-200 dark:border-white/10",children:[h.jsx("label",{className:"text-xs text-gray-500 block mb-3",children:". "}),h.jsx("div",{className:"grid grid-cols-3 gap-2",children:[" ","","",""," ",""].map(k=>{var I;return h.jsx("button",{onClick:()=>m(k),className:`py-2 rounded-lg text-[10px] font-bold border transition-colors ${(I=i.facilities)!=null&&I.includes(k)?"bg-blue-500 text-white border-blue-500":"border-gray-200 dark:border-white/10 text-gray-500"}`,children:k},k)})})]}),h.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 p-3 rounded-xl border border-gray-200 dark:border-white/5 mt-2",children:[h.jsx("p",{className:"text-xs font-bold text-gray-400 mb-2",children:" "}),h.jsx(ce,{label:".  ",value:i.ownerName,onChange:k=>r({...i,ownerName:k.target.value})}),h.jsx(ce,{label:".   ",type:"tel",value:i.ownerPhone,onChange:k=>r({...i,ownerPhone:k.target.value})})]}),h.jsx(ce,{label:".  ",className:"h-24",value:i.description,onChange:k=>r({...i,description:k.target.value})}),h.jsxs("div",{className:"flex justify-between items-center px-2",children:[h.jsx("span",{className:"text-xs text-gray-500",children:".  :"}),h.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:i.date||new Date().toLocaleDateString("fa-IR")})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 block",children:" "}),h.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[h.jsxs("label",{className:"flex-shrink-0 w-20 h-20 bg-blue-50 dark:bg-blue-900/20 rounded-xl border-2 border-dashed border-blue-300 dark:border-blue-700 flex flex-col items-center justify-center cursor-pointer",children:[h.jsx(Kd,{size:24,className:"text-blue-500 mb-1"}),h.jsx("span",{className:"text-[10px] text-blue-600",children:""}),h.jsx("input",{type:"file",capture:"environment",accept:"image/*",onChange:v,className:"hidden"})]}),h.jsxs("label",{className:"flex-shrink-0 w-20 h-20 bg-gray-100 dark:bg-white/5 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 flex flex-col items-center justify-center cursor-pointer relative",children:[s?h.jsx(Ga,{className:"animate-spin text-gray-400",size:24}):h.jsx(ya,{size:24,className:"text-gray-400 mb-1"}),h.jsx("span",{className:"text-[10px] text-gray-500",children:""}),h.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:y,className:"hidden"})]}),(S=i.images)==null?void 0:S.map((k,I)=>h.jsxs("div",{className:"flex-shrink-0 w-20 h-20 rounded-xl overflow-hidden relative group",children:[h.jsx("img",{src:k,className:"w-full h-full object-cover",alt:""}),h.jsx("button",{type:"button",onClick:()=>r(M=>{var C;return{...M,images:(C=M.images)==null?void 0:C.filter((T,E)=>E!==I)}}),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(At,{size:12})})]},I))]})]})]}),h.jsxs("div",{className:"flex gap-3 mt-8",children:[h.jsx("button",{onClick:t,className:"flex-1 py-3.5 bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-300 rounded-xl font-bold",children:""}),h.jsx("button",{onClick:()=>e(i),className:"flex-1 py-3.5 bg-blue-600 text-white rounded-xl font-bold shadow-lg shadow-blue-600/30",children:s?"  ...":"  "})]})]})},LN=({onSubmit:e,onCancel:t,initialData:n})=>{var v;const[i,r]=D.useState(n||{requestType:"sale",propertyType:"residential",reminders:[]}),[s,u]=D.useState({date:"",time:"10:00",title:""}),[f,p]=D.useState(!1),m=()=>{if(!s.title){alert("     ");return}if(!s.date){alert("     "),p(!0);return}const _={id:Date.now().toString(),title:s.title,date:s.date,time:s.time||"10:00",isCompleted:!1};r(S=>({...S,reminders:[...S.reminders||[],_]})),u({date:"",time:"10:00",title:""}),p(!1)},y=_=>{r(S=>{var k;return{...S,reminders:(k=S.reminders)==null?void 0:k.filter(I=>I.id!==_)}})};return h.jsxs("div",{className:"p-6 pb-24 animate-fade-in",children:[h.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:n?" ":"  "}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(ce,{label:".  ",value:i.name,onChange:_=>r({...i,name:_.target.value})}),h.jsx(ce,{label:".  ",type:"tel",value:i.phone,onChange:_=>r({...i,phone:_.target.value})}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(Vt,{label:".  ",options:[{value:"sale",label:""},{value:"rent",label:""},{value:"mortgage",label:""}],value:i.requestType,onChange:_=>r({...i,requestType:_.target.value})}),h.jsx(Vt,{label:".    ",options:[{value:"residential",label:""},{value:"commercial",label:""},{value:"office",label:""}],value:i.propertyType,onChange:_=>r({...i,propertyType:_.target.value})})]}),h.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 p-3 rounded-xl border border-gray-200 dark:border-white/5",children:[h.jsx("label",{className:"text-xs text-gray-500 block mb-2",children:".     ()"}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(ce,{placeholder:"...",inputMode:"numeric",value:xn(i.budgetMin),onChange:_=>r({...i,budgetMin:_n(_.target.value)})}),h.jsx(ce,{placeholder:"...",inputMode:"numeric",value:xn(i.budgetMax),onChange:_=>r({...i,budgetMax:_n(_.target.value)})})]})]}),h.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 p-3 rounded-xl border border-gray-200 dark:border-white/5",children:[h.jsx("label",{className:"text-xs text-gray-500 block mb-2",children:".    ()"}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(ce,{placeholder:"...",type:"number",value:i.areaMin,onChange:_=>r({...i,areaMin:Number(_.target.value)})}),h.jsx(ce,{placeholder:"...",type:"number",value:i.areaMax,onChange:_=>r({...i,areaMax:Number(_.target.value)})})]})]}),h.jsx(ce,{label:".  /   ",value:i.locationPref,onChange:_=>r({...i,locationPref:_.target.value}),icon:h.jsx(mi,{size:16})}),h.jsx(ce,{label:".    ",placeholder:"    ...",value:i.essentials,onChange:_=>r({...i,essentials:_.target.value})}),h.jsx(ce,{label:".  ",className:"h-24",value:i.description,onChange:_=>r({...i,description:_.target.value})}),h.jsxs("div",{className:"flex justify-between items-center px-2",children:[h.jsx("span",{className:"text-xs text-gray-500",children:".  :"}),h.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:i.date||new Date().toLocaleDateString("fa-IR")})]}),h.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/10 p-4 rounded-2xl border border-orange-100 dark:border-orange-500/20 mt-4 transition-all duration-300",children:[h.jsxs("h3",{className:"text-sm font-bold text-orange-600 dark:text-orange-400 mb-3 flex items-center gap-2",children:[h.jsx(Ur,{size:16}),""]}),h.jsxs("div",{className:"mb-4 space-y-2",children:[h.jsx(ce,{label:" ",placeholder:":  ",value:s.title,onChange:_=>u({...s,title:_.target.value})}),h.jsxs("button",{onClick:()=>p(!f),className:`w-full flex items-center justify-between p-3 rounded-xl text-xs font-bold border transition-all ${s.date?"bg-white dark:bg-white/10 text-slate-800 dark:text-white border-orange-200 dark:border-orange-500/30":"bg-orange-100 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 border-transparent"}`,children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx($d,{size:16}),s.date?`${s.date} -  ${s.time}`:"    "]}),f?h.jsx(aw,{size:16}):h.jsx(x0,{size:16})]}),f&&h.jsx("div",{className:"animate-fade-in pt-2",children:h.jsx(ay,{date:s.date||"",time:s.time||"10:00",onDateChange:_=>u(S=>({...S,date:_})),onTimeChange:_=>u(S=>({...S,time:_}))})}),h.jsx("button",{onClick:m,className:"w-full py-3 bg-orange-500 text-white rounded-xl text-xs font-bold shadow-md active:scale-95 transition-transform mt-2",children:"   "})]}),h.jsxs("div",{className:"space-y-2",children:[(v=i.reminders)==null?void 0:v.map(_=>h.jsxs("div",{className:"bg-white dark:bg-black/20 p-2 rounded-xl flex justify-between items-center border border-orange-100 dark:border-white/5",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-xs font-bold block text-slate-700 dark:text-white",children:_.title}),h.jsxs("span",{className:"text-[10px] text-gray-500",children:[_.date," - ",_.time]})]}),h.jsx("button",{onClick:()=>y(_.id),className:"text-red-500 p-1",children:h.jsx(At,{size:14})})]},_.id)),(!i.reminders||i.reminders.length===0)&&h.jsx("p",{className:"text-[10px] text-center text-gray-400 py-2",children:"    "})]})]})]}),h.jsxs("div",{className:"flex gap-3 mt-8",children:[h.jsx("button",{onClick:t,className:"flex-1 py-3.5 bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-300 rounded-xl font-bold",children:""}),h.jsx("button",{onClick:()=>e(i),className:"flex-1 py-3.5 bg-orange-500 text-white rounded-xl font-bold shadow-lg shadow-orange-500/30",children:" "})]})]})},DN=({onSubmit:e,onCancel:t,initialData:n})=>{var s;const[i,r]=D.useState(n||{agentPercentage:40,totalCommission:0});return D.useEffect(()=>{if(i.propertyPrice&&!n){const u=i.propertyPrice*.01;r(f=>({...f,totalCommission:u}))}},[i.propertyPrice]),D.useEffect(()=>{if(i.totalCommission&&i.agentPercentage){const u=i.totalCommission*(i.agentPercentage/100);r(f=>({...f,agentShare:u}))}},[i.totalCommission,i.agentPercentage]),h.jsxs("div",{className:"p-6 pb-24 animate-fade-in",children:[h.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:"   "}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(ce,{label:"  / ",value:i.buyerName,onChange:u=>r({...i,buyerName:u.target.value})}),h.jsx(ce,{label:"  / ",value:i.sellerName,onChange:u=>r({...i,sellerName:u.target.value})}),h.jsx(ce,{label:" ",placeholder:"1403/01/01",value:i.contractDate,onChange:u=>r({...i,contractDate:u.target.value}),icon:h.jsx($d,{size:16})}),h.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-4 rounded-2xl border border-emerald-100 dark:border-emerald-500/20 space-y-3",children:[h.jsx(ce,{label:"  ",inputMode:"numeric",value:xn(i.propertyPrice),onChange:u=>r({...i,propertyPrice:_n(u.target.value)}),icon:h.jsx(ui,{size:16})}),h.jsx(ce,{label:"  ",inputMode:"numeric",value:xn(i.totalCommission),onChange:u=>r({...i,totalCommission:_n(u.target.value)}),icon:h.jsx(rw,{size:16})}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"flex-1",children:h.jsx(ce,{label:"  ",type:"number",value:i.agentPercentage,onChange:u=>r({...i,agentPercentage:Number(u.target.value)})})}),h.jsx("div",{className:"flex-1 pt-4",children:h.jsxs("div",{className:"bg-white dark:bg-black/20 p-3 rounded-xl border border-emerald-200 dark:border-white/10",children:[h.jsx("span",{className:"text-xs text-gray-500 block",children:" "}),h.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:(s=i.agentShare)==null?void 0:s.toLocaleString()})]})})]})]})]}),h.jsxs("div",{className:"flex gap-3 mt-8",children:[h.jsx("button",{onClick:t,className:"flex-1 py-3.5 bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-300 rounded-xl font-bold",children:""}),h.jsx("button",{onClick:()=>e(i),className:"flex-1 py-3.5 bg-emerald-600 text-white rounded-xl font-bold shadow-lg shadow-emerald-600/30",children:" "})]})]})},zN=({onSubmit:e,onCancel:t,initialData:n})=>{const[i,r]=D.useState(n||{priority:"medium",type:"schedule",isCompleted:!1}),[s,u]=D.useState(null),[f,p]=D.useState(!1),m=async()=>{if(!i.title){alert("      ");return}p(!0);const y=await TN(i.title,i.priority||"medium");y?(u(y),r(v=>({...v,date:y.date,time:y.time}))):alert("     .    ."),p(!1)};return h.jsxs("div",{className:"p-6 pb-24 animate-fade-in",children:[h.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:n?" ":" "}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(ce,{label:" ",value:i.title,onChange:y=>r({...i,title:y.target.value})}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(Vt,{label:"",options:[{value:"schedule",label:""},{value:"routine",label:""},{value:"reminder",label:""}],value:i.type,onChange:y=>r({...i,type:y.target.value})}),h.jsx(Vt,{label:"",options:[{value:"low",label:""},{value:"medium",label:""},{value:"high",label:""}],value:i.priority,onChange:y=>r({...i,priority:y.target.value})})]}),h.jsxs("button",{onClick:m,disabled:f,className:"w-full py-3 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 mb-2",children:[f?h.jsx(Ga,{className:"animate-spin"}):h.jsx(qs,{size:18}),h.jsx("span",{children:"   AI"})]}),s&&h.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-xl border border-purple-100 dark:border-purple-500/30 mb-2 text-xs text-purple-700 dark:text-purple-300",children:[h.jsx("span",{className:"font-bold block mb-1",children:"  :"}),s.reason]}),h.jsx(ay,{date:i.date||"",time:i.time||"",onDateChange:y=>r(v=>({...v,date:y})),onTimeChange:y=>r(v=>({...v,time:y}))}),h.jsx(ce,{label:" ",className:"h-24",value:i.description,onChange:y=>r({...i,description:y.target.value})})]}),h.jsxs("div",{className:"flex gap-3 mt-8",children:[h.jsx("button",{onClick:t,className:"flex-1 py-3.5 bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-300 rounded-xl font-bold",children:""}),h.jsx("button",{onClick:()=>e(i),className:"flex-1 py-3.5 bg-pink-600 text-white rounded-xl font-bold shadow-lg shadow-pink-600/30",children:" "})]})]})},FN=({property:e,onDelete:t,onEdit:n,onClick:i})=>{var f,p;const r=()=>{var v,_,S;const m=e.transactionType==="sale"?` : ${(v=e.priceTotal)==null?void 0:v.toLocaleString()} `:`: ${(_=e.priceDeposit)==null?void 0:_.toLocaleString()}  | : ${(S=e.priceRent)==null?void 0:S.toLocaleString()} `,y=`
        ${e.title}
        : ${e.address}
        : ${e.area} 
        ${m}
        : ${e.description}
        `.trim();navigator.clipboard.writeText(y),alert("  ")},s=async()=>{if(e.images&&e.images.length>0){const m=e.images[0];try{if(m.startsWith("blob:")||m.startsWith("data:")){const k=document.createElement("a");k.href=m,k.download=`property-${e.id}.jpg`,document.body.appendChild(k),k.click(),document.body.removeChild(k);return}const y=await fetch(m);if(!y.ok)throw new Error("Network response was not ok");const v=await y.blob(),_=window.URL.createObjectURL(v),S=document.createElement("a");S.href=_,S.download=`property-${e.id}.jpg`,document.body.appendChild(S),S.click(),document.body.removeChild(S),window.URL.revokeObjectURL(_)}catch(y){console.error("Download error, falling back to direct link:",y);const v=document.createElement("a");v.href=m,v.target="_blank",v.download=`property-${e.id}.jpg`,document.body.appendChild(v),v.click(),document.body.removeChild(v)}}},u=async()=>{var v,_,S;const m=e.transactionType==="sale"?`: ${(v=e.priceTotal)==null?void 0:v.toLocaleString()} `:`: ${(_=e.priceDeposit)==null?void 0:_.toLocaleString()} | : ${(S=e.priceRent)==null?void 0:S.toLocaleString()}`,y=`
 ${e.title}
 ${e.address}
 ${e.area}  | ${e.type}
 ${m}

${e.description}

 : ${e.ownerPhone}
`.trim();if(navigator.share)try{await navigator.share({title:e.title,text:y})}catch(k){console.error("Share failed",k)}else navigator.clipboard.writeText(y),alert("     ")};return h.jsxs("div",{className:"bg-white dark:bg-[#1c1c1e] dark:backdrop-blur-md dark:bg-opacity-60 rounded-3xl overflow-hidden border border-gray-200 dark:border-white/10 mb-4 shadow-lg dark:shadow-lg group transition-colors duration-300 cursor-pointer active:scale-95 transform transition-transform",onClick:i,children:[h.jsxs("div",{className:"relative h-48 w-full overflow-hidden",children:[h.jsx("img",{src:e.images[0]||"https://picsum.photos/600/400",className:"w-full h-full object-cover",alt:e.title}),h.jsx("div",{className:"absolute top-2 right-2 bg-black/50 backdrop-blur-md px-2 py-1 rounded-lg text-xs text-white border border-white/10",children:e.category==="commercial"?"":""})]}),h.jsxs("div",{className:"p-4",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white text-lg",children:[e.type," ",e.area," "]}),h.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-xs flex items-center gap-1 mt-1",children:[h.jsx(mi,{size:10})," ",e.address]})]}),h.jsx("div",{className:"text-left",children:e.transactionType==="sale"?h.jsxs("span",{className:"block text-green-600 dark:text-green-400 font-bold text-sm",children:[(f=e.priceTotal)==null?void 0:f.toLocaleString()," ",h.jsx("span",{className:"text-[10px]",children:""})]}):h.jsxs("div",{className:"flex flex-col items-end",children:[h.jsxs("span",{className:"block text-green-600 dark:text-green-400 font-bold text-sm",children:[": ",(p=e.priceRent)==null?void 0:p.toLocaleString()]}),e.priceDeposit&&h.jsxs("span",{className:"text-gray-400 text-xs mt-0.5",children:[": ",e.priceDeposit.toLocaleString()]})]})})]}),h.jsxs("div",{className:"flex gap-2 mt-3 border-t border-gray-100 dark:border-white/5 pt-3",children:[h.jsx(Nn,{icon:h.jsx(Xd,{size:16}),onClick:()=>window.location.href=`tel:${e.ownerPhone}`,color:"bg-green-500/10 text-green-600 dark:bg-green-500/20 dark:text-green-400"}),h.jsx(Nn,{icon:h.jsx(T0,{size:16}),onClick:u,color:"bg-indigo-500/10 text-indigo-600 dark:bg-indigo-500/20 dark:text-indigo-400"}),h.jsx(Nn,{icon:h.jsx(w0,{size:16}),onClick:r,color:"bg-blue-500/10 text-blue-600 dark:bg-blue-500/20 dark:text-blue-400"}),h.jsx(Nn,{icon:h.jsx(Vr,{size:16}),onClick:s,color:"bg-yellow-500/10 text-yellow-600 dark:bg-yellow-500/20 dark:text-yellow-400"}),h.jsx("div",{className:"flex-1"}),h.jsx(Nn,{icon:h.jsx(Br,{size:16}),onClick:n,color:"bg-gray-100 text-gray-600 dark:bg-white/5 dark:text-gray-300"}),h.jsx(Nn,{icon:h.jsx(Vi,{size:16}),onClick:t,color:"bg-red-500/10 text-red-600 dark:bg-red-500/20 dark:text-red-400"})]})]})]})},UN=({client:e,onDelete:t,onEdit:n})=>{var i;return h.jsxs("div",{className:"bg-white dark:bg-[#1c1c1e] backdrop-blur-md p-4 rounded-2xl border border-gray-200 dark:border-white/10 mb-3 flex flex-col gap-2 shadow-sm",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-pink-500 to-orange-500 flex items-center justify-center text-white font-bold",children:e.name.charAt(0)}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-slate-800 dark:text-white font-bold",children:e.name}),h.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.requestType==="sale"?"":""," ",e.propertyType==="commercial"?"":""]})]})]}),h.jsx("span",{className:"text-xs bg-gray-100 dark:bg-white/5 px-2 py-1 rounded h-fit text-gray-500 dark:text-gray-400",children:e.date})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600 dark:text-gray-300 mt-1 bg-gray-50 dark:bg-black/20 p-2 rounded-xl",children:[h.jsxs("span",{children:[": ",(i=e.budgetMax)==null?void 0:i.toLocaleString()]}),h.jsxs("span",{children:[": ",e.locationPref]})]}),e.reminders&&e.reminders.length>0&&h.jsxs("div",{className:"mt-1 text-[10px] text-purple-600 dark:text-purple-300 flex items-center gap-1",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full animate-pulse"}),": ",e.reminders[0].date,"  ",e.reminders[0].time]}),h.jsxs("div",{className:"flex gap-2 mt-2 justify-end",children:[h.jsx(Nn,{icon:h.jsx(Xd,{size:14}),onClick:()=>window.location.href=`tel:${e.phone}`,color:"bg-green-500/10 text-green-600 dark:text-green-400 p-2"}),h.jsx(Nn,{icon:h.jsx(Br,{size:14}),onClick:n,color:"bg-gray-100 text-gray-600 dark:bg-white/5 dark:text-gray-300 p-2"}),h.jsx(Nn,{icon:h.jsx(Vi,{size:14}),onClick:t,color:"bg-red-500/10 text-red-600 dark:text-red-400 p-2"})]})]})},Nn=({icon:e,onClick:t,color:n})=>h.jsx("button",{onClick:i=>{i.stopPropagation(),t()},className:`rounded-xl flex items-center justify-center transition-colors ${n} ${n.includes("p-")?"":"p-2"}`,children:e}),ly=({properties:e,hideControls:t})=>{const n=D.useRef(null),i=D.useRef(null),r=D.useRef([]);D.useEffect(()=>{if(!n.current)return;i.current||(i.current=mn.map(n.current,{center:[35.6892,51.389],zoom:12,zoomControl:!1,attributionControl:!1}),t||mn.control.zoom({position:"bottomleft"}).addTo(i.current));const u="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png";i.current.eachLayer(p=>{p instanceof mn.TileLayer&&p.remove()}),mn.tileLayer(u,{maxZoom:19,attribution:"&copy; OpenStreetMap contributors"}).addTo(i.current),r.current.forEach(p=>p.remove()),r.current=[];const f=mn.latLngBounds([]);e.forEach(p=>{var m,y;if(p.lat&&p.lng){const _=`<div style="background-color: ${p.category==="residential"?"#a855f7":"#3b82f6"}; width: 14px; height: 14px; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);"></div>`,S=mn.divIcon({className:"custom-marker",html:_,iconSize:[14,14],iconAnchor:[7,7]}),k=mn.marker([p.lat,p.lng],{icon:S}).addTo(i.current).bindPopup(`
                    <div style="font-family: Vazirmatn; text-align: right; direction: rtl; min-width: 150px;">
                        <h4 style="font-weight: bold; margin-bottom: 4px; font-size: 14px;">${p.title}</h4>
                        <p style="font-size: 11px; color: #666; margin-bottom: 8px;">${p.address}</p>
                        <div style="border-top: 1px solid #eee; padding-top: 4px; color: #10b981; font-weight: bold; font-size: 12px;">
                            ${p.transactionType==="sale"?`${(m=p.priceTotal)==null?void 0:m.toLocaleString()} `:`: ${(y=p.priceRent)==null?void 0:y.toLocaleString()}`}
                        </div>
                    </div>
                `);r.current.push(k),f.extend([p.lat,p.lng])}}),e.length>0&&f.isValid()&&i.current.fitBounds(f,{padding:[50,50]}),setTimeout(()=>{var p;(p=i.current)==null||p.invalidateSize()},100)},[e,t]);const s=()=>{i.current&&("geolocation"in navigator?navigator.geolocation.getCurrentPosition(u=>{var m;const{latitude:f,longitude:p}=u.coords;(m=i.current)==null||m.setView([f,p],15),mn.circleMarker([f,p],{radius:8,fillColor:"#10b981",color:"#fff",weight:2,opacity:1,fillOpacity:1}).addTo(i.current)},u=>{console.error("Geolocation error:",u),alert("    ")}):alert("      "))};return h.jsxs("div",{className:"w-full h-full relative z-0",children:[h.jsx("div",{ref:n,className:"w-full h-full bg-gray-100 rounded-3xl overflow-hidden"}),!t&&h.jsx("button",{onClick:s,className:"absolute bottom-6 right-4 !z-[9999] bg-white p-2 rounded-xl shadow-lg text-slate-700 transition-transform active:scale-95",children:h.jsx(Wr,{size:20})})]})},VN=({property:e,onBack:t,onEdit:n,onDelete:i})=>{var ji,yi,Hn,Jt,vi,Zi;const[r,s]=D.useState(0),[u,f]=D.useState(!1),[p,m]=D.useState(!1),[y,v]=D.useState(""),[_,S]=D.useState(!1),[k,I]=D.useState(!1),[M,C]=D.useState(!1),[T,E]=D.useState(0),[P,z]=D.useState("residential"),[F,H]=D.useState(null),Z=D.useRef(null),[W,q]=D.useState(!1),[$,Q]=D.useState("setup"),[ve,Ne]=D.useState(0),[Fe,ge]=D.useState(""),[Ie,b]=D.useState(null),[K,U]=D.useState(!1),[ne,re]=D.useState(null),[Ce,he]=D.useState(null),ue=50,V=e.images&&e.images.length>0?e.images:["https://picsum.photos/800/600"],fe=J=>{he(null),re(J.targetTouches[0].clientX)},xe=J=>{he(J.targetTouches[0].clientX)},Ze=()=>{if(!ne||!Ce)return;const J=ne-Ce,O=J>ue,Pe=J<-ue;O&&s(et=>(et+1)%V.length),Pe&&s(et=>(et-1+V.length)%V.length)},Et=()=>f(!u),Zt=async()=>{var O,Pe;const J=`
 ${e.title}
 ${e.address}
 ${e.area} 
 : ${e.transactionType==="sale"?(O=e.priceTotal)==null?void 0:O.toLocaleString():`: ${(Pe=e.priceDeposit)==null?void 0:Pe.toLocaleString()}`}

     
`;if(navigator.share)try{await navigator.share({title:e.title,text:J})}catch{}else navigator.clipboard.writeText(J),alert("  ")},Ue=async()=>{m(!0),S(!0),v(""),I(!1);const J=await xN(e);v(J||"   .    ."),S(!1)},Wt=()=>{navigator.clipboard.writeText(y),I(!0),setTimeout(()=>I(!1),2e3)},Oi=J=>{if(!e.lat||!e.lng)return;const{lat:O,lng:Pe}=e;J==="google"?window.open(`https://www.google.com/maps/search/?api=1&query=${O},${Pe}`,"_blank"):J==="waze"&&window.open(`https://waze.com/ul?ll=${O},${Pe}&navigate=yes`,"_blank"),U(!1)},ln=async()=>{if(!Fe){alert("       ");return}Q("loading"),b(null);const J=V[ve],O=await wN(J,Fe);O?(b(O),Q("result")):(alert("   .      API   ."),Q("setup"))},qi=J=>{setTimeout(()=>{J.target.scrollIntoView({behavior:"smooth",block:"center"})},300)},Vn=()=>{const J=Z.current;if(!J)return;const O=J.getContext("2d");if(!O)return;const Pe=new Image;Pe.crossOrigin="Anonymous",Pe.src=V[T],Pe.onload=()=>{var $t,B,X,ae;J.width=1080,J.height=1080;const et=Math.max(J.width/Pe.width,J.height/Pe.height),_i=J.width/2-Pe.width/2*et,Gn=J.height/2-Pe.height/2*et;if(O.drawImage(Pe,_i,Gn,Pe.width*et,Pe.height*et),P==="residential"){const Ee=O.createLinearGradient(0,500,0,1080);Ee.addColorStop(0,"transparent"),Ee.addColorStop(.6,"rgba(15, 23, 42, 0.9)"),Ee.addColorStop(1,"rgba(15, 23, 42, 1)"),O.fillStyle=Ee,O.fillRect(0,400,1080,680),O.fillStyle="rgba(0,0,0,0.5)",O.fillRect(800,40,240,80),O.fillStyle="#FACC15",O.font="bold 35px Vazirmatn, sans-serif",O.textAlign="center",O.fillText(" ",920,90),O.fillStyle="#334155",O.fillRect(830,400,250,160),O.fillStyle="#fff",O.textAlign="center",O.font="bold 60px Vazirmatn, sans-serif",O.fillText(`${e.area} `,955,470),O.font="30px Vazirmatn, sans-serif",O.fillText(e.type,955,520),O.textAlign="right",O.fillStyle="#fff",O.font="bold 55px Vazirmatn, sans-serif",Bn(O,e.title||"",1040,820,1e3,70),O.textAlign="left",O.fillStyle="#10b981",O.font="bold 65px Vazirmatn, sans-serif";const ke=e.transactionType==="sale"?`${($t=e.priceTotal)==null?void 0:$t.toLocaleString()} `:`${(B=e.priceRent)==null?void 0:B.toLocaleString()} `;O.fillText(ke,40,1020),O.fillStyle="#94a3b8",O.font="35px Vazirmatn, sans-serif";const ht=e.address||"";O.fillText(ht.split("")[1]||ht,1040,920),O.textAlign="right"}else if(P==="commercial"){O.fillStyle="#FACC15",O.fillRect(0,0,1080,150),O.fillStyle="#000",O.fillRect(0,900,1080,180),O.save(),O.translate(0,0),O.rotate(-45*Math.PI/180),O.fillStyle="#DC2626",O.fillRect(-200,100,600,80),O.fillStyle="#fff",O.font="bold 40px Vazirmatn, sans-serif",O.fillText(" ",0,155),O.restore(),O.fillStyle="#000",O.font="bold 60px Vazirmatn, sans-serif",O.textAlign="center",O.fillText(e.type+" "+e.area+" ",540,100),O.textAlign="right",O.fillStyle="#FACC15",O.font="bold 50px Vazirmatn, sans-serif";const Ee=e.transactionType==="sale"?`: ${(X=e.priceTotal)==null?void 0:X.toLocaleString()}`:`: ${(ae=e.priceRent)==null?void 0:ae.toLocaleString()}`;O.fillText(Ee,1040,990),O.fillStyle="#fff",O.font="35px Vazirmatn, sans-serif",O.fillText(e.address||"",1040,1050),O.textAlign="left",O.fillStyle="#9ca3af",O.fillText("",40,1040)}else{O.fillStyle="rgba(255, 255, 255, 0.95)",O.fillRect(30,880,1020,170),O.fillStyle="#1e293b",O.textAlign="center",O.font="bold 45px Vazirmatn, sans-serif",O.fillText(e.title||"",540,950),O.fillStyle="#64748b",O.font="35px Vazirmatn, sans-serif";const Ee=`${e.area}   |  ${e.type}  |   `;O.fillText(Ee,540,1010)}H(J.toDataURL("image/jpeg",.9))}},Bn=(J,O,Pe,et,_i,Gn)=>{const $t=O.split(" ");let B="";for(let X=0;X<$t.length;X++){const ae=B+$t[X]+" ";J.measureText(ae).width>_i&&X>0?(J.fillText(B,Pe,et),B=$t[X]+" ",et+=Gn):B=ae}J.fillText(B,Pe,et)};return D.useEffect(()=>{if(M){const J=setTimeout(()=>{Vn()},500);return()=>clearTimeout(J)}},[M,P,T]),h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"fixed inset-0 z-[70] flex flex-col animate-slide-up bg-slate-50/95 dark:bg-[#0F172A]/95 backdrop-blur-xl overflow-hidden max-w-lg mx-auto left-0 right-0",children:[h.jsxs("div",{className:"flex-1 overflow-y-auto pb-32 custom-scrollbar relative",children:[h.jsxs("div",{className:"relative h-[35vh] w-full bg-black group cursor-pointer touch-pan-y",onTouchStart:fe,onTouchMove:xe,onTouchEnd:Ze,onClick:Et,children:[h.jsx("img",{src:V[r],className:"w-full h-full object-cover opacity-90",alt:e.title}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-transparent to-black/60"}),h.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 pt-6 flex justify-between items-start z-20",onClick:J=>J.stopPropagation(),children:[h.jsx("button",{onClick:t,className:"w-10 h-10 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all shadow-lg",children:h.jsx(v0,{size:24})}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>q(!0),className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-pink-500 backdrop-blur-md rounded-full flex items-center justify-center text-white shadow-lg hover:scale-105 transition-transform",title:" ",children:h.jsx(Jl,{size:20})}),h.jsx("button",{onClick:()=>C(!0),className:"w-10 h-10 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all shadow-lg",title:"  ",children:h.jsx(ya,{size:20})}),h.jsx("button",{onClick:Ue,className:"w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-600 backdrop-blur-md rounded-full flex items-center justify-center text-white shadow-lg animate-pulse hover:scale-105 transition-transform",title:"  ",children:h.jsx(_a,{size:20})}),h.jsx("button",{onClick:Zt,className:"w-10 h-10 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all shadow-lg",children:h.jsx(T0,{size:20})}),h.jsx("button",{onClick:()=>n(e),className:"w-10 h-10 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all shadow-lg",children:h.jsx(Br,{size:20})})]})]}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:h.jsxs("div",{className:"bg-black/40 backdrop-blur-sm px-4 py-2 rounded-full text-white text-xs flex items-center gap-2",children:[h.jsx(Aw,{size:16}),""]})}),V.length>1&&h.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex gap-1.5 z-10",children:V.map((J,O)=>h.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 shadow-sm ${O===r?"bg-white w-6":"bg-white/40 w-1.5"}`},O))})]}),h.jsxs("div",{className:"-mt-10 relative z-10 px-4 min-h-[60vh] pb-48",children:[h.jsxs("div",{className:"bg-white dark:bg-[#1E293B] rounded-3xl p-5 shadow-xl border border-gray-100 dark:border-white/5 mb-6 relative overflow-hidden",children:[h.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full ${e.transactionType==="sale"?"bg-emerald-500":"bg-blue-500"}`}),h.jsx("div",{className:"flex justify-between items-start mb-3",children:h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-md ${e.category==="residential"?"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-300":"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-300"}`,children:e.category==="residential"?"":""}),h.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-md ${e.transactionType==="sale"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-300"}`,children:e.transactionType==="sale"?"":e.transactionType==="rent"?"":""})]}),h.jsx("h1",{className:"text-xl font-extrabold text-slate-800 dark:text-white leading-snug",children:e.title})]})}),h.jsxs("div",{className:"flex items-center gap-1 text-gray-500 dark:text-gray-400 text-xs mb-4",children:[h.jsx(mi,{size:14,className:"text-red-500"}),h.jsx("span",{children:e.address})]}),h.jsx("div",{className:"bg-gray-50 dark:bg-black/20 rounded-2xl p-3 flex justify-between items-center",children:e.transactionType==="sale"?h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:" "}),h.jsxs("span",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:[(ji=e.priceTotal)==null?void 0:ji.toLocaleString()," ",h.jsx("span",{className:"text-xs font-normal text-gray-500",children:""})]})]}):h.jsxs("div",{className:"flex flex-col w-full gap-1",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-xs text-gray-500",children:":"}),h.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-gray-300",children:[(yi=e.priceDeposit)==null?void 0:yi.toLocaleString()," "]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-xs text-gray-500",children:":"}),h.jsxs("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400",children:[(Hn=e.priceRent)==null?void 0:Hn.toLocaleString()," "]})]})]})})]}),h.jsxs("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 mb-3 flex items-center gap-2",children:[h.jsx(fw,{size:16}),"  "]}),h.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-6",children:[h.jsx(io,{title:"",value:`${e.area} `,icon:h.jsx(vw,{size:14})}),h.jsx(io,{title:" ",value:e.yearBuilt||"-",icon:h.jsx($d,{size:14})}),h.jsx(io,{title:" ",value:e.type,icon:h.jsx(ow,{size:14})}),h.jsx(io,{title:e.transactionType==="sale"?" ":"",value:e.transactionType==="sale"?`${(e.priceTotal||0)/1e6} M`:(Jt=e.priceRent)==null?void 0:Jt.toLocaleString(),icon:h.jsx(ui,{size:14}),highlight:!0}),h.jsx(io,{title:"",value:e.deedStatus||e.commercialDeedType||"-",icon:h.jsx(C0,{size:14})}),h.jsx(io,{title:" ",value:e.id.slice(-4),icon:h.jsx(dw,{size:14})})]}),h.jsxs("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 mb-3 flex items-center gap-2",children:[h.jsx(li,{size:16}),"   "]}),h.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.bedrooms&&h.jsx(Zn,{label:`${e.bedrooms} `}),e.floor&&h.jsx(Zn,{label:` ${e.floor}`}),e.hasElevator&&h.jsx(Zn,{label:""}),e.hasParking&&h.jsx(Zn,{label:""}),e.hasStorage&&h.jsx(Zn,{label:""}),e.hasOpenCeiling&&h.jsx(Zn,{label:" "}),(vi=e.features)==null?void 0:vi.map(J=>h.jsx(Zn,{label:J},J)),(Zi=e.facilities)==null?void 0:Zi.map(J=>h.jsx(Zn,{label:J},J))]}),h.jsxs("div",{className:"bg-white dark:bg-[#1E293B] rounded-3xl p-5 shadow-sm border border-gray-100 dark:border-white/5 mb-6",children:[h.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-white mb-3",children:" "}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 leading-7 text-justify",children:e.description||"    ."}),h.jsxs("button",{onClick:Ue,className:"w-full mt-4 py-3 rounded-2xl bg-gradient-to-r from-pink-50 to-purple-50 dark:from-pink-900/10 dark:to-purple-900/10 border border-pink-200 dark:border-pink-500/20 flex items-center justify-center gap-2 text-pink-600 dark:text-pink-400 font-bold text-xs hover:scale-[1.02] transition-transform",children:[h.jsx(qs,{size:16}),"    ()"]})]}),h.jsxs("div",{className:"bg-white dark:bg-[#1E293B] rounded-3xl p-2 shadow-sm border border-gray-100 dark:border-white/5 mb-6 overflow-hidden",children:[h.jsxs("div",{className:"flex justify-between items-center px-3 py-2",children:[h.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-white",children:"  "}),h.jsx("button",{onClick:()=>U(!0),className:"text-[10px] bg-blue-50 dark:bg-blue-900/20 text-blue-600 px-2 py-1 rounded-lg",children:""})]}),h.jsxs("div",{className:"h-40 w-full rounded-2xl overflow-hidden relative",onClick:()=>U(!0),children:[e.lat&&e.lng?h.jsx(ly,{properties:[e],hideControls:!0}):h.jsx("div",{className:"w-full h-full bg-gray-100 dark:bg-black/20 flex items-center justify-center text-gray-400 text-xs",children:"  "}),h.jsx("div",{className:"absolute inset-0 z-10"})]})]}),h.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 dark:from-black dark:to-slate-900 rounded-3xl p-5 text-white shadow-xl mb-24 relative overflow-hidden",children:[h.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center text-xl font-bold border border-white/20",children:e.ownerName.charAt(0)}),h.jsxs("div",{children:[h.jsx("span",{className:"text-xs text-gray-400 block",children:" "}),h.jsx("h4",{className:"text-lg font-bold",children:e.ownerName})]})]}),h.jsx("a",{href:`tel:${e.ownerPhone}`,className:"bg-green-500 hover:bg-green-400 text-white p-3 rounded-xl shadow-lg shadow-green-500/30 transition-transform active:scale-95",children:h.jsx(Xd,{size:20})})]}),h.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-white/5 rounded-full blur-2xl"}),h.jsx("div",{className:"absolute -bottom-10 -left-10 w-24 h-24 bg-blue-500/20 rounded-full blur-xl"})]})]})]}),h.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-white/80 dark:bg-[#0F172A]/80 backdrop-blur-lg border-t border-gray-200 dark:border-white/5 z-[80] max-w-lg mx-auto",children:h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:()=>i(e.id),className:"flex-1 py-4 bg-red-50 dark:bg-red-900/20 text-red-500 rounded-2xl font-bold text-sm flex items-center justify-center gap-2 hover:bg-red-100 transition-colors",children:[h.jsx(Vi,{size:18})," "]}),h.jsxs("button",{onClick:()=>q(!0),className:"flex-[2] py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-2xl font-bold text-sm shadow-lg shadow-purple-600/30 flex items-center justify-center gap-2 active:scale-95 transition-transform",children:[h.jsx(Jl,{size:20})," "]})]})})]}),p&&h.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:h.jsxs("div",{className:"bg-white dark:bg-[#1E293B] rounded-[30px] w-full max-w-md max-h-[80vh] flex flex-col shadow-2xl border border-white/10",children:[h.jsxs("div",{className:"p-5 border-b border-gray-100 dark:border-white/5 flex justify-between items-center",children:[h.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[h.jsx(qs,{className:"text-pink-500",size:20}),"  "]}),h.jsx("button",{onClick:()=>m(!1),children:h.jsx(At,{className:"text-gray-400"})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-5 bg-gray-50 dark:bg-black/20",children:_?h.jsxs("div",{className:"flex flex-col items-center justify-center py-10 gap-4",children:[h.jsx(Ga,{className:"animate-spin text-purple-500",size:40}),h.jsx("p",{className:"text-sm text-gray-500 animate-pulse",children:"     ..."})]}):h.jsx("div",{className:"bg-white dark:bg-[#1E293B] p-4 rounded-2xl border border-gray-200 dark:border-white/5 text-sm leading-7 whitespace-pre-line text-slate-700 dark:text-gray-300",children:y})}),h.jsx("div",{className:"p-5 border-t border-gray-100 dark:border-white/5",children:h.jsxs("button",{onClick:Wt,disabled:_||!y,className:`w-full py-4 rounded-2xl font-bold text-white flex items-center justify-center gap-2 shadow-lg transition-all ${k?"bg-green-500":"bg-purple-600 hover:bg-purple-700"}`,children:[k?h.jsx(_0,{size:20}):h.jsx(w0,{size:20}),k?" ! ":"  "]})})]})}),M&&h.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-md flex flex-col animate-fade-in",children:[h.jsxs("div",{className:"p-4 flex justify-between items-center text-white",children:[h.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[h.jsx(ya,{}),"   "]}),h.jsx("button",{onClick:()=>C(!1),className:"p-2 bg-white/10 rounded-full",children:h.jsx(At,{})})]}),h.jsxs("div",{className:"flex-1 flex items-center justify-center p-4 overflow-hidden",children:[h.jsx("div",{className:"relative shadow-2xl rounded-xl overflow-hidden max-w-full max-h-full",children:F?h.jsx("img",{src:F,className:"max-w-full max-h-[60vh] object-contain",alt:"Generated Ad"}):h.jsx("div",{className:"w-[300px] h-[300px] flex items-center justify-center bg-white/5 text-white",children:"Loading..."})}),h.jsx("canvas",{ref:Z,className:"hidden"})]}),h.jsxs("div",{className:"bg-[#1E293B] p-6 rounded-t-[30px] space-y-4",children:[h.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 no-scrollbar",children:["residential","commercial","minimal"].map(J=>h.jsx("button",{onClick:()=>z(J),className:`px-4 py-2 rounded-xl text-xs font-bold whitespace-nowrap border transition-all ${P===J?"bg-blue-500 text-white border-blue-500":"bg-white/5 text-gray-400 border-white/10"}`,children:J==="residential"?" ":J==="commercial"?" ":""},J))}),h.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:V.map((J,O)=>h.jsx("button",{onClick:()=>E(O),className:`w-14 h-14 rounded-lg overflow-hidden border-2 transition-all flex-shrink-0 ${T===O?"border-blue-500 scale-110":"border-transparent opacity-50"}`,children:h.jsx("img",{src:J,className:"w-full h-full object-cover",alt:""})},O))}),h.jsxs("button",{onClick:()=>{if(F){const J=document.createElement("a");J.download=`tehranak-ad-${e.id}.jpg`,J.href=F,J.click()}},className:"w-full py-4 bg-green-500 hover:bg-green-600 text-white rounded-2xl font-bold shadow-lg shadow-green-500/20 flex items-center justify-center gap-2",children:[h.jsx(Vr,{size:20}),"  "]})]})]}),W&&h.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-xl flex flex-col animate-fade-in",children:[h.jsx("button",{onClick:()=>q(!1),className:"absolute top-4 left-4 p-2 bg-white/10 rounded-full text-white z-20",children:h.jsx(At,{size:24})}),$==="setup"&&h.jsxs("div",{className:"flex flex-col h-full p-6 overflow-y-auto",children:[h.jsxs("div",{className:"text-center mb-8 mt-10",children:[h.jsx("div",{className:"w-20 h-20 bg-gradient-to-tr from-orange-500 to-pink-600 rounded-[30px] mx-auto flex items-center justify-center shadow-2xl shadow-orange-500/40 mb-4",children:h.jsx(Jl,{size:40,className:"text-white"})}),h.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"  "}),h.jsx("p",{className:"text-gray-400 text-sm",children:"          "})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 mb-3 block",children:".   "}),h.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:V.map((J,O)=>h.jsxs("div",{onClick:()=>Ne(O),className:`w-24 h-24 rounded-2xl overflow-hidden relative cursor-pointer transition-all ${ve===O?"ring-4 ring-orange-500 scale-105":"opacity-60"}`,children:[h.jsx("img",{src:J,className:"w-full h-full object-cover",alt:""}),ve===O&&h.jsx("div",{className:"absolute inset-0 bg-orange-500/20"})]},O))})]}),h.jsxs("div",{className:"flex-1 pb-40",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 mb-3 block",children:".   "}),h.jsx("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[" ","  ",""," /  ","  ",""].map(J=>h.jsx("button",{onClick:()=>ge(J),className:`py-3 rounded-xl text-xs font-bold border transition-all ${Fe===J?"bg-orange-500 text-white border-orange-500":"bg-white/5 text-gray-300 border-white/10"}`,children:J},J))}),h.jsx("textarea",{placeholder:"     ... (:      )",className:"w-full bg-white/5 border border-white/10 rounded-2xl p-4 text-white text-sm min-h-[100px] focus:border-orange-500 outline-none",value:Fe,onChange:J=>ge(J.target.value),onFocus:qi})]}),h.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-black/80 border-t border-white/10 max-w-lg mx-auto",children:h.jsxs("button",{onClick:ln,className:"w-full py-4 bg-gradient-to-r from-orange-500 to-pink-600 rounded-2xl text-white font-bold shadow-lg shadow-orange-500/30 flex items-center justify-center gap-2",children:[h.jsx(_a,{size:20})," "]})})]}),$==="loading"&&h.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-6 p-8 text-center",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-orange-500/30 animate-spin"}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsx(qs,{className:"text-orange-500 animate-pulse",size:32})})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"   ..."}),h.jsx("p",{className:"text-gray-400 text-sm",children:"       ."}),h.jsx("p",{className:"text-gray-500 text-xs mt-4",children:"        ."})]})]}),$==="result"&&h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsxs("div",{className:"flex-1 relative bg-black flex items-center justify-center overflow-hidden",children:[Ie&&h.jsx("img",{src:Ie,className:"w-full h-full object-contain",alt:"Staged Result"}),h.jsx("div",{className:"absolute bottom-4 left-4 bg-black/60 backdrop-blur px-3 py-1 rounded-lg text-white text-xs border border-white/10",children:"   AI"})]}),h.jsxs("div",{className:"p-6 bg-[#1E293B] rounded-t-[30px] border-t border-white/10 space-y-3",children:[h.jsx("h3",{className:"text-white font-bold text-center mb-2",children:" "}),h.jsxs("button",{onClick:()=>{if(Ie){const J=document.createElement("a");J.download=`tehranak-staging-${Date.now()}.jpg`,J.href=Ie,J.click()}},className:"w-full py-3.5 bg-green-500 hover:bg-green-600 text-white rounded-2xl font-bold shadow-lg flex items-center justify-center gap-2",children:[h.jsx(Vr,{size:20})," "]}),h.jsxs("button",{onClick:()=>Q("setup"),className:"w-full py-3.5 bg-white/10 text-white rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-white/20",children:[h.jsx(qu,{size:18})," "]})]})]})]}),K&&h.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-end animate-fade-in",onClick:()=>U(!1),children:h.jsxs("div",{className:"bg-white dark:bg-[#1E293B] w-full rounded-t-[30px] p-6 pb-10 animate-slide-up",onClick:J=>J.stopPropagation(),children:[h.jsx("h3",{className:"text-center font-bold text-slate-800 dark:text-white mb-6",children:" :"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("button",{onClick:()=>Oi("google"),className:"p-4 bg-gray-100 dark:bg-white/5 rounded-2xl flex flex-col items-center gap-2 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:[h.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-sm text-blue-500",children:h.jsx(S0,{size:24})}),h.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-gray-200",children:"Google Maps"})]}),h.jsxs("button",{onClick:()=>Oi("waze"),className:"p-4 bg-gray-100 dark:bg-white/5 rounded-2xl flex flex-col items-center gap-2 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-400 rounded-full flex items-center justify-center shadow-sm text-white",children:h.jsx(Wr,{size:24})}),h.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-gray-200",children:"Waze"})]})]})]})})]})},io=({title:e,value:t,icon:n,highlight:i})=>h.jsxs("div",{className:`p-2.5 rounded-2xl flex flex-col items-center justify-center gap-1.5 text-center border h-20 ${i?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-100 dark:border-emerald-500/30":"bg-gray-50 dark:bg-white/5 border-gray-100 dark:border-white/5"}`,children:[h.jsx("div",{className:`text-gray-400 ${i?"text-emerald-500":""}`,children:n}),h.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:e}),h.jsx("span",{className:`font-bold text-xs break-all line-clamp-1 ${i?"text-emerald-600 dark:text-emerald-400":"text-slate-800 dark:text-white"}`,children:t})]}),Zn=({label:e})=>h.jsx("span",{className:"text-[10px] bg-gray-100 dark:bg-white/10 text-gray-600 dark:text-gray-300 px-3 py-1.5 rounded-lg font-medium border border-gray-200 dark:border-white/5",children:e}),BN=({properties:e=[],onSelectProperty:t})=>{const n=e.filter(M=>M.images&&M.images.length>0),i=[{url:"https://picsum.photos/600/400?random=1",title:"  ",id:"default-1",data:null},{url:"https://picsum.photos/600/400?random=2",title:"  ",id:"default-2",data:null},{url:"https://picsum.photos/600/400?random=3",title:" ",id:"default-3",data:null}],r=n.length>0?n.slice(0,5).map(M=>({url:M.images[0],title:M.title,id:M.id,data:M})):i,[s,u]=D.useState(0),[f,p]=D.useState(!1),m=D.useRef(null),y=D.useRef(null),v=50;D.useEffect(()=>{if(f||r.length<=1)return;const M=setInterval(()=>{u(C=>(C+1)%r.length)},4e3);return()=>clearInterval(M)},[r.length,f]);const _=M=>{p(!0);const C="touches"in M?M.touches[0].clientX:M.clientX;m.current=C},S=M=>{const C="touches"in M?M.touches[0].clientX:M.clientX;y.current=C},k=()=>{if(p(!1),!m.current||!y.current)return;const M=m.current-y.current,C=M>v,T=M<-v;C&&u(E=>(E+1)%r.length),T&&u(E=>(E-1+r.length)%r.length),m.current=null,y.current=null},I=M=>{M.data&&t&&t(M.data)};return r.length===0?null:h.jsx("div",{className:"relative h-48 w-full perspective-1000 my-6 px-4 select-none touch-pan-y",onTouchStart:_,onTouchMove:S,onTouchEnd:k,onMouseDown:_,onMouseMove:S,onMouseUp:k,onMouseLeave:()=>p(!1),children:h.jsx("div",{className:"relative w-full h-full transform-style-3d",children:r.map((M,C)=>{const T=(C-s+r.length)%r.length;let E="translateZ(-100px) scale(0.9) translateX(0)",P=0,z=.5,F="none";return T===0?(E="translateZ(0) scale(1) translateX(0)",P=10,z=1,F="auto"):T===1?(E="translateZ(-50px) scale(0.8) translateX(50%)",P=5):T===r.length-1&&(E="translateZ(-50px) scale(0.8) translateX(-50%)",P=5),h.jsxs("div",{className:"absolute inset-0 rounded-2xl overflow-hidden shadow-2xl transition-all duration-700 ease-out border border-white/10 cursor-pointer",style:{transform:E,zIndex:P,opacity:z,pointerEvents:F},onClick:()=>I(M),children:[h.jsx("img",{src:M.url,className:"w-full h-full object-cover",alt:M.title}),h.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-4",children:h.jsx("span",{className:"text-white font-bold text-sm truncate block",children:M.title})})]},M.id)})})})},HN=({isOpen:e,onClose:t,theme:n,setTheme:i,users:r,setUsers:s,currentUser:u,onLogout:f})=>{const[p,m]=D.useState(""),[y,v]=D.useState(""),[_,S]=D.useState(null),[k,I]=D.useState(null),[M,C]=D.useState(!1),[T,E]=D.useState(localStorage.getItem("alexaEnabled")==="true"),[P,z]=D.useState(localStorage.getItem("alexaSpeaksNotifications")==="true"),[F,H]=D.useState(localStorage.getItem("notifyProperties")!=="false"),[Z,W]=D.useState(localStorage.getItem("notifyReminders")!=="false"),[q,$]=D.useState({name:"",username:"",role:"secretary"}),[Q,ve]=D.useState(!1);D.useEffect(()=>{(u==null?void 0:u.role)==="admin"&&(C(!0),Ne())},[u]);const Ne=async()=>{var fe,xe;const V=await cc();S(V.gemini_text_config||{apiKey:"",model:"",isValid:!1,error:null}),I(V.gemini_image_config||{apiKey:"",model:"",isValid:!1,error:null}),m(((fe=V.gemini_text_config)==null?void 0:fe.apiKey)||""),v(((xe=V.gemini_image_config)==null?void 0:xe.apiKey)||"")},Fe=async()=>{const V=p.trim(),fe=await nm(V,sn.TEXT_CHAT),xe={apiKey:V,model:fe.model||"",isValid:fe.isValid,error:fe.error};S(xe),await tm("gemini_text_config",xe),fe.isValid?alert(" API       ."):alert(`    API : ${fe.error}`)},ge=async()=>{const V=y.trim();if(!V){alert("  API    .");return}let fe=!1;if(window.aistudio&&window.aistudio.hasSelectedApiKey)try{fe=await window.aistudio.hasSelectedApiKey(),fe||(confirm("      ( Gemini 3 Pro Image)     API      .       ")?(await window.aistudio.openSelectKey(),fe=!0):alert("   API              ."))}catch(Et){console.error("Error with AI Studio API key selection:",Et),alert(`     AI Studio: ${Et.message}.             .`)}const xe=await nm(V,sn.VIRTUAL_STAGING),Ze={apiKey:V,model:xe.model||"",isValid:xe.isValid,error:xe.error};I(Ze),await tm("gemini_image_config",Ze),xe.isValid?alert(" API       ."):alert(`    API : ${xe.error}`)},Ie=async()=>{confirm("         .")&&(localStorage.clear(),window.location.reload())},b=async()=>{if(!q.name||!q.username){alert("       ");return}const V=await hN(q);s(V),$({name:"",username:"",role:"secretary"}),ve(!1),alert("    ")},K=async V=>{if(confirm("      ")){const fe=await pN(V);s(fe)}},U=()=>{const V=!T;E(V),localStorage.setItem("alexaEnabled",String(V))},ne=()=>{const V=!P;z(V),localStorage.setItem("alexaSpeaksNotifications",String(V))},re=()=>{const V=!F;H(V),localStorage.setItem("notifyProperties",String(V))},Ce=()=>{const V=!Z;W(V),localStorage.setItem("notifyReminders",String(V))},he=()=>{const V={properties:localStorage.getItem(ki.PROPERTIES),clients:localStorage.getItem(ki.CLIENTS),tasks:localStorage.getItem(ki.TASKS),commissions:localStorage.getItem(ki.COMMISSIONS),saved_searches:localStorage.getItem("saved_searches"),users:localStorage.getItem(ki.USERS),settings:localStorage.getItem(ki.SETTINGS)},fe=new Blob([JSON.stringify(V)],{type:"application/json"}),xe=URL.createObjectURL(fe),Ze=document.createElement("a");Ze.href=xe,Ze.download=`tehranak-backup-${new Date().toLocaleDateString("fa-IR").replace(/\//g,"-")}.json`,document.body.appendChild(Ze),Ze.click(),document.body.removeChild(Ze)},ue=V=>{var Ze;const fe=(Ze=V.target.files)==null?void 0:Ze[0];if(!fe)return;const xe=new FileReader;xe.onload=Et=>{var Zt;try{const Ue=JSON.parse((Zt=Et.target)==null?void 0:Zt.result);for(const Wt of Object.values(ki))Ue[Wt]&&localStorage.setItem(Wt,Ue[Wt]);Ue.saved_searches&&localStorage.setItem("saved_searches",Ue.saved_searches),alert("    ."),window.location.reload()}catch{alert("  .")}},xe.readAsText(fe)};return e?h.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-end justify-center font-['Vazirmatn']",children:h.jsxs("div",{className:"bg-white dark:bg-[#1E293B] w-full max-w-lg rounded-t-[30px] h-[90%] overflow-y-auto p-6 animate-slide-up",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:" "}),h.jsx("button",{onClick:t,children:h.jsx(At,{className:"text-gray-400"})})]}),h.jsxs("section",{className:"mb-6",children:[h.jsx("h3",{className:"text-xs font-bold text-gray-400 mb-3",children:""}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:()=>i("light"),className:`flex-1 py-3 rounded-xl border font-bold text-xs ${n==="light"?"bg-blue-50 border-blue-500 text-blue-600":"border-gray-200 dark:border-white/10 text-gray-500"}`,children:[h.jsx(Ew,{className:"mx-auto mb-1"})," "]}),h.jsxs("button",{onClick:()=>i("dark"),className:`flex-1 py-3 rounded-xl border font-bold text-xs ${n==="dark"?"bg-slate-700 border-slate-500 text-white":"border-gray-200 dark:border-white/10 text-gray-500"}`,children:[h.jsx(gw,{className:"mx-auto mb-1"})," "]})]})]}),h.jsxs("section",{className:"mb-6 bg-gray-50 dark:bg-white/5 p-4 rounded-2xl",children:[h.jsxs("h3",{className:"text-xs font-bold text-gray-400 mb-3 flex items-center gap-2",children:[h.jsx(Ur,{size:14}),"  "]}),h.jsx(As,{label:"  ",isOn:F,onToggle:re}),h.jsx(As,{label:"   ",isOn:Z,onToggle:Ce})]}),h.jsxs("section",{className:"mb-6 bg-gradient-to-br from-purple-500/10 to-blue-500/10 p-4 rounded-2xl border border-purple-500/20",children:[h.jsx("h3",{className:"text-xs font-bold text-purple-600 dark:text-purple-400 mb-3",children:"  ()"}),h.jsx(As,{label:" ",isOn:T,onToggle:U}),h.jsx(As,{label:"  ",isOn:P,onToggle:ne})]}),h.jsxs("section",{className:"mb-6",children:[h.jsx("h3",{className:"text-xs font-bold text-gray-400 mb-3",children:"  "}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:he,className:"flex-1 py-3 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-xl text-xs font-bold flex items-center justify-center gap-2",children:[h.jsx(Vr,{size:16}),"   "]}),h.jsxs("label",{className:"flex-1 py-3 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-xl text-xs font-bold flex items-center justify-center gap-2 cursor-pointer",children:[h.jsx(Iw,{size:16}),"  ",h.jsx("input",{type:"file",accept:".json",onChange:ue,className:"hidden"})]})]})]}),M&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"my-4 border-t border-dashed border-gray-300 dark:border-white/10"}),h.jsx("span",{className:"bg-red-100 text-red-600 text-[10px] font-bold px-2 py-1 rounded mb-4 inline-block",children:" "}),h.jsxs("section",{className:"mb-6",children:[h.jsxs("h3",{className:"text-xs font-bold text-gray-400 mb-3 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(va,{size:16}),"    "]}),h.jsxs("button",{onClick:()=>ve(!Q),className:"text-blue-500 text-[10px] bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded flex items-center gap-1",children:[h.jsx(Pw,{size:12})," "]})]}),Q&&h.jsxs("div",{className:"bg-gray-100 dark:bg-white/5 p-3 rounded-xl mb-3 animate-slide-up border border-gray-200 dark:border-white/10",children:[h.jsx("input",{type:"text",placeholder:"  (:  )",className:"w-full p-2 rounded-lg text-xs mb-2 bg-white dark:bg-black/20 outline-none text-slate-800 dark:text-white",value:q.name,onChange:V=>$({...q,name:V.target.value})}),h.jsxs("div",{className:"flex gap-2 mb-2",children:[h.jsx("input",{type:"text",placeholder:" ",className:"flex-1 p-2 rounded-lg text-xs bg-white dark:bg-black/20 outline-none text-slate-800 dark:text-white",value:q.username,onChange:V=>$({...q,username:V.target.value})}),h.jsxs("select",{className:"flex-1 p-2 rounded-lg text-xs bg-white dark:bg-black/20 outline-none text-slate-800 dark:text-white",value:q.role,onChange:V=>$({...q,role:V.target.value}),children:[h.jsx("option",{value:"secretary",children:""}),h.jsx("option",{value:"admin",children:""})]})]}),h.jsx("button",{onClick:b,className:"w-full py-2 bg-green-500 text-white rounded-lg text-xs font-bold",children:"  "})]}),h.jsx("div",{className:"space-y-2",children:r.map(V=>h.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-white/5 p-3 rounded-xl border border-gray-100 dark:border-white/5",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-xs ${V.role==="admin"?"bg-blue-500":"bg-purple-500"}`,children:V.name.charAt(0)}),h.jsxs("div",{children:[h.jsx("span",{className:"text-xs font-bold block text-slate-800 dark:text-white",children:V.name}),h.jsx("span",{className:"text-[10px] text-gray-500",children:V.role==="admin"?" ":" / "})]})]}),h.jsxs("div",{className:"flex gap-2",children:[V.lat&&V.lng?h.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${V.lat},${V.lng}`,target:"_blank",className:"text-[10px] bg-green-50 text-green-600 px-2 py-1 rounded flex items-center gap-1 hover:bg-green-100 transition-colors",children:[h.jsx(mi,{size:12})," "]}):h.jsx("span",{className:"text-[10px] text-gray-400 px-2",children:" "}),V.id!==(u==null?void 0:u.id)&&h.jsx("button",{onClick:()=>K(V.id),className:"text-red-500 bg-red-50 dark:bg-red-900/20 p-1.5 rounded-lg hover:bg-red-100",children:h.jsx(Vi,{size:14})})]})]},V.id))})]}),h.jsxs("section",{className:"mb-6 bg-gray-50 dark:bg-white/5 p-4 rounded-2xl",children:[h.jsxs("h3",{className:"text-xs font-bold text-slate-700 dark:text-white mb-2 flex items-center gap-2",children:[h.jsx(_a,{size:16}),"  API  "]}),h.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200 dark:border-white/10",children:[h.jsxs("h4",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 mb-2 flex items-center gap-1",children:[h.jsx(cw,{size:14}),"   ()"]}),h.jsx("input",{type:"password",value:p,onChange:V=>m(V.target.value),className:"w-full p-2 rounded-lg text-xs bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 mb-2 dir-ltr",placeholder:"sk-..."}),h.jsxs("button",{onClick:Fe,className:"w-full py-2 bg-blue-600 text-white rounded-lg text-xs font-bold flex items-center justify-center gap-2",children:[h.jsx(qu,{size:14}),"     "]}),_&&h.jsxs("div",{className:`text-[10px] mt-2 p-2 rounded-lg ${_.isValid?"bg-green-50 dark:bg-green-900/20 text-green-600":"bg-red-50 dark:bg-red-900/20 text-red-600"}`,children:[": ",_.isValid?" ":` : ${_.error}`,h.jsx("br",{}),"  : ",_.model]})]}),h.jsxs("div",{children:[h.jsxs("h4",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 mb-2 flex items-center gap-1",children:[h.jsx(_a,{size:14}),"   (  )"]}),h.jsx("input",{type:"password",value:y,onChange:V=>v(V.target.value),className:"w-full p-2 rounded-lg text-xs bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 mb-2 dir-ltr",placeholder:"sk-..."}),h.jsxs("button",{onClick:ge,className:"w-full py-2 bg-purple-600 text-white rounded-lg text-xs font-bold flex items-center justify-center gap-2",children:[h.jsx(qu,{size:14}),"     "]}),k&&h.jsxs("div",{className:`text-[10px] mt-2 p-2 rounded-lg ${k.isValid?"bg-green-50 dark:bg-green-900/20 text-green-600":"bg-red-50 dark:bg-red-900/20 text-red-600"}`,children:[": ",k.isValid?" ":` : ${k.error}`,h.jsx("br",{}),"  : ",k.model]}),h.jsxs("p",{className:"text-[10px] text-gray-500 mt-2",children:["    ( Gemini 3 Pro Image)      API   . ",h.jsx("a",{href:"https://ai.google.dev/gemini-api/docs/billing",target:"_blank",className:"text-blue-400 underline",children:"   "})]})]})]}),h.jsx("section",{children:h.jsxs("button",{onClick:Ie,className:"w-full py-3 bg-red-50 dark:bg-red-900/20 text-red-600 rounded-xl text-xs font-bold flex items-center justify-center gap-2",children:[h.jsx(Vi,{size:16}),"     "]})})]}),h.jsx("div",{className:"my-4 border-t border-gray-200 dark:border-white/10 pt-4",children:h.jsxs("button",{onClick:f,className:"w-full py-3 bg-gray-100 dark:bg-white/10 text-slate-700 dark:text-white rounded-xl font-bold text-xs flex items-center justify-center gap-2",children:[h.jsx(pw,{size:16}),"   "]})})]})}):null},As=({label:e,isOn:t,onToggle:n})=>h.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-white/5 last:border-0",children:[h.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-white",children:e}),h.jsx("button",{onClick:n,className:`transition-colors ${t?"text-green-500":"text-gray-400"}`,children:t?h.jsx(Nw,{size:28,fill:"currentColor"}):h.jsx(kw,{size:28})})]}),ki={PROPERTIES:"properties",CLIENTS:"clients",TASKS:"tasks",COMMISSIONS:"commissions",SETTINGS:"app_settings",USERS:"users_list"},GN=({onComplete:e})=>{const[t,n]=D.useState({location:!1,camera:!1,microphone:!1,notification:!1}),[i,r]=D.useState(0);D.useEffect(()=>{(async()=>{if("Notification"in window&&Notification.permission==="granted"&&n(m=>({...m,notification:!0})),"permissions"in navigator)try{(await navigator.permissions.query({name:"geolocation"})).state==="granted"&&n(y=>({...y,location:!0}))}catch{}})()},[]);const s=()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(()=>n(p=>({...p,location:!0})),p=>{console.error(p),alert("    .      .")},{enableHighAccuracy:!0}):alert("      .")},u=async p=>{try{const m=p==="camera"?{video:!0}:{audio:!0};(await navigator.mediaDevices.getUserMedia(m)).getTracks().forEach(v=>v.stop()),n(v=>({...v,[p]:!0}))}catch(m){console.error(m),alert(` ${p==="camera"?"":""}  .      .`)}},f=async()=>{if(!("Notification"in window)){alert("     .");return}if(Notification.permission==="denied"){alert("      .        (  )  Notifications   Allow  .");return}try{await Notification.requestPermission()==="granted"?n(m=>({...m,notification:!0})):alert("    .")}catch(p){console.error(p),alert("    .")}};return i===0?h.jsxs("div",{className:"fixed inset-0 z-[9999] bg-slate-50 dark:bg-[#0F172A] flex flex-col items-center justify-center p-6 animate-fade-in font-['Vazirmatn']",children:[h.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-600 to-blue-600 rounded-[30px] flex items-center justify-center shadow-2xl shadow-purple-500/30 mb-8 transform rotate-6",children:h.jsx(C0,{size:48,className:"text-white"})}),h.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-4 text-center",children:"   "}),h.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center max-w-xs leading-7 mb-10",children:"              .     ."}),h.jsxs("button",{onClick:()=>r(1),className:"w-full max-w-xs py-4 bg-slate-900 dark:bg-white text-white dark:text-black rounded-2xl font-bold text-lg shadow-lg hover:scale-105 transition-transform flex items-center justify-center gap-2",children:[h.jsx("span",{children:" "}),h.jsx(sw,{className:"rotate-180"})]})]}):h.jsxs("div",{className:"fixed inset-0 z-[9999] bg-slate-50 dark:bg-[#0F172A] flex flex-col p-6 animate-slide-up font-['Vazirmatn'] overflow-y-auto",children:[h.jsxs("div",{className:"flex-1 max-w-md mx-auto w-full pt-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2 text-center",children:""}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center mb-6",children:"     "}),h.jsxs("div",{className:"space-y-3",children:[h.jsx(bs,{icon:h.jsx(mi,{size:24}),title:" ",desc:"      ",isGranted:t.location,onClick:s,color:"bg-green-500"}),h.jsx(bs,{icon:h.jsx(Kd,{size:24}),title:"",desc:"     ",isGranted:t.camera,onClick:()=>u("camera"),color:"bg-blue-500"}),h.jsx(bs,{icon:h.jsx(Yd,{size:24}),title:"",desc:"       ",isGranted:t.microphone,onClick:()=>u("microphone"),color:"bg-red-500"}),h.jsx(bs,{icon:h.jsx(Ur,{size:24}),title:"",desc:"     ",isGranted:t.notification,onClick:f,color:"bg-yellow-500"})]})]}),h.jsxs("div",{className:"mt-6 max-w-md mx-auto w-full pb-4",children:[h.jsxs("button",{onClick:e,className:`w-full py-4 rounded-2xl font-bold text-lg transition-all shadow-lg flex items-center justify-center gap-2 ${Object.values(t).every(Boolean)?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-green-500/30":"bg-gray-200 dark:bg-white/10 text-gray-500 dark:text-gray-400"}`,children:[h.jsx("span",{children:Object.values(t).every(Boolean)?"  ":"  "}),Object.values(t).every(Boolean)&&h.jsx(li,{})]}),!Object.values(t).every(Boolean)&&h.jsx("button",{onClick:e,className:"w-full py-3 text-xs text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 mt-2",children:"   (     )"})]})]})},bs=({icon:e,title:t,desc:n,isGranted:i,onClick:r,color:s})=>h.jsxs("button",{onClick:r,disabled:i,className:`w-full p-4 rounded-2xl border transition-all duration-300 flex items-center gap-4 text-right ${i?"bg-green-50 dark:bg-green-900/10 border-green-500/30":"bg-white dark:bg-[#1E293B] border-gray-100 dark:border-white/5 shadow-sm hover:scale-[1.02] active:scale-95"}`,children:[h.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white shadow-lg transition-all ${i?"bg-green-500":s}`,children:i?h.jsx(li,{size:24}):e}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("h3",{className:`font-bold text-sm ${i?"text-green-600 dark:text-green-400":"text-slate-800 dark:text-white"}`,children:[t," ",i&&"( )"]}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 leading-relaxed",children:n})]})]}),ON=({isOpen:e,title:t,message:n,onConfirm:i,onCancel:r})=>e?h.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 font-['Vazirmatn']",style:{direction:"rtl"},children:[h.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity animate-fade-in",onClick:r}),h.jsx("div",{className:"bg-white dark:bg-[#1E293B] rounded-[2rem] p-6 w-full max-w-[320px] shadow-2xl relative z-10 border border-gray-200 dark:border-white/10 transform scale-100 transition-all animate-slide-up",children:h.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[h.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center text-red-500 mb-1 shadow-inner",children:h.jsx(tw,{size:32,strokeWidth:2.5})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:t}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 leading-relaxed",children:n})]}),h.jsxs("div",{className:"flex gap-3 w-full mt-2",children:[h.jsx("button",{onClick:r,className:"flex-1 py-3.5 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-300 font-bold text-sm transition-colors hover:bg-gray-200 dark:hover:bg-white/10 active:scale-95",children:""}),h.jsx("button",{onClick:i,className:"flex-1 py-3.5 rounded-xl bg-red-500 text-white font-bold text-sm shadow-lg shadow-red-500/30 transition-colors hover:bg-red-600 active:scale-95",children:"  "})]})]})})]}):null,qN=({onFinish:e})=>{const[t,n]=D.useState(0);return D.useEffect(()=>{const i=setTimeout(()=>{n(1)},2e3),r=setTimeout(()=>{n(2)},2800),s=setTimeout(()=>{n(3)},3500),u=setTimeout(()=>{e()},4e3);return()=>{clearTimeout(i),clearTimeout(r),clearTimeout(s),clearTimeout(u)}},[e]),h.jsxs("div",{className:`fixed inset-0 z-[9999] bg-[#0F172A] flex items-center justify-center overflow-hidden transition-opacity duration-700 ${t===3?"opacity-0":"opacity-100"}`,children:[h.jsx("div",{className:`absolute transition-all duration-700 transform ${t===0?"opacity-100 scale-100":"opacity-0 scale-50"}`,children:h.jsxs("div",{className:"text-5xl md:text-7xl font-extrabold tracking-[0.2em] flex items-center",dir:"ltr",children:[h.jsx("span",{className:"text-gray-400 drop-shadow-2xl",children:"TEHRA"}),h.jsx("span",{className:"text-green-500 drop-shadow-[0_0_15px_rgba(34,197,94,0.6)]",children:"NAK"})]})}),h.jsx("div",{className:`absolute transition-all duration-1000 transform ${t>=1?"opacity-100 scale-100":"opacity-0 scale-150"} ${t===3?"scale-[20]":""}`,children:h.jsxs("div",{className:"relative w-32 h-32 md:w-48 md:h-48 text-green-500",children:[h.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full drop-shadow-[0_0_20px_rgba(34,197,94,0.4)]",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("path",{d:"M10 40 L50 10 L90 40 V90 H10 V40 Z",className:"fill-[#0F172A]"})}),h.jsxs("div",{className:"absolute bottom-[10%] left-[35%] w-[30%] h-[40%] border-2 border-green-500 border-b-0 bg-[#0F172A] flex overflow-visible perspective-500",children:[h.jsx("div",{className:`w-full h-full bg-green-500/20 border-r-2 border-green-500 origin-left transition-transform duration-1000 ease-in-out flex items-center justify-end pr-1 ${t>=2?"[transform:rotateY(-110deg)]":""}`,style:{transformStyle:"preserve-3d"},children:h.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full shadow-[0_0_5px_white]"})}),h.jsx("div",{className:`absolute inset-0 bg-white transition-opacity duration-1000 ${t>=2?"opacity-80 blur-md":"opacity-0"}`})]})]})})]})},jN=()=>{const[e,t]=D.useState(!1),[n,i]=D.useState(null),[r,s]=D.useState(!1),[u,f]=D.useState(!1);D.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0||localStorage.getItem("pwa_install_dismissed"))return;const y=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;s(y);const v=S=>{S.preventDefault(),i(S),t(!0)};window.addEventListener("beforeinstallprompt",v);const _=setTimeout(()=>{/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&!e&&!localStorage.getItem("pwa_install_dismissed")&&t(!0)},3e3);return()=>{window.removeEventListener("beforeinstallprompt",v),clearTimeout(_)}},[]);const p=async()=>{if(n){n.prompt();const{outcome:y}=await n.userChoice;y==="accepted"&&(i(null),t(!1))}else f(!0)},m=()=>{t(!1),localStorage.setItem("pwa_install_dismissed","true")};return e?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:`fixed bottom-24 left-4 right-4 z-40 animate-slide-up transition-all duration-300 ${u?"opacity-0 pointer-events-none":"opacity-100"}`,children:h.jsxs("div",{className:"bg-gradient-to-r from-slate-900 to-slate-800 dark:from-white dark:to-gray-200 text-white dark:text-slate-900 p-4 rounded-2xl shadow-2xl flex items-center justify-between border border-white/10 dark:border-black/5 relative overflow-hidden",children:[h.jsx("div",{className:"absolute -top-10 -right-10 w-24 h-24 bg-purple-500 rounded-full blur-2xl opacity-30"}),h.jsx("div",{className:"absolute -bottom-10 -left-10 w-24 h-24 bg-blue-500 rounded-full blur-2xl opacity-30"}),h.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[h.jsx("div",{className:"w-12 h-12 bg-white/10 dark:bg-black/10 rounded-xl flex items-center justify-center backdrop-blur-sm",children:h.jsx(Eh,{size:24,className:"text-purple-400 dark:text-purple-600"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-sm",children:" "}),h.jsx("p",{className:"text-[10px] opacity-80 mt-0.5 max-w-[180px]",children:"      ."})]})]}),h.jsxs("div",{className:"flex gap-2 relative z-10",children:[h.jsxs("button",{onClick:p,className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-xl text-xs font-bold shadow-lg shadow-purple-500/30 flex items-center gap-1 justify-center",children:[h.jsx(Vr,{size:16}),h.jsx("span",{children:""})]}),h.jsx("button",{onClick:m,className:"bg-white/10 hover:bg-white/20 dark:bg-black/5 dark:hover:bg-black/10 p-2 rounded-xl transition-colors",children:h.jsx(At,{size:16})})]})]})}),u&&h.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>f(!1),children:h.jsxs("div",{className:"bg-white dark:bg-[#1E293B] rounded-3xl p-6 w-full max-w-sm shadow-2xl relative",onClick:y=>y.stopPropagation(),children:[h.jsx("button",{onClick:()=>f(!1),className:"absolute top-4 left-4 text-gray-400",children:h.jsx(At,{size:24})}),h.jsxs("div",{className:"flex flex-col items-center text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900/20 rounded-2xl flex items-center justify-center mb-4",children:r?h.jsx(Tw,{size:32,className:"text-purple-600 dark:text-purple-400"}):h.jsx(Eh,{size:32,className:"text-purple-600 dark:text-purple-400"})}),h.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:n?" ":" "}),r?h.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-4 text-right mt-2",children:[h.jsxs("p",{children:[".  ",h.jsx("span",{className:"font-bold text-blue-500",children:"Share"})," ()      ."]}),h.jsx("p",{children:".        ."}),h.jsxs("p",{children:[".  ",h.jsx("span",{className:"font-bold text-slate-800 dark:text-white border px-1 rounded bg-gray-100 dark:bg-white/10",children:"Add to Home Screen"}),"   ."]}),h.jsxs("p",{children:[".  ",h.jsx("span",{className:"font-bold text-blue-500",children:"Add"}),"      ."]})]}):h.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-4 text-right mt-2",children:[!n&&h.jsx("p",{className:"text-xs text-red-500 mb-2",children:"    .    :"}),h.jsxs("p",{children:[".  ",h.jsx("span",{className:"font-bold",children:" ( )"}),"    ."]}),h.jsxs("p",{children:[".  ",h.jsx("span",{className:"font-bold text-slate-800 dark:text-white border px-1 rounded bg-gray-100 dark:bg-white/10",children:"Install App"}),"  ",h.jsx("span",{className:"font-bold",children:"Add to Home Screen"}),"   ."]}),h.jsxs("p",{children:[".  ",h.jsx("span",{className:"font-bold text-purple-500",children:"Install"}),"  ."]})]}),h.jsx("button",{onClick:()=>f(!1),className:"mt-6 w-full py-3 bg-purple-600 text-white rounded-xl font-bold",children:" "})]})]})})]}):null},ZN=()=>{const[e,t]=D.useState(!0),[n,i]=D.useState($e.HOME),[r,s]=D.useState(localStorage.getItem("theme")||"dark"),[u,f]=D.useState(!1),[p,m]=D.useState({id:"admin-1",name:" ",username:"admin",role:"admin"}),[y,v]=D.useState([]),[_,S]=D.useState(!localStorage.getItem("app_setup_completed")),[k,I]=D.useState([]),[M,C]=D.useState([]),[T,E]=D.useState([]),[P,z]=D.useState([]),[F,H]=D.useState(!1),[Z,W]=D.useState("list"),[q,$]=D.useState(null),[Q,ve]=D.useState(null),[Ne,Fe]=D.useState(null),[ge,Ie]=D.useState(!1),[b,K]=D.useState({query:""}),[U,ne]=D.useState([]),[re,Ce]=D.useState({residential:!0,commercial:!0,clients:!0}),[he,ue]=D.useState({isOpen:!1,title:"",message:"",idToDelete:null,type:"property"}),[V,fe]=D.useState([]),[xe,Ze]=D.useState([]),[Et,Zt]=D.useState(!1);D.useEffect(()=>{Ue();const B=localStorage.getItem("saved_searches");B&&Ze(JSON.parse(B))},[]);const Ue=async()=>{const B=await gN();I(B.properties),C(B.clients),z(B.tasks),E(B.commissions);const X=await Hr();v(X),Wt(B.tasks,B.clients)};D.useEffect(()=>{if("geolocation"in navigator){const B=setInterval(()=>{navigator.geolocation.getCurrentPosition(X=>{mN(p.id,X.coords.latitude,X.coords.longitude),Hr().then(v)},X=>console.log("Location access denied/error"))},6e4);return()=>clearInterval(B)}},[p.id]);const Wt=(B,X)=>{const ae=new Date,Ee=ae.toLocaleDateString("fa-IR"),ke=ae.toLocaleTimeString("fa-IR",{hour:"2-digit",minute:"2-digit"}),ht=B.filter(xi=>xi.date===Ee&&xi.time===ke&&!xi.isCompleted);ht.length>0&&fe(xi=>[...xi,{id:Date.now().toString(),title:" ",body:`  : ${ht[0].title}`,time:ke,isRead:!1}])};D.useEffect(()=>{const B=document.documentElement;r==="dark"?B.classList.add("dark"):B.classList.remove("dark"),localStorage.setItem("theme",r)},[r]),D.useEffect(()=>{if(!b.query||b.query.length<2){ne([]);return}const B=b.query.toLowerCase(),X=k.filter(ae=>{const Ee=ae.category==="residential"&&re.residential,ke=ae.category==="commercial"&&re.commercial;return!Ee&&!ke?!1:(ae.title||"").toLowerCase().includes(B)||(ae.address||"").toLowerCase().includes(B)}).slice(0,4);ne(X)},[b.query,k,re]);const Oi=()=>{f(!1)},ln=(B,X)=>{let ae="",Ee="";switch(X){case"property":ae=" ",Ee="          ( )";break;case"client":ae=" ",Ee="    .";break;case"task":ae=" ",Ee=" ";break;case"commission":ae=" ",Ee="  ";break}ue({isOpen:!0,title:ae,message:Ee,idToDelete:B,type:X})},qi=async()=>{const{idToDelete:B,type:X}=he;if(B){if(X==="property"){const ae=k.find(Ee=>Ee.id===B);ae&&await lN(ae)}else X==="client"?await dN(B):X==="task"?await cN(B):X==="commission"&&await fN(B);Ue(),(Ne==null?void 0:Ne.id)===B&&Fe(null),ue(ae=>({...ae,isOpen:!1}))}},Vn=async B=>{await aN({...B,id:Q==null?void 0:Q.id}),Ue(),$(null),ve(null),i($e.PROPERTIES)},Bn=async B=>{await uN({...B,id:Q==null?void 0:Q.id}),Ue(),$(null),ve(null),i($e.CLIENTS)},ji=async B=>{await Qp({...B,id:Q==null?void 0:Q.id}),Ue(),$(null),ve(null),i($e.TASKS)},yi=async B=>{await em({...B,id:Q==null?void 0:Q.id}),Ue(),$(null),ve(null),i($e.COMMISSION)},Hn=async B=>{const X=T.find(ae=>ae.id===B);X&&(await em({...X,isPaid:!X.isPaid}),Ue())},Jt=(B,X)=>{ve(B),$(X)},vi=()=>{if(!("webkitSpeechRecognition"in window)){alert("      .");return}const B=new window.webkitSpeechRecognition;B.lang="fa-IR",B.onstart=()=>Zt(!0),B.onend=()=>Zt(!1),B.onresult=X=>{const ae=X.results[0][0].transcript;K({...b,query:ae})},B.start()},Zi=()=>{const B=prompt("     :");if(B){const X=[...xe,{id:Date.now().toString(),title:B,filters:b}];Ze(X),localStorage.setItem("saved_searches",JSON.stringify(X))}},J=B=>{K(B.filters)},O=(B,X)=>{X.stopPropagation();const ae=xe.filter(Ee=>Ee.id!==B);Ze(ae),localStorage.setItem("saved_searches",JSON.stringify(ae))},Pe=()=>h.jsxs("div",{className:"space-y-6 animate-slide-up pb-20",children:[h.jsx(BN,{properties:k,onSelectProperty:Fe}),h.jsx(jN,{}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 px-4",children:[h.jsx(Ps,{title:" ",value:k.length,subValue:"",icon:h.jsx(Ou,{}),colorClass:"bg-blue-500 text-blue-600"}),h.jsx(Ps,{title:"",value:M.length,subValue:"",icon:h.jsx(va,{}),colorClass:"bg-purple-500 text-purple-600"}),h.jsx(Ps,{title:"",value:P.filter(B=>!B.isCompleted).length,subValue:" ",icon:h.jsx(Gu,{}),colorClass:"bg-orange-500 text-orange-600"}),h.jsx(Ps,{title:"",value:`${(T.filter(B=>B.isPaid).reduce((B,X)=>B+X.agentShare,0)/1e6).toFixed(0)}M`,subValue:"",icon:h.jsx(ui,{}),colorClass:"bg-emerald-500 text-emerald-600"})]})]}),et=()=>{let B=k;if(b.query){const X=b.query.toLowerCase();B=B.filter(ae=>(ae.title||"").toLowerCase().includes(X)||(ae.address||"").toLowerCase().includes(X))}return h.jsxs("div",{className:"h-full flex flex-col relative pb-20 animate-slide-up",children:[h.jsxs("div",{className:"sticky top-[88px] z-30 bg-slate-50/95 dark:bg-[#0F172A]/95 backdrop-blur-md px-4 py-2 flex items-center justify-between border-b border-gray-200 dark:border-white/5 max-w-lg mx-auto w-full",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>W("list"),className:`p-2 rounded-xl ${Z==="list"?"bg-white shadow text-purple-600":""}`,children:h.jsx(hw,{size:20})}),h.jsx("button",{onClick:()=>W("map"),className:`p-2 rounded-xl ${Z==="map"?"bg-white shadow text-purple-600":""}`,children:h.jsx(S0,{size:20})})]}),h.jsxs("button",{onClick:()=>Ie(!0),className:"flex items-center gap-2 bg-gray-200 dark:bg-white/10 px-3 py-2 rounded-xl text-xs font-bold text-slate-700 dark:text-white",children:[h.jsx(uw,{size:16})," "]})]}),h.jsx("div",{className:"flex-1 overflow-hidden relative",children:Z==="list"?h.jsxs("div",{className:"p-4 space-y-4",children:[B.map(X=>h.jsx(FN,{property:X,onDelete:()=>ln(X.id,"property"),onEdit:()=>Jt(X,X.category==="residential"?"res":"com"),onClick:()=>Fe(X)},X.id)),B.length===0&&h.jsx("p",{className:"text-center text-gray-400 text-sm mt-10",children:"  "})]}):h.jsx("div",{className:"w-full h-full absolute inset-0",children:h.jsx(ly,{properties:B})})})]})},_i=()=>{const B=P.filter(X=>F?!0:!X.isCompleted);return h.jsxs("div",{className:"p-4 pb-20 space-y-3 animate-slide-up",children:[h.jsx("div",{className:"flex justify-end",children:h.jsxs("button",{onClick:()=>H(!F),className:"text-xs text-gray-500 flex items-center gap-2",children:[F?h.jsx(li,{size:14}):h.jsx(Ch,{size:14}),"   "]})}),B.map(X=>h.jsxs("div",{className:"bg-white dark:bg-[#1E293B] p-4 rounded-2xl flex items-center gap-3 shadow-sm",children:[h.jsx("button",{onClick:async()=>{await Qp({...X,isCompleted:!X.isCompleted}),Ue()},className:`w-5 h-5 rounded-full border ${X.isCompleted?"bg-green-500 border-green-500":"border-gray-300"}`}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:`font-bold text-sm text-slate-800 dark:text-white ${X.isCompleted?"line-through text-gray-400":""}`,children:X.title}),h.jsxs("span",{className:"text-xs text-gray-400",children:[X.date," ",X.time]})]}),h.jsx("button",{onClick:()=>Jt(X,"task"),className:"text-blue-500 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:h.jsx(Br,{size:14})}),h.jsx("button",{onClick:()=>ln(X.id,"task"),className:"text-red-500 p-2 bg-red-50 dark:bg-red-900/20 rounded-lg",children:h.jsx(Vi,{size:14})})]},X.id)),B.length===0&&h.jsx("p",{className:"text-center text-gray-400 text-sm mt-10",children:" "})]})},Gn=()=>h.jsxs("div",{className:"p-4 space-y-4 pb-20 animate-slide-up",children:[M.map(B=>h.jsx(UN,{client:B,onDelete:()=>ln(B.id,"client"),onEdit:()=>Jt(B,"client")},B.id)),M.length===0&&h.jsx("p",{className:"text-center text-gray-400 text-sm mt-10",children:"   "})]}),$t=()=>{const B=T.filter(ke=>ke.isPaid).reduce((ke,ht)=>ke+ht.agentShare,0),X=T.filter(ke=>!ke.isPaid).reduce((ke,ht)=>ke+ht.agentShare,0),ae=T.length,Ee=ae>0?(B+X)/ae:0;return h.jsxs("div",{className:"p-4 space-y-4 pb-20 animate-slide-up",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[h.jsxs("div",{className:"bg-emerald-500 text-white p-4 rounded-2xl shadow-lg shadow-emerald-500/20",children:[h.jsx("span",{className:"text-xs opacity-80 block",children:"  "}),h.jsxs("span",{className:"text-lg font-bold block mt-1",children:[(B/1e6).toFixed(1)," M ",h.jsx("span",{className:"text-[10px]",children:""})]})]}),h.jsxs("div",{className:"bg-orange-500 text-white p-4 rounded-2xl shadow-lg shadow-orange-500/20",children:[h.jsx("span",{className:"text-xs opacity-80 block",children:"  "}),h.jsxs("span",{className:"text-lg font-bold block mt-1",children:[(X/1e6).toFixed(1)," M ",h.jsx("span",{className:"text-[10px]",children:""})]})]}),h.jsxs("div",{className:"bg-white dark:bg-[#1E293B] p-3 rounded-xl border border-gray-100 dark:border-white/5 text-center",children:[h.jsx("span",{className:"text-xs text-gray-500 block",children:" "}),h.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:ae})]}),h.jsxs("div",{className:"bg-white dark:bg-[#1E293B] p-3 rounded-xl border border-gray-100 dark:border-white/5 text-center",children:[h.jsx("span",{className:"text-xs text-gray-500 block",children:" "}),h.jsxs("span",{className:"font-bold text-slate-800 dark:text-white",children:[(Ee/1e6).toFixed(1)," M"]})]})]}),T.map(ke=>h.jsxs("div",{className:"bg-white dark:bg-[#1E293B] p-4 rounded-2xl border border-gray-100 dark:border-white/5 shadow-sm",children:[h.jsxs("div",{className:"flex justify-between mb-2",children:[h.jsx("h4",{className:"font-bold text-sm text-slate-800 dark:text-white",children:ke.buyerName}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>Jt(ke,"comm"),className:"text-blue-500",children:h.jsx(Br,{size:16})}),h.jsx("button",{onClick:()=>ln(ke.id,"commission"),className:"text-red-500",children:h.jsx(Vi,{size:16})})]})]}),h.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-2",children:[h.jsxs("span",{children:[" : ",ke.totalCommission.toLocaleString()]}),h.jsxs("button",{onClick:()=>Hn(ke.id),className:`flex items-center gap-1 ${ke.isPaid?"text-green-500":"text-orange-500"}`,children:[ke.isPaid?h.jsx(li,{size:14}):h.jsx(Ch,{size:14}),ke.isPaid?" ":""]})]}),h.jsxs("div",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 p-2 rounded-lg text-center",children:[" : ",ke.agentShare.toLocaleString()," "]})]},ke.id)),T.length===0&&h.jsx("p",{className:"text-center text-gray-400 text-sm mt-10",children:"   "})]})};return _?h.jsx(GN,{onComplete:()=>{localStorage.setItem("app_setup_completed","true"),S(!1)}}):e?h.jsx(qN,{onFinish:()=>t(!1)}):h.jsxs("div",{className:`min-h-screen pb-24 transition-colors duration-300 font-['Vazirmatn'] text-slate-800 dark:text-slate-200 ${r==="dark"?"bg-[#0F172A]":"bg-slate-50"} overflow-x-hidden w-full max-w-lg mx-auto shadow-2xl`,children:[ge&&h.jsxs("div",{className:"fixed inset-0 z-50 bg-white dark:bg-[#0F172A] animate-slide-up max-w-lg mx-auto left-0 right-0 p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:" "}),h.jsx("button",{onClick:()=>Ie(!1),children:h.jsx(At,{className:"text-gray-400"})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",placeholder:" (  ...)",value:b.query,onChange:B=>K({...b,query:B.target.value}),className:"w-full p-4 pl-12 rounded-2xl bg-gray-100 dark:bg-white/5 border border-gray-200 dark:border-white/10 text-slate-800 dark:text-white outline-none"}),h.jsx("button",{onClick:vi,className:`absolute left-3 top-1/2 transform -translate-y-1/2 ${Et?"text-red-500 animate-pulse":"text-gray-400"}`,children:h.jsx(Yd,{size:20})})]}),xe.length>0&&h.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:xe.map(B=>h.jsxs("div",{onClick:()=>J(B),className:"flex items-center gap-2 bg-purple-50 dark:bg-purple-900/20 px-3 py-2 rounded-xl border border-purple-100 dark:border-purple-500/30 flex-shrink-0 cursor-pointer",children:[h.jsx(nw,{size:14,className:"text-purple-500"}),h.jsx("span",{className:"text-xs text-purple-700 dark:text-purple-300",children:B.title}),h.jsx("button",{onClick:X=>O(B.id,X),className:"text-purple-400 hover:text-red-500",children:h.jsx(At,{size:12})})]},B.id))}),h.jsxs("button",{onClick:Zi,className:"text-xs text-blue-500 flex items-center gap-1 mb-2",children:[h.jsx(_w,{size:14}),"   "]}),U.length>0&&h.jsx("div",{className:"bg-white dark:bg-[#1E293B] rounded-2xl shadow-xl border border-gray-200 dark:border-white/10 overflow-hidden",children:U.map(B=>h.jsxs("div",{onClick:()=>{Fe(B),Ie(!1)},className:"p-3 border-b border-gray-100 dark:border-white/5 hover:bg-gray-50 dark:hover:bg-white/5 flex justify-between items-center cursor-pointer",children:[h.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-white",children:B.title}),h.jsx("span",{className:"text-xs text-gray-500",children:B.category==="residential"?"":""})]},B.id))}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>Ce({...re,residential:!re.residential}),className:`flex-1 py-3 rounded-xl text-xs font-bold border ${re.residential?"bg-purple-500 text-white border-purple-500":"bg-transparent border-gray-300 text-gray-500"}`,children:""}),h.jsx("button",{onClick:()=>Ce({...re,commercial:!re.commercial}),className:`flex-1 py-3 rounded-xl text-xs font-bold border ${re.commercial?"bg-blue-500 text-white border-blue-500":"bg-transparent border-gray-300 text-gray-500"}`,children:""}),h.jsx("button",{onClick:()=>Ce({...re,clients:!re.clients}),className:`flex-1 py-3 rounded-xl text-xs font-bold border ${re.clients?"bg-orange-500 text-white border-orange-500":"bg-transparent border-gray-300 text-gray-500"}`,children:""})]})]})]}),Ne&&h.jsx(VN,{property:Ne,onBack:()=>Fe(null),onEdit:B=>Jt(B,B.category==="residential"?"res":"com"),onDelete:B=>ln(B,"property")}),h.jsx(CN,{isExpandedMode:n===$e.HOME,appContext:{properties:k,clients:M,tasks:P,currentUser:null},alexaEnabled:localStorage.getItem("alexaEnabled")==="true",notifications:V,onClearNotifications:()=>fe([])}),h.jsx(bw,{title:n===$e.HOME?` ${(p==null?void 0:p.name)||""}`:"",onSearchClick:()=>Ie(!0),onSettingsClick:()=>f(!0)}),h.jsxs("main",{className:"pt-4 w-full",children:[n===$e.HOME&&Pe(),n===$e.PROPERTIES&&et(),n===$e.CLIENTS&&Gn(),n===$e.TASKS&&_i(),n===$e.COMMISSION&&$t(),n===$e.ADD&&h.jsxs("div",{className:"grid grid-cols-2 gap-4 p-6",children:[h.jsxs("button",{onClick:()=>$("res"),className:"bg-white dark:bg-[#1E293B] p-6 rounded-3xl shadow-lg flex flex-col items-center",children:[h.jsx(Ou,{size:32,className:"text-purple-500"}),h.jsx("span",{className:"font-bold mt-2 text-slate-700 dark:text-white",children:""})]}),h.jsxs("button",{onClick:()=>$("com"),className:"bg-white dark:bg-[#1E293B] p-6 rounded-3xl shadow-lg flex flex-col items-center",children:[h.jsx(ui,{size:32,className:"text-blue-500"}),h.jsx("span",{className:"font-bold mt-2 text-slate-700 dark:text-white",children:""})]}),h.jsxs("button",{onClick:()=>$("client"),className:"bg-white dark:bg-[#1E293B] p-6 rounded-3xl shadow-lg flex flex-col items-center",children:[h.jsx(va,{size:32,className:"text-orange-500"}),h.jsx("span",{className:"font-bold mt-2 text-slate-700 dark:text-white",children:""})]}),h.jsxs("button",{onClick:()=>$("task"),className:"bg-white dark:bg-[#1E293B] p-6 rounded-3xl shadow-lg flex flex-col items-center",children:[h.jsx(Gu,{size:32,className:"text-pink-500"}),h.jsx("span",{className:"font-bold mt-2 text-slate-700 dark:text-white",children:""})]}),h.jsxs("button",{onClick:()=>$("comm"),className:"bg-white dark:bg-[#1E293B] p-6 rounded-3xl shadow-lg flex flex-col items-center col-span-2",children:[h.jsx(ui,{size:32,className:"text-emerald-500"}),h.jsx("span",{className:"font-bold mt-2 text-slate-700 dark:text-white",children:" "})]})]})]}),q&&h.jsxs("div",{className:"fixed inset-0 z-50 bg-white dark:bg-[#0F172A] overflow-y-auto max-w-lg mx-auto left-0 right-0",children:[q==="res"&&h.jsx(MN,{onSubmit:Vn,onCancel:()=>$(null),initialData:Q}),q==="com"&&h.jsx(RN,{onSubmit:Vn,onCancel:()=>$(null),initialData:Q}),q==="client"&&h.jsx(LN,{onSubmit:Bn,onCancel:()=>$(null),initialData:Q}),q==="task"&&h.jsx(zN,{onSubmit:ji,onCancel:()=>$(null),initialData:Q}),q==="comm"&&h.jsx(DN,{onSubmit:yi,onCancel:()=>$(null),initialData:Q})]}),!q&&h.jsx(Mw,{activeTab:n,setActiveTab:i}),h.jsx(HN,{isOpen:u,onClose:()=>f(!1),theme:r,setTheme:s,users:y,setUsers:v,currentUser:p,onLogout:Oi}),h.jsx(ON,{isOpen:he.isOpen,title:he.title,message:he.message,onConfirm:qi,onCancel:()=>ue(B=>({...B,isOpen:!1}))})]})},uy=document.getElementById("root");if(!uy)throw new Error("Could not find root element to mount to");const WN=$l.createRoot(uy);WN.render(h.jsx(mm.StrictMode,{children:h.jsx(ZN,{})}));
